/*! For license information please see bundle.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WebIrys=e():t.WebIrys=e()}(self,(()=>(()=>{var __webpack_modules__={8709:function(t){"use strict";!function(e){function r(t){return parseInt(t)===t}function i(t){if(!r(t.length))return!1;for(var e=0;e<t.length;e++)if(!r(t[e])||t[e]<0||t[e]>255)return!1;return!0}function n(t,e){if(t.buffer&&ArrayBuffer.isView(t)&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!i(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(r(t.length)&&i(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function s(t){return new Uint8Array(t)}function o(t,e,r,i,n){null==i&&null==n||(t=t.slice?t.slice(i,n):Array.prototype.slice.call(t,i,n)),e.set(t,r)}var a,u={toBytes:function(t){var e=[],r=0;for(t=encodeURI(t);r<t.length;){var i=t.charCodeAt(r++);37===i?(e.push(parseInt(t.substr(r,2),16)),r+=2):e.push(i)}return n(e)},fromBytes:function(t){for(var e=[],r=0;r<t.length;){var i=t[r];i<128?(e.push(String.fromCharCode(i)),r++):i>191&&i<224?(e.push(String.fromCharCode((31&i)<<6|63&t[r+1])),r+=2):(e.push(String.fromCharCode((15&i)<<12|(63&t[r+1])<<6|63&t[r+2])),r+=3)}return e.join("")}},h=(a="0123456789abcdef",{toBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},fromBytes:function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];e.push(a[(240&i)>>4]+a[15&i])}return e.join("")}}),c={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],M=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(t){for(var e=[],r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var x=function(t){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(t,!0)}),this._prepare()};x.prototype._prepare=function(){var t=c[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,i=4*(t+1),n=this.key.length/4,s=k(this.key);for(e=0;e<n;e++)r=e>>2,this._Ke[r][e%4]=s[e],this._Kd[t-r][e%4]=s[e];for(var o,a=0,u=n;u<i;){if(o=s[n-1],s[0]^=l[o>>16&255]<<24^l[o>>8&255]<<16^l[255&o]<<8^l[o>>24&255]^f[a]<<24,a+=1,8!=n)for(e=1;e<n;e++)s[e]^=s[e-1];else{for(e=1;e<n/2;e++)s[e]^=s[e-1];for(o=s[n/2-1],s[n/2]^=l[255&o]^l[o>>8&255]<<8^l[o>>16&255]<<16^l[o>>24&255]<<24,e=n/2+1;e<n;e++)s[e]^=s[e-1]}for(e=0;e<n&&u<i;)h=u>>2,d=u%4,this._Ke[h][d]=s[e],this._Kd[t-h][d]=s[e++],u++}for(var h=1;h<t;h++)for(var d=0;d<4;d++)o=this._Kd[h][d],this._Kd[h][d]=M[o>>24&255]^S[o>>16&255]^E[o>>8&255]^A[255&o]},x.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,r=[0,0,0,0],i=k(t),n=0;n<4;n++)i[n]^=this._Ke[0][n];for(var o=1;o<e;o++){for(n=0;n<4;n++)r[n]=p[i[n]>>24&255]^m[i[(n+1)%4]>>16&255]^g[i[(n+2)%4]>>8&255]^y[255&i[(n+3)%4]]^this._Ke[o][n];i=r.slice()}var a,u=s(16);for(n=0;n<4;n++)a=this._Ke[e][n],u[4*n]=255&(l[i[n]>>24&255]^a>>24),u[4*n+1]=255&(l[i[(n+1)%4]>>16&255]^a>>16),u[4*n+2]=255&(l[i[(n+2)%4]>>8&255]^a>>8),u[4*n+3]=255&(l[255&i[(n+3)%4]]^a);return u},x.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,r=[0,0,0,0],i=k(t),n=0;n<4;n++)i[n]^=this._Kd[0][n];for(var o=1;o<e;o++){for(n=0;n<4;n++)r[n]=b[i[n]>>24&255]^w[i[(n+3)%4]>>16&255]^v[i[(n+2)%4]>>8&255]^_[255&i[(n+1)%4]]^this._Kd[o][n];i=r.slice()}var a,u=s(16);for(n=0;n<4;n++)a=this._Kd[e][n],u[4*n]=255&(d[i[n]>>24&255]^a>>24),u[4*n+1]=255&(d[i[(n+3)%4]>>16&255]^a>>16),u[4*n+2]=255&(d[i[(n+2)%4]>>8&255]^a>>8),u[4*n+3]=255&(d[255&i[(n+1)%4]]^a);return u};var T=function(t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(t)};T.prototype.encrypt=function(t){if((t=n(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),i=0;i<t.length;i+=16)o(t,r,0,i,i+16),o(r=this._aes.encrypt(r),e,i);return e},T.prototype.decrypt=function(t){if((t=n(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),i=0;i<t.length;i+=16)o(t,r,0,i,i+16),o(r=this._aes.decrypt(r),e,i);return e};var B=function(t,e){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=s(16);this._lastCipherblock=n(e,!0),this._aes=new x(t)};B.prototype.encrypt=function(t){if((t=n(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),i=0;i<t.length;i+=16){o(t,r,0,i,i+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,e,i)}return e},B.prototype.decrypt=function(t){if((t=n(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),i=0;i<t.length;i+=16){o(t,r,0,i,i+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)e[i+a]=r[a]^this._lastCipherblock[a];o(t,this._lastCipherblock,0,i,i+16)}return e};var I=function(t,e,r){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 size)")}else e=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=n(e,!0),this._aes=new x(t)};I.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,r=n(t,!0),i=0;i<r.length;i+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[i+s]^=e[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r},I.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,r=n(t,!0),i=0;i<r.length;i+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[i+s]^=e[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(t,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r};var R=function(t,e){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=s(16);this._lastPrecipher=n(e,!0),this._lastPrecipherIndex=16,this._aes=new x(t)};R.prototype.encrypt=function(t){for(var e=n(t,!0),r=0;r<e.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},R.prototype.decrypt=R.prototype.encrypt;var P=function(t){if(!(this instanceof P))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"==typeof t?(this._counter=s(16),this.setValue(t)):this.setBytes(t)};P.prototype.setValue=function(t){if("number"!=typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");for(var e=15;e>=0;--e)this._counter[e]=t%256,t>>=8},P.prototype.setBytes=function(t){if(16!=(t=n(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},P.prototype.increment=function(){for(var t=15;t>=0;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var C=function(t,e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",e instanceof P||(e=new P(e)),this._counter=e,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(t)};C.prototype.encrypt=function(t){for(var e=n(t,!0),r=0;r<e.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[r]^=this._remainingCounter[this._remainingCounterIndex++];return e},C.prototype.decrypt=C.prototype.encrypt;var O={AES:x,Counter:P,ModeOfOperation:{ecb:T,cbc:B,cfb:I,ofb:R,ctr:C},utils:{hex:h,utf8:u},padding:{pkcs7:{pad:function(t){var e=16-(t=n(t,!0)).length%16,r=s(t.length+e);o(t,r);for(var i=t.length;i<r.length;i++)r[i]=e;return r},strip:function(t){if((t=n(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var r=t.length-e,i=0;i<e;i++)if(t[r+i]!==e)throw new Error("PKCS#7 invalid padding byte");var a=s(r);return o(t,a,0,0,r),a}}},_arrayTest:{coerceArray:n,createArray:s,copyArray:o}};t.exports=O}()},5247:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyType=void 0,(r=e.KeyType||(e.KeyType={}))[r.ED25519=0]="ED25519"},58:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var i=r(5247);Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return i.KeyType}});var n=r(5362);Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return n.KeyPair}});var s=r(5081);Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(5781);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},5362:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPair=void 0;const i=r(4054),n=r(5081);class s extends i.KeyPairBase{static fromRandom(t){if("ED25519"===t.toUpperCase())return n.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${t}`)}static fromString(t){const e=t.split(":");if(1===e.length)return new n.KeyPairEd25519(e[0]);if(2===e.length){if("ED25519"===e[0].toUpperCase())return new n.KeyPairEd25519(e[1]);throw new Error(`Unknown curve: ${e[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}e.KeyPair=s},4054:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairBase=void 0,e.KeyPairBase=class{}},5081:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=void 0;const n=r(5532),s=i(r(780)),o=r(5247),a=r(4054),u=r(5781);class h extends a.KeyPairBase{constructor(t){super();const e=s.default.sign.keyPair.fromSecretKey((0,n.baseDecode)(t));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=s.default.sign.keyPair();return new h((0,n.baseEncode)(t.secretKey))}sign(t){return{signature:s.default.sign.detached(t,(0,n.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=h},5781:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=void 0;const n=r(740),s=r(5532),o=i(r(780)),a=r(5247);function u(t){if("ed25519"===t.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${t}`)}class h extends n.Assignable{static from(t){return"string"==typeof t?h.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new h({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(e[0])});if(2===e.length)return new h({keyType:u(e[0]),data:(0,s.baseDecode)(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(t){if(t===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${t}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(t,e){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(t,e,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}e.PublicKey=h},2599:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;const n=r(58),s=r(4425);class o extends s.KeyStore{constructor(t=window.localStorage,e="near-api-js:keystore:"){super(),this.localStorage=t,this.prefix=e}setKey(t,e,r){return i(this,void 0,void 0,(function*(){this.localStorage.setItem(this.storageKeyForSecretKey(t,e),r.toString())}))}getKey(t,e){return i(this,void 0,void 0,(function*(){const r=this.localStorage.getItem(this.storageKeyForSecretKey(t,e));return r?n.KeyPair.fromString(r):null}))}removeKey(t,e){return i(this,void 0,void 0,(function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(t,e))}))}clear(){return i(this,void 0,void 0,(function*(){for(const t of this.storageKeys())t.startsWith(this.prefix)&&this.localStorage.removeItem(t)}))}getNetworks(){return i(this,void 0,void 0,(function*(){const t=new Set;for(const e of this.storageKeys())if(e.startsWith(this.prefix)){const r=e.substring(this.prefix.length).split(":");t.add(r[1])}return Array.from(t.values())}))}getAccounts(t){return i(this,void 0,void 0,(function*(){const e=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const i=r.substring(this.prefix.length).split(":");i[1]===t&&e.push(i[0])}return e}))}storageKeyForSecretKey(t,e){return`${this.prefix}${e}:${t}`}*storageKeys(){for(let t=0;t<this.localStorage.length;t++)yield this.localStorage.key(t)}}e.BrowserLocalStorageKeyStore=o},3508:(t,e,r)=>{"use strict";e.X=void 0;var i=r(2599);Object.defineProperty(e,"X",{enumerable:!0,get:function(){return i.BrowserLocalStorageKeyStore}})},6295:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;const n=r(58),s=r(1571);class o extends s.KeyStore{constructor(){super(),this.keys={}}setKey(t,e,r){return i(this,void 0,void 0,(function*(){this.keys[`${e}:${t}`]=r.toString()}))}getKey(t,e){return i(this,void 0,void 0,(function*(){const r=this.keys[`${e}:${t}`];return r?n.KeyPair.fromString(r):null}))}removeKey(t,e){return i(this,void 0,void 0,(function*(){delete this.keys[`${e}:${t}`]}))}clear(){return i(this,void 0,void 0,(function*(){this.keys={}}))}getNetworks(){return i(this,void 0,void 0,(function*(){const t=new Set;return Object.keys(this.keys).forEach((e=>{const r=e.split(":");t.add(r[1])})),Array.from(t.values())}))}getAccounts(t){return i(this,void 0,void 0,(function*(){const e=new Array;return Object.keys(this.keys).forEach((r=>{const i=r.split(":");i[i.length-1]===t&&e.push(i.slice(0,i.length-1).join(":"))})),e}))}toString(){return"InMemoryKeyStore"}}e.InMemoryKeyStore=o},4425:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var i=r(6295);Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return i.InMemoryKeyStore}});var n=r(1571);Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});var s=r(1828);Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return s.MergeKeyStore}})},1571:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0,e.KeyStore=class{}},1828:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;const n=r(1571);class s extends n.KeyStore{constructor(t,e={writeKeyStoreIndex:0}){super(),this.options=e,this.keyStores=t}setKey(t,e,r){return i(this,void 0,void 0,(function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(t,e,r)}))}getKey(t,e){return i(this,void 0,void 0,(function*(){for(const r of this.keyStores){const i=yield r.getKey(t,e);if(i)return i}return null}))}removeKey(t,e){return i(this,void 0,void 0,(function*(){for(const r of this.keyStores)yield r.removeKey(t,e)}))}clear(){return i(this,void 0,void 0,(function*(){for(const t of this.keyStores)yield t.clear()}))}getNetworks(){return i(this,void 0,void 0,(function*(){const t=new Set;for(const e of this.keyStores)for(const r of yield e.getNetworks())t.add(r);return Array.from(t)}))}getAccounts(t){return i(this,void 0,void 0,(function*(){const e=new Set;for(const r of this.keyStores)for(const i of yield r.getAccounts(t))e.add(i);return Array.from(e)}))}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}e.MergeKeyStore=s},5594:(t,e,r)=>{"use strict";var i=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.actionCreators=e.stringifyJsonOrBytes=void 0;const n=r(8207);function s(t){return void 0!==t.byteLength&&t.byteLength===t.length?t:i.from(JSON.stringify(t))}e.stringifyJsonOrBytes=s,e.actionCreators={addKey:function(t,e){return new n.Action({addKey:new n.AddKey({publicKey:t,accessKey:e})})},createAccount:function(){return new n.Action({createAccount:new n.CreateAccount({})})},deleteAccount:function(t){return new n.Action({deleteAccount:new n.DeleteAccount({beneficiaryId:t})})},deleteKey:function(t){return new n.Action({deleteKey:new n.DeleteKey({publicKey:t})})},deployContract:function(t){return new n.Action({deployContract:new n.DeployContract({code:t})})},fullAccessKey:function(){return new n.AccessKey({permission:new n.AccessKeyPermission({fullAccess:new n.FullAccessPermission({})})})},functionCall:function(t,e,r,i,o=s,a=!1){return a?new n.Action({functionCall:new n.FunctionCall({methodName:t,args:e,gas:r,deposit:i})}):new n.Action({functionCall:new n.FunctionCall({methodName:t,args:o(e),gas:r,deposit:i})})},functionCallAccessKey:function(t,e,r){return new n.AccessKey({permission:new n.AccessKeyPermission({functionCall:new n.FunctionCallPermission({receiverId:t,allowance:r,methodNames:e})})})},signedDelegate:function({delegateAction:t,signature:e}){return new n.Action({signedDelegate:new n.SignedDelegate({delegateAction:t,signature:e})})},stake:function(t,e){return new n.Action({stake:new n.Stake({stake:t,publicKey:e})})},transfer:function(t){return new n.Action({transfer:new n.Transfer({deposit:t})})}}},8207:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.SignedDelegate=e.DeleteAccount=e.DeleteKey=e.AddKey=e.Stake=e.Transfer=e.FunctionCall=e.DeployContract=e.CreateAccount=e.IAction=e.AccessKey=e.AccessKeyPermission=e.FullAccessPermission=e.FunctionCallPermission=void 0;const i=r(862);class n{constructor(t){if(1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((e=>{this[e]=t[e],this.enum=e}))}}class s extends i.Assignable{}e.FunctionCallPermission=s;class o extends i.Assignable{}e.FullAccessPermission=o,e.AccessKeyPermission=class extends n{};class a extends i.Assignable{}e.AccessKey=a;class u extends i.Assignable{}e.IAction=u,e.CreateAccount=class extends u{},e.DeployContract=class extends u{},e.FunctionCall=class extends u{},e.Transfer=class extends u{},e.Stake=class extends u{},e.AddKey=class extends u{},e.DeleteKey=class extends u{},e.DeleteAccount=class extends u{},e.SignedDelegate=class extends u{},e.Action=class extends n{}},5311:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTransaction=void 0;const i=r(990);e.createTransaction=function(t,e,r,n,s,o){return new i.Transaction({signerId:t,publicKey:e,nonce:n,receiverId:r,actions:s,blockHash:o})}},288:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildDelegateAction=e.DelegateAction=void 0;const i=r(862);class n extends i.Assignable{}e.DelegateAction=n,e.buildDelegateAction=function({actions:t,maxBlockHeight:e,nonce:r,publicKey:i,receiverId:s,senderId:o}){return new n({senderId:o,receiverId:s,actions:t,nonce:r,maxBlockHeight:e,publicKey:i})}},8652:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(5594),e),n(r(8207),e),n(r(5311),e),n(r(288),e),n(r(990),e),n(r(6671),e),n(r(7556),e)},9656:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegateActionPrefix=void 0;const i=r(862),n=Math.pow(2,30);class s extends i.Assignable{}class o extends s{constructor(t){super({prefix:n+t})}}e.DelegateActionPrefix=class extends o{constructor(){super(366)}}},990:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const i=r(9990),n=r(862),s=r(5532),o=r(8207),a=r(288),u=r(9656),h=r(7556);function c(t){return(0,s.serialize)(e.SCHEMA,t)}function f(t){return(0,s.deserialize)(e.SCHEMA,d,t)}function l(t){return(0,s.deserialize)(e.SCHEMA,p,t)}e.encodeDelegateAction=function(t){return new Uint8Array([...(0,s.serialize)(e.SCHEMA,new u.DelegateActionPrefix),...(0,s.serialize)(e.SCHEMA,t)])},e.encodeSignedDelegate=function(t){return(0,s.serialize)(e.SCHEMA,t)},e.encodeTransaction=c,e.decodeTransaction=f,e.decodeSignedTransaction=l;class d extends n.Assignable{encode(){return c(this)}static decode(t){return f(t)}}e.Transaction=d;class p extends n.Assignable{encode(){return c(this)}static decode(t){return l(t)}}e.SignedTransaction=p,e.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[p,{kind:"struct",fields:[["transaction",d],["signature",h.Signature]]}],[d,{kind:"struct",fields:[["signerId","string"],["publicKey",i.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[o.Action]]]}],[i.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[o.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",o.AccessKeyPermission]]}],[o.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",o.FunctionCallPermission],["fullAccess",o.FullAccessPermission]]}],[o.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[o.FullAccessPermission,{kind:"struct",fields:[]}],[o.Action,{kind:"enum",field:"enum",values:[["createAccount",o.CreateAccount],["deployContract",o.DeployContract],["functionCall",o.FunctionCall],["transfer",o.Transfer],["stake",o.Stake],["addKey",o.AddKey],["deleteKey",o.DeleteKey],["deleteAccount",o.DeleteAccount],["signedDelegate",o.SignedDelegate]]}],[o.CreateAccount,{kind:"struct",fields:[]}],[o.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[o.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[o.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[o.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",i.PublicKey]]}],[o.AddKey,{kind:"struct",fields:[["publicKey",i.PublicKey],["accessKey",o.AccessKey]]}],[o.DeleteKey,{kind:"struct",fields:[["publicKey",i.PublicKey]]}],[o.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[a.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[o.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",i.PublicKey]]}],[u.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[o.SignedDelegate,{kind:"struct",fields:[["delegateAction",a.DelegateAction],["signature",h.Signature]]}]])},6671:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.signDelegateAction=e.signTransaction=void 0;const s=n(r(2023)),o=r(8207),a=r(5311),u=r(990),h=r(7556);function c(t,e,r,n){return i(this,void 0,void 0,(function*(){const i=(0,u.encodeTransaction)(t),o=new Uint8Array(s.default.sha256.array(i)),a=yield e.signMessage(i,r,n);return[o,new u.SignedTransaction({transaction:t,signature:new h.Signature({keyType:t.publicKey.keyType,data:a.signature})})]}))}e.signTransaction=function(...t){return i(this,void 0,void 0,(function*(){if(t[0].constructor===u.Transaction){const[e,r,i,n]=t;return c(e,r,i,n)}{const[e,r,i,n,s,o,u]=t,h=yield s.getPublicKey(o,u);return c((0,a.createTransaction)(o,h,e,r,i,n),s,o,u)}}))},e.signDelegateAction=function({delegateAction:t,signer:e}){return i(this,void 0,void 0,(function*(){const r=(0,u.encodeDelegateAction)(t),i=yield e.sign(r),n=new o.SignedDelegate({delegateAction:t,signature:new h.Signature({keyType:t.publicKey.keyType,data:i})});return{hash:new Uint8Array(s.default.sha256.array(r)),signedDelegateAction:n}}))}},7556:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signature=void 0;const i=r(862);class n extends i.Assignable{}e.Signature=n},7545:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyType=void 0,(r=e.KeyType||(e.KeyType={}))[r.ED25519=0]="ED25519"},9990:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var i=r(7545);Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return i.KeyType}});var n=r(4307);Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return n.KeyPair}});var s=r(1701);Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(4945);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},4307:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPair=void 0;const i=r(4249),n=r(1701);class s extends i.KeyPairBase{static fromRandom(t){if("ED25519"===t.toUpperCase())return n.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${t}`)}static fromString(t){const e=t.split(":");if(1===e.length)return new n.KeyPairEd25519(e[0]);if(2===e.length){if("ED25519"===e[0].toUpperCase())return new n.KeyPairEd25519(e[1]);throw new Error(`Unknown curve: ${e[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}e.KeyPair=s},4249:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairBase=void 0,e.KeyPairBase=class{}},1701:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=void 0;const n=r(5532),s=i(r(780)),o=r(7545),a=r(4249),u=r(4945);class h extends a.KeyPairBase{constructor(t){super();const e=s.default.sign.keyPair.fromSecretKey((0,n.baseDecode)(t));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=s.default.sign.keyPair();return new h((0,n.baseEncode)(t.secretKey))}sign(t){return{signature:s.default.sign.detached(t,(0,n.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=h},4945:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=void 0;const n=r(862),s=r(5532),o=i(r(780)),a=r(7545);function u(t){if("ed25519"===t.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${t}`)}class h extends n.Assignable{static from(t){return"string"==typeof t?h.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new h({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(e[0])});if(2===e.length)return new h({keyType:u(e[0]),data:(0,s.baseDecode)(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(t){if(t===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${t}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(t,e){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(t,e,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}e.PublicKey=h},381:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=void 0,e.Assignable=class{constructor(t){Object.keys(t).map((e=>{this[e]=t[e]}))}}},77:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=r;class i extends Error{constructor(t,e,r){super(`Expected ${e} for '${t}' argument, but got '${JSON.stringify(r)}'`)}}e.ArgumentTypeError=i;class n extends Error{constructor(t,e,r){super(t),this.type=e||"UntypedError",this.context=r}}e.TypedError=n,e.ErrorContext=class{constructor(t){this.transactionHash=t}}},862:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(381),e),n(r(77),e),n(r(3223),e)},3223:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var i=r(8184);Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return i.IdType}});var n=r(121);Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})},8184:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.IdType=void 0,(r=e.IdType||(e.IdType={})).Transaction="transaction",r.Receipt="receipt"},121:(t,e)=>{"use strict";var r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,(i=e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})).Unknown="Unknown",i.Pending="Pending",i.Failure="Failure",(r=e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={})).NotStarted="NotStarted",r.Started="Started",r.Failure="Failure"},7981:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=void 0,e.Assignable=class{constructor(t){Object.keys(t).map((e=>{this[e]=t[e]}))}}},2482:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=r;class i extends Error{constructor(t,e,r){super(`Expected ${e} for '${t}' argument, but got '${JSON.stringify(r)}'`)}}e.ArgumentTypeError=i;class n extends Error{constructor(t,e,r){super(t),this.type=e||"UntypedError",this.context=r}}e.TypedError=n,e.ErrorContext=class{constructor(t){this.transactionHash=t}}},740:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(7981),e),n(r(2482),e),n(r(5331),e)},5331:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var i=r(1866);Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return i.IdType}});var n=r(7287);Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})},1866:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.IdType=void 0,(r=e.IdType||(e.IdType={})).Transaction="transaction",r.Receipt="receipt"},7287:(t,e)=>{"use strict";var r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,(i=e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})).Unknown="Unknown",i.Pending="Pending",i.Failure="Failure",(r=e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={})).NotStarted="NotStarted",r.Started="Started",r.Failure="Failure"},9187:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function i(...t){const e=(t,e)=>r=>t(e(r));return{encode:Array.from(t).reverse().reduce(((t,r)=>t?e(t,r.encode):r.encode),void 0),decode:t.reduce(((t,r)=>t?e(t,r.decode):r.decode),void 0)}}function n(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map((e=>{if(r(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map((e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const r=t.indexOf(e);if(-1===r)throw new Error(`Unknown letter: "${e}". Allowed: ${t}`);return r}))}}}function s(t=""){if("string"!=typeof t)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(t)}}}function o(t,e="="){if(r(t),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let i=r.length;if(i*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;i>0&&r[i-1]===e;i--)if(!((i-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,i)}}}function a(t){if("function"!=typeof t)throw new Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function u(t,e,i){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(i<2)throw new Error(`convertRadix: wrong to=${i}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0;const s=[],o=Array.from(t);for(o.forEach((t=>{if(r(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)}));;){let t=0,r=!0;for(let s=n;s<o.length;s++){const a=o[s],u=e*t+a;if(!Number.isSafeInteger(u)||e*t/e!==t||u-a!=e*t)throw new Error("convertRadix: carry overflow");t=u%i;const h=Math.floor(u/i);if(o[s]=h,!Number.isSafeInteger(h)||h*i+t!==u)throw new Error("convertRadix: carry overflow");r&&(h?r=!1:n=s)}if(s.push(t),r)break}for(let e=0;e<t.length-1&&0===t[e];e++)s.push(0);return s.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=r;const h=(t,e)=>e?h(e,t%e):t,c=(t,e)=>t+(e-h(t,e));function f(t,e,i,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(i<=0||i>32)throw new Error(`convertRadix2: wrong to=${i}`);if(c(e,i)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${i} carryBits=${c(e,i)}`);let s=0,o=0;const a=2**i-1,u=[];for(const n of t){if(r(n),n>=2**e)throw new Error(`convertRadix2: invalid data word=${n} from=${e}`);if(s=s<<e|n,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=i;o-=i)u.push((s>>o-i&a)>>>0);s&=2**o-1}if(s=s<<i-o&a,!n&&o>=e)throw new Error("Excess padding");if(!n&&s)throw new Error(`Non-zero padding: ${s}`);return n&&o>0&&u.push(s>>>0),u}function l(t){return r(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(e,t,256))}}}function d(t,e=!1){if(r(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(c(8,t)>32||c(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return f(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(f(r,t,8,e))}}}function p(t){if("function"!=typeof t)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}function m(t,e){if(r(t),"function"!=typeof e)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const i=e(r).slice(0,t),n=new Uint8Array(r.length+t);return n.set(r),n.set(i,r.length),n},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const i=r.slice(0,-t),n=e(i).slice(0,t),s=r.slice(-t);for(let e=0;e<t;e++)if(n[e]!==s[e])throw new Error("Invalid checksum");return i}}}e.utils={alphabet:n,chain:i,checksum:m,radix:l,radix2:d,join:s,padding:o},e.base16=i(d(4),n("0123456789ABCDEF"),s("")),e.base32=i(d(5),n("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32hex=i(d(5),n("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32crockford=i(d(5),n("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),a((t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=i(d(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64url=i(d(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s("")),e.base64urlnopad=i(d(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const g=t=>i(l(58),n(t),s(""));e.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const y=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let r="";for(let i=0;i<t.length;i+=8){const n=t.subarray(i,i+8);r+=e.base58.encode(n).padStart(y[n.length],"1")}return r},decode(t){let r=[];for(let i=0;i<t.length;i+=11){const n=t.slice(i,i+11),s=y.indexOf(n.length),o=e.base58.decode(n);for(let t=0;t<o.length-s;t++)if(0!==o[t])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(r)}},e.base58check=t=>i(m(4,(e=>t(t(e)))),e.base58);const b=i(n("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),w=[996825010,642813549,513874426,1027748829,705979059];function v(t){const e=t>>25;let r=(33554431&t)<<5;for(let t=0;t<w.length;t++)1==(e>>t&1)&&(r^=w[t]);return r}function _(t,e,r=1){const i=t.length;let n=1;for(let e=0;e<i;e++){const r=t.charCodeAt(e);if(r<33||r>126)throw new Error(`Invalid prefix (${t})`);n=v(n)^r>>5}n=v(n);for(let e=0;e<i;e++)n=v(n)^31&t.charCodeAt(e);for(let t of e)n=v(n)^t;for(let t=0;t<6;t++)n=v(n);return n^=r,b.encode(f([n%2**30],30,5,!1))}function M(t){const e="bech32"===t?1:734539939,r=d(5),i=r.decode,n=r.encode,s=p(i);function o(t,r=90){if("string"!=typeof t)throw new Error("bech32.decode input should be string, not "+typeof t);if(t.length<8||!1!==r&&t.length>r)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${r})`);const i=t.toLowerCase();if(t!==i&&t!==t.toUpperCase())throw new Error("String must be lowercase or uppercase");const n=(t=i).lastIndexOf("1");if(0===n||-1===n)throw new Error('Letter "1" must be present between prefix and data only');const s=t.slice(0,n),o=t.slice(n+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(o).slice(0,-6),u=_(s,a,e);if(!o.endsWith(u))throw new Error(`Invalid checksum in ${t}: expected "${u}"`);return{prefix:s,words:a}}return{encode:function(t,r,i=90){if("string"!=typeof t)throw new Error("bech32.encode prefix should be string, not "+typeof t);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const n=t.length+7+r.length;if(!1!==i&&n>i)throw new TypeError(`Length ${n} exceeds limit ${i}`);const s=t.toLowerCase(),o=_(s,r,e);return`${s}1${b.encode(r)}${o}`},decode:o,decodeToBytes:function(t){const{prefix:e,words:r}=o(t,!1);return{prefix:e,words:r,bytes:i(r)}},decodeUnsafe:p(o),fromWords:i,fromWordsUnsafe:s,toWords:n}}e.bech32=M("bech32"),e.bech32m=M("bech32m"),e.utf8={encode:t=>(new TextDecoder).decode(t),decode:t=>(new TextEncoder).encode(t)},e.hex=i(d(4),n("0123456789abcdef"),s(""),a((t=>{if("string"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})));const S={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},E="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";e.bytesToString=(t,e)=>{if("string"!=typeof t||!S.hasOwnProperty(t))throw new TypeError(E);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return S[t].encode(e)},e.str=e.bytesToString,e.stringToBytes=(t,e)=>{if(!S.hasOwnProperty(t))throw new TypeError(E);if("string"!=typeof e)throw new TypeError("stringToBytes() expects string");return S[t].decode(e)},e.bytes=e.stringToBytes},7286:(t,e,r)=>{"use strict";e.Z1=void 0;r(819);const i=r(9705),n=(r(3662),r(1014));r(7443),r(9187);function s(t){if("string"!=typeof t)throw new TypeError("Invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function o(t){const e=s(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}e.Z1=function(t,e=""){return(0,i.pbkdf2)(n.sha512,o(t).nfkd,(t=>s(`mnemonic${t}`))(e),{c:2048,dkLen:64})}},819:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function i(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)}function n(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function s(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){n(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=r,e.bool=i,e.bytes=n,e.hash=s,e.exists=o,e.output=a;const u={number:r,bool:i,bytes:n,hash:s,exists:o,output:a};e.default=u},1464:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const i=r(819),n=r(7443);class s extends n.Hash{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,n.createView)(this.buffer)}update(t){i.default.exists(this);const{view:e,buffer:r,blockLen:s}=this,o=(t=(0,n.toBytes)(t)).length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a!==s)r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=(0,n.createView)(t);for(;s<=o-i;i+=s)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){i.default.exists(this),i.default.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let t=a;t<s;t++)e[t]=0;!function(t,e,r,i){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),u=i?4:0,h=i?0:4;t.setUint32(e+u,o,i),t.setUint32(e+h,a,i)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,n.createView)(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=h/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)u.setUint32(4*t,f[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=n,t.destroyed=s,i%e&&t.buffer.set(r),t}}e.SHA2=s},905:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const r=BigInt(2**32-1),i=BigInt(32);function n(t,e=!1){return e?{h:Number(t&r),l:Number(t>>i&r)}:{h:0|Number(t>>i&r),l:0|Number(t&r)}}function s(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:a}=n(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}function o(t,e,r,i){const n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:0|n}}e.fromBig=n,e.split=s,e.toBig=(t,e)=>BigInt(t>>>0)<<i|BigInt(e>>>0),e.add=o;const a={fromBig:n,split:s,toBig:e.toBig,shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:o,add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,i)=>e+r+i+(t/2**32|0)|0,add4L:(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),add4H:(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0,add5H:(t,e,r,i,n,s)=>e+r+i+n+s+(t/2**32|0)|0,add5L:(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0)};e.default=a},8939:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},5116:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const i=r(819),n=r(7443);class s extends n.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,i.default.hash(t);const r=(0,n.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){return i.default.exists(this),this.iHash.update(t),this}digestInto(t){i.default.exists(this),i.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return t.finished=i,t.destroyed=n,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new s(t,e).update(r).digest(),e.hmac.create=(t,e)=>new s(t,e)},9705:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const i=r(819),n=r(5116),s=r(7443);function o(t,e,r,o){i.default.hash(t);const a=(0,s.checkOpts)({dkLen:32,asyncTick:10},o),{c:u,dkLen:h,asyncTick:c}=a;if(i.default.number(u),i.default.number(h),i.default.number(c),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=(0,s.toBytes)(e),l=(0,s.toBytes)(r),d=new Uint8Array(h),p=n.hmac.create(t,f),m=p._cloneInto().update(l);return{c:u,dkLen:h,asyncTick:c,DK:d,PRF:p,PRFSalt:m}}function a(t,e,r,i,n){return t.destroy(),e.destroy(),i&&i.destroy(),n.fill(0),r}e.pbkdf2=function(t,e,r,i){const{c:n,dkLen:u,DK:h,PRF:c,PRFSalt:f}=o(t,e,r,i);let l;const d=new Uint8Array(4),p=(0,s.createView)(d),m=new Uint8Array(c.outputLen);for(let t=1,e=0;e<u;t++,e+=c.outputLen){const r=h.subarray(e,e+c.outputLen);p.setInt32(0,t,!1),(l=f._cloneInto(l)).update(d).digestInto(m),r.set(m.subarray(0,r.length));for(let t=1;t<n;t++){c._cloneInto(l).update(m).digestInto(m);for(let t=0;t<r.length;t++)r[t]^=m[t]}}return a(c,f,h,l,m)},e.pbkdf2Async=async function(t,e,r,i){const{c:n,dkLen:u,asyncTick:h,DK:c,PRF:f,PRFSalt:l}=o(t,e,r,i);let d;const p=new Uint8Array(4),m=(0,s.createView)(p),g=new Uint8Array(f.outputLen);for(let t=1,e=0;e<u;t++,e+=f.outputLen){const r=c.subarray(e,e+f.outputLen);m.setInt32(0,t,!1),(d=l._cloneInto(d)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,s.asyncLoop)(n-1,h,(t=>{f._cloneInto(d).update(g).digestInto(g);for(let t=0;t<r.length;t++)r[t]^=g[t]}))}return a(f,l,c,d,g)}},3662:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const i=r(1464),n=r(7443),s=(t,e,r)=>t&e^t&r^e&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class h extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[t,e,r,i,n,s,o,a]}set(t,e,r,i,n,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],i=(0,n.rotr)(e,7)^(0,n.rotr)(e,18)^e>>>3,s=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;u[t]=s+u[t-7]+i+u[t-16]|0}let{A:r,B:i,C:a,D:h,E:c,F:f,G:l,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,n.rotr)(c,6)^(0,n.rotr)(c,11)^(0,n.rotr)(c,25))+((p=c)&f^~p&l)+o[t]+u[t]|0,m=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+s(r,i,a)|0;d=l,l=f,f=c,c=h+e|0,h=a,a=i,i=r,r=e+m|0}var p;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,h=h+this.D|0,c=c+this.E|0,f=f+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,a,h,c,f,l,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends h{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,n.wrapConstructor)((()=>new h)),e.sha224=(0,n.wrapConstructor)((()=>new c))},1014:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha384=e.sha512_256=e.sha512_224=e.sha512=e.SHA512=void 0;const i=r(1464),n=r(905),s=r(7443),[o,a]=n.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),u=new Uint32Array(80),h=new Uint32Array(80);class c extends i.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:u,El:h,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:m}=this;return[t,e,r,i,n,s,o,a,u,h,c,f,l,d,p,m]}set(t,e,r,i,n,s,o,a,u,h,c,f,l,d,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e),h[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|u[t-15],r=0|h[t-15],i=n.default.rotrSH(e,r,1)^n.default.rotrSH(e,r,8)^n.default.shrSH(e,r,7),s=n.default.rotrSL(e,r,1)^n.default.rotrSL(e,r,8)^n.default.shrSL(e,r,7),o=0|u[t-2],a=0|h[t-2],c=n.default.rotrSH(o,a,19)^n.default.rotrBH(o,a,61)^n.default.shrSH(o,a,6),f=n.default.rotrSL(o,a,19)^n.default.rotrBL(o,a,61)^n.default.shrSL(o,a,6),l=n.default.add4L(s,f,h[t-7],h[t-16]),d=n.default.add4H(l,i,c,u[t-7],u[t-16]);u[t]=0|d,h[t]=0|l}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:f,Cl:l,Dh:d,Dl:p,Eh:m,El:g,Fh:y,Fl:b,Gh:w,Gl:v,Hh:_,Hl:M}=this;for(let t=0;t<80;t++){const e=n.default.rotrSH(m,g,14)^n.default.rotrSH(m,g,18)^n.default.rotrBH(m,g,41),S=n.default.rotrSL(m,g,14)^n.default.rotrSL(m,g,18)^n.default.rotrBL(m,g,41),E=m&y^~m&w,A=g&b^~g&v,k=n.default.add5L(M,S,A,a[t],h[t]),x=n.default.add5H(k,_,e,E,o[t],u[t]),T=0|k,B=n.default.rotrSH(r,i,28)^n.default.rotrBH(r,i,34)^n.default.rotrBH(r,i,39),I=n.default.rotrSL(r,i,28)^n.default.rotrBL(r,i,34)^n.default.rotrBL(r,i,39),R=r&s^r&f^s&f,P=i&c^i&l^c&l;_=0|w,M=0|v,w=0|y,v=0|b,y=0|m,b=0|g,({h:m,l:g}=n.default.add(0|d,0|p,0|x,0|T)),d=0|f,p=0|l,f=0|s,l=0|c,s=0|r,c=0|i;const C=n.default.add3L(T,I,P);r=n.default.add3H(C,x,B,R),i=0|C}({h:r,l:i}=n.default.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:s,l:c}=n.default.add(0|this.Bh,0|this.Bl,0|s,0|c)),({h:f,l}=n.default.add(0|this.Ch,0|this.Cl,0|f,0|l)),({h:d,l:p}=n.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:m,l:g}=n.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=n.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:w,l:v}=n.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:_,l:M}=n.default.add(0|this.Hh,0|this.Hl,0|_,0|M)),this.set(r,i,s,c,f,l,d,p,m,g,y,b,w,v,_,M)}roundClean(){u.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.SHA512=c;class f extends c{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class l extends c{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends c{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}e.sha512=(0,s.wrapConstructor)((()=>new c)),e.sha512_224=(0,s.wrapConstructor)((()=>new f)),e.sha512_256=(0,s.wrapConstructor)((()=>new l)),e.sha384=(0,s.wrapConstructor)((()=>new d))},7443:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const i=r(8939);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function s(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function o(t){if("string"==typeof t&&(t=s(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=n[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const i=2*r,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e},e.nextTick=async()=>{},e.asyncLoop=async function(t,r,i){let n=Date.now();for(let s=0;s<t;s++){i(s);const t=Date.now()-n;t>=0&&t<r||(await(0,e.nextTick)(),n+=t)}},e.utf8ToBytes=s,e.toBytes=o,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,i=0;e<t.length;e++){const n=t[e];r.set(n,i),i+=n.length}return r},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(o(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(o(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(i.crypto.web)return i.crypto.web.getRandomValues(new Uint8Array(t));if(i.crypto.node)return new Uint8Array(i.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},9386:(t,e,r)=>{"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;const i=r(8764);function n(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return n(t),i.Buffer.from(t.buffer,t.byteOffset,t.length)}class o{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class u extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class h extends u{constructor(t,e=0,r){if(!(t instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof c||this.layout instanceof f}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class c extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntLE(t,r,this.span),this.span}}class f extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntBE(t,r,this.span),this.span}}const l=Math.pow(2,32);function d(t){const e=Math.floor(t/l);return{hi32:e,lo32:t-e*l}}function p(t,e){return t*l+e}class m extends o{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),i=r.readUInt32LE(e);return p(r.readUInt32LE(e+4),i)}encode(t,e,r=0){const i=d(t),n=s(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class g extends o{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),i=r.readUInt32LE(e);return p(r.readInt32LE(e+4),i)}encode(t,e,r=0){const i=d(t),n=s(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class y extends o{constructor(t,e,r){if(!(t instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(e instanceof u)&&0<t.span&&(i=e*t.span),super(i,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof u&&(i=i.decode(t,e)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let n=0;for(;n<i;)r+=this.elementLayout.getSpan(t,e+r),++n}return r}decode(t,e=0){const r=[];let i=0,n=this.count;for(n instanceof u&&(n=n.decode(t,e));i<n;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return r}encode(t,e,r=0){const i=this.elementLayout,n=t.reduce(((t,n)=>t+i.encode(n,e,r+t)),0);return this.count instanceof u&&this.count.encode(t.length,e,r),n}}class b extends o{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(i,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,i)=>{const n=i.getSpan(t,e);return e+=n,r+n}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e=0){n(t);const r=this.makeDestinationObject();for(const i of this.fields)if(void 0!==i.property&&(r[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const i=r;let n=0,s=0;for(const i of this.fields){let o=i.span;if(s=0<o?o:0,void 0!==i.property){const n=t[i.property];void 0!==n&&(s=i.encode(n,e,r),0>o&&(o=i.getSpan(e,r)))}n=r,r+=o}return n+s-i}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class w extends o{constructor(t,e){if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof u||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),s(t).slice(e,e+r)}encode(t,e,r){let i=this.length;if(this.length instanceof u&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>e.length)throw new RangeError("encoding overruns Uint8Array");const n=s(t);return s(e).write(n.toString("hex"),r,i,"hex"),this.length instanceof u&&this.length.encode(i,e,r),i}}e.cv=(t,e,r)=>new h(t,e,r),e.u8=t=>new c(1,t),e.KB=t=>new c(2,t),e.Jq=t=>new c(4,t),e._O=t=>new m(t),e.gM=t=>new g(t),e.n_=(t,e,r)=>new b(t,e,r),e.A9=(t,e,r)=>new y(t,e,r),e.Ik=(t,e)=>new w(t,e)},9191:(t,e,r)=>{"use strict";var i=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=n}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return i.alloc(0);for(var r=0,n=0,s=0;t[r]===u;)n++,r++;for(var o=(t.length-r)*h+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<s)&&-1!==d;d--,l++)f+=a*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=i.allocUnsafe(n+(o-p));m.fill(0,0,n);for(var g=n;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,n=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*c+1>>>0,f=new Uint8Array(h);s!==o;){for(var l=e[s],d=0,p=h-1;(0!==l||d<n)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,s++}for(var m=h-n;m!==h&&0===f[m];)m++;for(var g=u.repeat(r);m<h;++m)g+=t.charAt(f[m]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},11:(t,e,r)=>{var i=r(9191);t.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},5863:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6146:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0});const s=r(5473);e.default=s.PromisePool,n(r(5863),e),n(r(5473),e),n(r(3495),e),n(r(8374),e),n(r(2081),e),n(r(5300),e)},3495:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromisePoolError=void 0;class r extends Error{constructor(t,e){super(),this.raw=t,this.item=e,this.name=this.constructor.name,this.message=this.messageFrom(t),Error.captureStackTrace&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(t,e){return new this(t,e)}messageFrom(t){return t instanceof Error||"object"==typeof t?t.message:"string"==typeof t||"number"==typeof t?t.toString():""}}e.PromisePoolError=r},976:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromisePoolExecutor=void 0;const i=r(5473),n=r(3495),s=r(2081),o=r(5300);e.PromisePoolExecutor=class{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(t){if(!this.isValidConcurrency(t))throw o.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${t}" (${typeof t})`);return this.meta.concurrency=t,this}isValidConcurrency(t){return"number"==typeof t&&t>=1}withTaskTimeout(t){return this.meta.taskTimeout=t,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(t){return this.meta.shouldResultsCorrespond=t,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(t){return this.meta.items=t,this}items(){return this.meta.items}itemsCount(){const t=this.items();return Array.isArray(t)?t.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(t){return this.handler=t,this}hasErrorHandler(){return!!this.errorHandler}handleError(t){return this.errorHandler=t,this}onTaskStarted(t){return this.onTaskStartedHandlers=t,this}onTaskFinished(t){return this.onTaskFinishedHandlers=t,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new s.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if("function"!=typeof this.handler)throw o.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const t=this.taskTimeout();if(!(null==t||"number"==typeof t&&t>=0))throw o.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(t)}" (${typeof t})`);if(!this.areItemsValid())throw o.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&"function"!=typeof this.errorHandler)throw o.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach((t=>{if(t&&"function"!=typeof t)throw o.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof t}"`)})),this.onTaskFinishedHandlers.forEach((t=>{if(t&&"function"!=typeof t)throw o.ValidationError.createFrom(`The error handler must be a function. Received "${typeof t}"`)})),this}areItemsValid(){const t=this.items();return!!Array.isArray(t)||"function"==typeof t[Symbol.iterator]||"function"==typeof t[Symbol.asyncIterator]}prepareResultsArray(){const t=this.items();return Array.isArray(t)&&this.shouldUseCorrespondingResults()?(this.meta.results=Array(t.length).fill(i.PromisePool.notRun),this):this}async process(){let t=0;for await(const e of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[t]=i.PromisePool.notRun),this.startProcessing(e,t),t+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(t,e){const r=this.createTaskFor(t,e).then((t=>{this.save(t,e).removeActive(r)})).catch((async i=>{await this.handleErrorFor(i,t,e),this.removeActive(r)})).finally((()=>{this.processedItems().push(t),this.runOnTaskFinishedHandlers(t)}));this.tasks().push(r),this.runOnTaskStartedHandlers(t)}async createTaskFor(t,e){if(void 0===this.taskTimeout())return this.handler(t,e,this);const[r,i]=this.createTaskTimeout(t);return Promise.race([this.handler(t,e,this),r()]).finally(i)}createTaskTimeout(t){let e;return[async()=>new Promise(((r,i)=>{e=setTimeout((()=>{i(new n.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,t))}),this.taskTimeout())})),()=>clearTimeout(e)]}save(t,e){return this.shouldUseCorrespondingResults()?this.results()[e]=t:this.results().push(t),this}removeActive(t){return this.tasks().splice(this.tasks().indexOf(t),1),this}async handleErrorFor(t,e,r){if(this.shouldUseCorrespondingResults()&&(this.results()[r]=i.PromisePool.failed),!this.isStoppingThePoolError(t)){if(this.isValidationError(t))throw this.markAsStopped(),t;this.hasErrorHandler()?await this.runErrorHandlerFor(t,e):this.saveErrorFor(t,e)}}isStoppingThePoolError(t){return t instanceof s.StopThePromisePoolError}isValidationError(t){return t instanceof o.ValidationError}async runErrorHandlerFor(t,e){try{await(this.errorHandler?.(t,e,this))}catch(t){this.rethrowIfNotStoppingThePool(t)}}runOnTaskStartedHandlers(t){this.onTaskStartedHandlers.forEach((e=>{e(t,this)}))}runOnTaskFinishedHandlers(t){this.onTaskFinishedHandlers.forEach((e=>{e(t,this)}))}rethrowIfNotStoppingThePool(t){if(!this.isStoppingThePoolError(t))throw t}saveErrorFor(t,e){this.errors().push(n.PromisePoolError.createFrom(t,e))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}},5473:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromisePool=void 0;const i=r(976);class n{constructor(t){this.timeout=void 0,this.concurrency=10,this.items=t??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(t){return this.concurrency=t,this}static withConcurrency(t){return(new this).withConcurrency(t)}withTaskTimeout(t){return this.timeout=t,this}static withTaskTimeout(t){return(new this).withTaskTimeout(t)}for(t){const e=new n(t).withConcurrency(this.concurrency);return"function"==typeof this.errorHandler&&e.handleError(this.errorHandler),"number"==typeof this.timeout?e.withTaskTimeout(this.timeout):e}static for(t){return(new this).for(t)}handleError(t){return this.errorHandler=t,this}onTaskStarted(t){return this.onTaskStartedHandlers.push(t),this}onTaskFinished(t){return this.onTaskFinishedHandlers.push(t),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(t){return(new i.PromisePoolExecutor).useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(t).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}e.PromisePool=n,n.notRun=Symbol("notRun"),n.failed=Symbol("failed")},8374:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2081:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopThePromisePoolError=void 0;class r extends Error{}e.StopThePromisePoolError=r},5300:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidationError=void 0;class r extends Error{constructor(t){super(t),Error.captureStackTrace&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(t){return new this(t)}}e.ValidationError=r},3026:(t,e,r)=>{t.exports=r(3278)},5112:(t,e,r)=>{"use strict";var i=r(4260),n=r(3507),s=r(1158),o=r(5004),a=r(6383),u=r(9468),h=r(9332),c=r(3546),f=r(2438),l=r(7630),d=r(294);t.exports=function(t){return new Promise((function(e,r){var p,m=t.data,g=t.headers,y=t.responseType;function b(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}i.isFormData(m)&&i.isStandardBrowserEnv()&&delete g["Content-Type"];var w=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(v+":"+_)}var M=a(t.baseURL,t.url);function S(){if(w){var i="getAllResponseHeaders"in w?u(w.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:i,config:t,request:w};n((function(t){e(t),b()}),(function(t){r(t),b()}),s),w=null}}if(w.open(t.method.toUpperCase(),o(M,t.params,t.paramsSerializer),!0),w.timeout=t.timeout,"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(S)},w.onabort=function(){w&&(r(new f("Request aborted",f.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new f("Network Error",f.ERR_NETWORK,t,w,w)),w=null},w.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||c;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new f(e,i.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,t,w)),w=null},i.isStandardBrowserEnv()){var E=(t.withCredentials||h(M))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;E&&(g[t.xsrfHeaderName]=E)}"setRequestHeader"in w&&i.forEach(g,(function(t,e){void 0===m&&"content-type"===e.toLowerCase()?delete g[e]:w.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(w.withCredentials=!!t.withCredentials),y&&"json"!==y&&(w.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&w.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){w&&(r(!t||t&&t.type?new l:t),w.abort(),w=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),m||(m=null);var A=d(M);A&&-1===["http","https","file"].indexOf(A)?r(new f("Unsupported protocol "+A+":",f.ERR_BAD_REQUEST,t)):w.send(m)}))}},3278:(t,e,r)=>{"use strict";var i=r(4260),n=r(8811),s=r(9975),o=r(2791),a=function t(e){var r=new s(e),a=n(s.prototype.request,r);return i.extend(a,s.prototype,r),i.extend(a,r),a.create=function(r){return t(o(e,r))},a}(r(7538));a.Axios=s,a.CanceledError=r(7630),a.CancelToken=r(3308),a.isCancel=r(6223),a.VERSION=r(3793).version,a.toFormData=r(8826),a.AxiosError=r(2438),a.Cancel=a.CanceledError,a.all=function(t){return Promise.all(t)},a.spread=r(5463),a.isAxiosError=r(2625),t.exports=a,t.exports.default=a},3308:(t,e,r)=>{"use strict";var i=r(7630);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,i=r._listeners.length;for(e=0;e<i;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,i=new Promise((function(t){r.subscribe(t),e=t})).then(t);return i.cancel=function(){r.unsubscribe(e)},i},t((function(t){r.reason||(r.reason=new i(t),e(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},n.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},7630:(t,e,r)=>{"use strict";var i=r(2438);function n(t){i.call(this,null==t?"canceled":t,i.ERR_CANCELED),this.name="CanceledError"}r(4260).inherits(n,i,{__CANCEL__:!0}),t.exports=n},6223:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},9975:(t,e,r)=>{"use strict";var i=r(4260),n=r(5004),s=r(7618),o=r(3669),a=r(2791),u=r(6383),h=r(6782),c=h.validators;function f(t){this.defaults=t,this.interceptors={request:new s,response:new s}}f.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&h.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var i=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!n){var f=[o,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(u),s=Promise.resolve(e);f.length;)s=s.then(f.shift(),f.shift());return s}for(var l=e;i.length;){var d=i.shift(),p=i.shift();try{l=d(l)}catch(t){p(t);break}}try{s=o(l)}catch(t){return Promise.reject(t)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},f.prototype.getUri=function(t){t=a(this.defaults,t);var e=u(t.baseURL,t.url);return n(e,t.params,t.paramsSerializer)},i.forEach(["delete","get","head","options"],(function(t){f.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){function e(e){return function(r,i,n){return this.request(a(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}f.prototype[t]=e(),f.prototype[t+"Form"]=e(!0)})),t.exports=f},2438:(t,e,r)=>{"use strict";var i=r(4260);function n(t,e,r,i,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}i.inherits(n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=n.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){o[t]={value:t}})),Object.defineProperties(n,o),Object.defineProperty(s,"isAxiosError",{value:!0}),n.from=function(t,e,r,o,a,u){var h=Object.create(s);return i.toFlatObject(t,h,(function(t){return t!==Error.prototype})),n.call(h,t.message,e,r,o,a),h.name=t.name,u&&Object.assign(h,u),h},t.exports=n},7618:(t,e,r)=>{"use strict";var i=r(4260);function n(){this.handlers=[]}n.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},6383:(t,e,r)=>{"use strict";var i=r(3554),n=r(7827);t.exports=function(t,e){return t&&!i(e)?n(t,e):e}},3669:(t,e,r)=>{"use strict";var i=r(4260),n=r(9368),s=r(6223),o=r(7538),a=r(7630);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=n.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return u(t),e.data=n.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(u(t),e&&e.response&&(e.response.data=n.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},2791:(t,e,r)=>{"use strict";var i=r(4260);t.exports=function(t,e){e=e||{};var r={};function n(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function s(r){return i.isUndefined(e[r])?i.isUndefined(t[r])?void 0:n(void 0,t[r]):n(t[r],e[r])}function o(t){if(!i.isUndefined(e[t]))return n(void 0,e[t])}function a(r){return i.isUndefined(e[r])?i.isUndefined(t[r])?void 0:n(void 0,t[r]):n(void 0,e[r])}function u(r){return r in e?n(t[r],e[r]):r in t?n(void 0,t[r]):void 0}var h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return i.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=h[t]||s,n=e(t);i.isUndefined(n)&&e!==u||(r[t]=n)})),r}},3507:(t,e,r)=>{"use strict";var i=r(2438);t.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new i("Request failed with status code "+r.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}},9368:(t,e,r)=>{"use strict";var i=r(4260),n=r(7538);t.exports=function(t,e,r){var s=this||n;return i.forEach(r,(function(r){t=r.call(s,t,e)})),t}},7538:(t,e,r)=>{"use strict";var i=r(4155),n=r(4260),s=r(898),o=r(2438),a=r(3546),u=r(8826),h={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var f,l={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==i&&"[object process]"===Object.prototype.toString.call(i))&&(f=r(5112)),f),transformRequest:[function(t,e){if(s(e,"Accept"),s(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t))return t;if(n.isArrayBufferView(t))return t.buffer;if(n.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,i=n.isObject(t),o=e&&e["Content-Type"];if((r=n.isFileList(t))||i&&"multipart/form-data"===o){var a=this.env&&this.env.FormData;return u(r?{"files[]":t}:t,a&&new a)}return i||"application/json"===o?(c(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(0,JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,r=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||i&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(s){if("SyntaxError"===t.name)throw o.from(t,o.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(3091)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){l.headers[t]=n.merge(h)})),t.exports=l},3546:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3793:t=>{t.exports={version:"0.27.2"}},8811:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(e,r)}}},5004:(t,e,r)=>{"use strict";var i=r(4260);function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(i.isURLSearchParams(e))s=e.toString();else{var o=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},7827:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},1158:(t,e,r)=>{"use strict";var i=r(4260);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,r,n,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3554:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},2625:(t,e,r)=>{"use strict";var i=r(4260);t.exports=function(t){return i.isObject(t)&&!0===t.isAxiosError}},9332:(t,e,r)=>{"use strict";var i=r(4260);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var i=t;return e&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=i.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},898:(t,e,r)=>{"use strict";var i=r(4260);t.exports=function(t,e){i.forEach(t,(function(r,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[i])}))}},3091:t=>{t.exports=null},9468:(t,e,r)=>{"use strict";var i=r(4260),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,s,o={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),r=i.trim(t.substr(s+1)),e){if(o[e]&&n.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}},294:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},5463:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},8826:(t,e,r)=>{"use strict";var i=r(8764).Buffer,n=r(4260);t.exports=function(t,e){e=e||new FormData;var r=[];function s(t){return null===t?"":n.isDate(t)?t.toISOString():n.isArrayBuffer(t)||n.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):i.from(t):t}return function t(i,o){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+o);r.push(i),n.forEach(i,(function(r,i){if(!n.isUndefined(r)){var a,u=o?o+"."+i:i;if(r&&!o&&"object"==typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(a=n.toArray(r)))return void a.forEach((function(t){!n.isUndefined(t)&&e.append(u,s(t))}));t(r,u)}})),r.pop()}else e.append(o,s(i))}(t),e}},6782:(t,e,r)=>{"use strict";var i=r(3793).version,n=r(2438),s={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){s[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var o={};s.transitional=function(t,e,r){function s(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,i,a){if(!1===t)throw new n(s(i," has been removed"+(e?" in "+e:"")),n.ERR_DEPRECATED);return e&&!o[i]&&(o[i]=!0,console.warn(s(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,a)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new n("options must be an object",n.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),s=i.length;s-- >0;){var o=i[s],a=e[o];if(a){var u=t[o],h=void 0===u||a(u,o,t);if(!0!==h)throw new n("option "+o+" must be "+h,n.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new n("Unknown option "+o,n.ERR_BAD_OPTION)}},validators:s}},4260:(t,e,r)=>{"use strict";var i,n=r(8811),s=Object.prototype.toString,o=(i=Object.create(null),function(t){var e=s.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())});function a(t){return t=t.toLowerCase(),function(e){return o(e)===t}}function u(t){return Array.isArray(t)}function h(t){return void 0===t}var c=a("ArrayBuffer");function f(t){return null!==t&&"object"==typeof t}function l(t){if("object"!==o(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var d=a("Date"),p=a("File"),m=a("Blob"),g=a("FileList");function y(t){return"[object Function]"===s.call(t)}var b=a("URLSearchParams");function w(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}var v,_=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return v&&t instanceof v});t.exports={isArray:u,isArrayBuffer:c,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||s.call(t)===e||y(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&c(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:f,isPlainObject:l,isUndefined:h,isDate:d,isFile:p,isBlob:m,isFunction:y,isStream:function(t){return f(t)&&y(t.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:w,merge:function t(){var e={};function r(r,i){l(e[i])&&l(r)?e[i]=t(e[i],r):l(r)?e[i]=t({},r):u(r)?e[i]=r.slice():e[i]=r}for(var i=0,n=arguments.length;i<n;i++)w(arguments[i],r);return e},extend:function(t,e,r){return w(e,(function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var i,n,s,o={};e=e||{};do{for(n=(i=Object.getOwnPropertyNames(t)).length;n-- >0;)o[s=i[n]]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:o,kindOfTest:a,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var i=t.indexOf(e,r);return-1!==i&&i===r},toArray:function(t){if(!t)return null;var e=t.length;if(h(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:_,isFileList:g}},9669:(t,e,r)=>{"use strict";var i=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=n}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return i.alloc(0);for(var r=0,n=0,s=0;t[r]===u;)n++,r++;for(var o=(t.length-r)*h+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<s)&&-1!==d;d--,l++)f+=a*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=i.allocUnsafe(n+(o-p));m.fill(0,0,n);for(var g=n;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,n=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*c+1>>>0,f=new Uint8Array(h);s!==o;){for(var l=e[s],d=0,p=h-1;(0!==l||d<n)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,s++}for(var m=h-n;m!==h&&0===f[m];)m++;for(var g=u.repeat(r);m<h;++m)g+=t.charAt(f[m]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},3581:(t,e,r)=>{var i=r(9669);t.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9809:(t,e,r)=>{"use strict";const i=e;i.bignum=r(4590),i.define=r(2500).define,i.base=r(1979),i.constants=r(6826),i.decoders=r(8307),i.encoders=r(6579)},2500:(t,e,r)=>{"use strict";const i=r(6579),n=r(8307),s=r(5717);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function r(t){this._initNamed(t,e)}return s(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},6625:(t,e,r)=>{"use strict";const i=r(5717),n=r(8465).b,s=r(2399).Buffer;function o(t,e){n.call(this,e),s.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=s.byteLength(t);else{if(!s.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}i(o,n),e.C=o,o.isDecoderBuffer=function(t){return t instanceof o||"object"==typeof t&&s.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},o.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},o.prototype.restore=function(t){const e=new o(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,n.prototype.restore.call(this,t.reporter),e},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},o.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},o.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.R=a,a.isEncoderBuffer=function(t){return t instanceof a||"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=s.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(t,e),e+=r.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):s.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},1979:(t,e,r)=>{"use strict";const i=e;i.Reporter=r(8465).b,i.DecoderBuffer=r(6625).C,i.EncoderBuffer=r(6625).R,i.Node=r(1949)},1949:(t,e,r)=>{"use strict";const i=r(8465).b,n=r(6625).R,s=r(6625).C,o=r(9746),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function h(t,e,r){const i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}t.exports=h;const c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const t=this._baseState,e={};c.forEach((function(r){e[r]=t[r]}));const r=new this.constructor(e.parent);return r._baseState=e,r},h.prototype._wrap=function(){const t=this._baseState;u.forEach((function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}}),this)},h.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),o.equal(e.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(t){const e=this._baseState,r=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==r.length&&(o(null===e.children),e.children=r,r.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(r){r==(0|r)&&(r|=0);const i=t[r];e[i]=r})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){h.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){h.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(r),this}})),h.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},h.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},h.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},h.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},h.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},h.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},h.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let i,n=r.default,o=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let i=null;if(null!==r.explicit?i=r.explicit:null!==r.implicit?i=r.implicit:null!==r.tag&&(i=r.tag),null!==i||r.any){if(o=this._peekTag(t,i,r.any),t.isError(o))return o}else{const i=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(i)}}if(r.obj&&o&&(i=t.enterObject()),o){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const i=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const i=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(i))return i;r.any?n=t.raw(e):t=i}if(e&&e.track&&null!==r.tag&&e.track(t.path(),i,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(n=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(n))return n;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(t,e)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const i=new s(n);n=this._getUse(r.contains,t._reporterState.obj)._decode(i,e)}}return r.obj&&o&&(n=t.leaveObject(i)),null===r.key||null===n&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,n),n},h.prototype._decodeGeneric=function(t,e,r){const i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},h.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},h.prototype._decodeChoice=function(t,e){const r=this._baseState;let i=null,n=!1;return Object.keys(r.choice).some((function(s){const o=t.save(),a=r.choice[s];try{const r=a._decode(t,e);if(t.isError(r))return!1;i={type:s,value:r},n=!0}catch(e){return t.restore(o),!1}return!0}),this),n?i:t.error("Choice not matched")},h.prototype._createEncoderBuffer=function(t){return new n(t,this.reporter)},h.prototype._encode=function(t,e,r){const i=this._baseState;if(null!==i.default&&i.default===t)return;const n=this._encodeValue(t,e,r);return void 0===n||this._skipDefault(n,e,r)?void 0:n},h.prototype._encodeValue=function(t,e,r){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,e||new i);let s=null;if(this.reporter=e,n.optional&&void 0===t){if(null===n.default)return;t=n.default}let o=null,a=!1;if(n.any)s=this._createEncoderBuffer(t);else if(n.choice)s=this._encodeChoice(t,e);else if(n.contains)o=this._getUse(n.contains,r)._encode(t,e),a=!0;else if(n.children)o=n.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const i=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const n=r._encode(t[r._baseState.key],e,t);return e.leaveKey(i),n}),this).filter((function(t){return t})),o=this._createEncoderBuffer(o);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return e.error("Too many args for : "+n.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(t.map((function(r){const i=this._baseState;return this._getUse(i.args[0],t)._encode(r,e)}),r))}else null!==n.use?s=this._getUse(n.use,r)._encode(t,e):(o=this._encodePrimitive(n.tag,t),a=!0);if(!n.any&&null===n.choice){const t=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===t?null===n.use&&e.error("Tag could be omitted only for .use()"):null===n.use&&(s=this._encodeComposite(t,a,r,o))}return null!==n.explicit&&(s=this._encodeComposite(n.explicit,!1,"context",s)),s},h.prototype._encodeChoice=function(t,e){const r=this._baseState,i=r.choice[t.type];return i||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(t.value,e)},h.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},h.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},h.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},8465:(t,e,r)=>{"use strict";const i=r(5717);function n(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function s(t,e){this.path=t,this.rethrow(e)}e.b=n,n.prototype.isError=function(t){return t instanceof s},n.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},n.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},n.prototype.enterKey=function(t){return this._reporterState.path.push(t)},n.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},n.prototype.leaveKey=function(t,e,r){const i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=r)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},n.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},n.prototype.error=function(t){let e;const r=this._reporterState,i=t instanceof s;if(e=i?t:new s(r.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!r.options.partial)throw e;return i||r.errors.push(e),e},n.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},i(s,Error),s.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},160:(t,e)=>{"use strict";function r(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const i=t[r];e[i]=r})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},6826:(t,e,r)=>{"use strict";const i=e;i._reverse=function(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const i=t[r];e[i]=r})),e},i.der=r(160)},1671:(t,e,r)=>{"use strict";const i=r(5717),n=r(4590),s=r(6625).C,o=r(1949),a=r(160);function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){o.call(this,"der",t)}function c(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const i=a.tagClass[r>>6],n=0==(32&r);if(31==(31&r)){let i=r;for(r=0;128==(128&i);){if(i=t.readUInt8(e),t.isError(i))return i;r<<=7,r|=127&i}}else r&=31;return{cls:i,primitive:n,tag:r,tagStr:a.tag[r]}}function f(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&128===i)return null;if(0==(128&i))return i;const n=127&i;if(n>4)return t.error("length octect is too long");i=0;for(let e=0;e<n;e++){i<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;i|=e}return i}t.exports=u,u.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},i(h,o),h.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const i=t.save(),n=c(t,'Failed to peek tag: "'+e+'"');return t.isError(n)?n:(t.restore(i),n.tag===e||n.tagStr===e||n.tagStr+"of"===e||r)},h.prototype._decodeTag=function(t,e,r){const i=c(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;let n=f(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(n))return n;if(!r&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==n)return t.skip(n,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(n=t.offset-s.offset,t.restore(s),t.skip(n,'Failed to match body of: "'+e+'"'))},h.prototype._skipUntilEnd=function(t,e){for(;;){const r=c(t,e);if(t.isError(r))return r;const i=f(t,r.primitive,e);if(t.isError(i))return i;let n;if(n=r.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(n))return n;if("end"===r.tagStr)break}},h.prototype._decodeList=function(t,e,r,i){const n=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=r.decode(t,"der",i);if(t.isError(s)&&e)break;n.push(s)}return n},h.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},h.prototype._decodeObjid=function(t,e,r){let i;const n=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(n.push(s),s=0);128&o&&n.push(s);const a=n[0]/40|0,u=n[0]%40;if(i=r?n:[a,u].concat(n.slice(1)),e){let t=e[i.join(" ")];void 0===t&&(t=e[i.join(".")]),void 0!==t&&(i=t)}return i},h.prototype._decodeTime=function(t,e){const r=t.raw().toString();let i,n,s,o,a,u;if("gentime"===e)i=0|r.slice(0,4),n=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");i=0|r.slice(0,2),n=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,n-1,s,o,a,u,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},h.prototype._decodeInt=function(t,e){const r=t.raw();let i=new n(r);return e&&(i=e[i.toString(10)]||i),i},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},8307:(t,e,r)=>{"use strict";const i=e;i.der=r(1671),i.pem=r(9631)},9631:(t,e,r)=>{"use strict";const i=r(5717),n=r(2399).Buffer,s=r(1671);function o(t){s.call(this,t),this.enc="pem"}i(o,s),t.exports=o,o.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(o);if(null!==e&&e[2]===i){if(-1!==a){if("END"!==e[1])break;u=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+i);const h=r.slice(a+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");const c=n.from(h,"base64");return s.prototype.decode.call(this,c,e)}},6984:(t,e,r)=>{"use strict";const i=r(5717),n=r(2399).Buffer,s=r(1949),o=r(160);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.call(this,"der",t)}function h(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(u,s),u.prototype._encodeComposite=function(t,e,r,i){const s=function(t,e,r,i){let n;if("seqof"===t?t="seq":"setof"===t&&(t="set"),o.tagByName.hasOwnProperty(t))n=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);n=t}return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=o.tagClassByName[r||"universal"]<<6,n)}(t,e,r,this.reporter);if(i.length<128){const t=n.alloc(2);return t[0]=s,t[1]=i.length,this._createEncoderBuffer([t,i])}let a=1;for(let t=i.length;t>=256;t>>=8)a++;const u=n.alloc(2+a);u[0]=s,u[1]=128|a;for(let t=1+a,e=i.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,i])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=n.alloc(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let i=0;for(let e=0;e<t.length;e++){let r=t[e];for(i++;r>=128;r>>=7)i++}const s=n.alloc(i);let o=s.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(s[o--]=127&r;(r>>=7)>0;)s[o--]=128|127&r}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(t,e){let r;const i=new Date(t);return"gentime"===e?r=[h(i.getUTCFullYear()),h(i.getUTCMonth()+1),h(i.getUTCDate()),h(i.getUTCHours()),h(i.getUTCMinutes()),h(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[h(i.getUTCFullYear()%100),h(i.getUTCMonth()+1),h(i.getUTCDate()),h(i.getUTCHours()),h(i.getUTCMinutes()),h(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!n.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=n.from(e)}if(n.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=n.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const i=new Array(r);for(let e=i.length-1;e>=0;e--)i[e]=255&t,t>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(n.from(i))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,r){const i=this._baseState;let n;if(null===i.default)return!1;const s=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},6579:(t,e,r)=>{"use strict";const i=e;i.der=r(6984),i.pem=r(2883)},2883:(t,e,r)=>{"use strict";const i=r(5717),n=r(6984);function s(t){n.call(this,t),this.enc="pem"}i(s,n),t.exports=s,s.prototype.encode=function(t,e){const r=n.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)i.push(r.slice(t,t+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},4590:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(950).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);r=0!=(s=a>>>24-n&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(_,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},n(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2047:(t,e,r)=>{var i=r(9353);t.exports=function(t,e){return new Promise((function(r,n){var s,o=e||{};function a(t){n(t||new Error("Aborted"))}function u(t,e){t.bail?a(t):s.retry(t)?o.onRetry&&o.onRetry(t,e):n(s.mainError())}"randomize"in o||(o.randomize=!0),(s=i.operation(o)).attempt((function(e){var i;try{i=t(a,e)}catch(t){return void u(t,e)}Promise.resolve(i).then(r).catch((function(t){u(t,e)}))}))}))}},8162:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),s=n.charCodeAt(0);if(255!==e[s])throw new TypeError(n+" is ambiguous");e[s]=i}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,i=0,n=0;t[r]===a;)i++,r++;for(var s=(t.length-r)*u+1>>>0,h=new Uint8Array(s);t[r];){var c=e[t.charCodeAt(r)];if(255===c)return;for(var f=0,l=s-1;(0!==c||f<n)&&-1!==l;l--,f++)c+=o*h[l]>>>0,h[l]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");n=f,r++}for(var d=s-n;d!==s&&0===h[d];)d++;for(var p=new Uint8Array(i+(s-d)),m=i;d!==s;)p[m++]=h[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,i=0,n=0,s=e.length;n!==s&&0===e[n];)n++,r++;for(var u=(s-n)*h+1>>>0,c=new Uint8Array(u);n!==s;){for(var f=e[n],l=0,d=u-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=256*c[d]>>>0,c[d]=f%o>>>0,f=f/o>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,n++}for(var p=u-i;p!==u&&0===c[p];)p++;for(var m=a.repeat(r);p<u;++p)m+=t.charAt(c[p]);return m},decodeUnsafe:c,decode:function(t){var e=c(t);if(e)return e;throw new Error("Non-base"+o+" character")}}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new n(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),c=0,f=u>0?o-4:o;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],h[c++]=e>>16&255,h[c++]=e>>8&255,h[c++]=255&e;return 2===u&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,h[c++]=255&e),1===u&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,h[c++]=e>>8&255,h[c++]=255&e),h},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=16383,a=0,h=i-n;a<h;a+=o)s.push(u(t,a,a+o>h?h:a+o));return 1===n?(e=t[i-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,i){for(var n,s,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2240:(t,e,r)=>{"use strict";var i=r(8764).Buffer,n=r(1518);function s(t,e){return void 0===e&&(e="utf8"),i.isBuffer(t)?a(t.toString("base64")):a(i.from(t,e).toString("base64"))}function o(t){return t=t.toString(),n.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function a(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=s;u.encode=s,u.decode=function(t,e){return void 0===e&&(e="utf8"),i.from(o(t),"base64").toString(e)},u.toBase64=o,u.fromBase64=a,u.toBuffer=function(t){return i.from(o(t),"base64")},e.default=u},1518:(t,e,r)=>{"use strict";var i=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length,r=e%4;if(!r)return t;var n=e,s=4-r,o=e+s,a=i.alloc(o);for(a.write(t);s--;)a.write("=",n++);return a.toString()}},3363:(t,e,r)=>{t.exports=r(2240).default,t.exports.default=t.exports},475:(t,e,r)=>{"use strict";var i=r(8764).Buffer;e.oU=function(t){{const e=i.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.k$=function(t,e){{const r=t.toString(16),n=i.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}}},3550:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+t)}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,n){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var h=t.charCodeAt(u)-48;s*=n,o=h>=49?h-49+10:h>=17?h-17+10:h,i(h>=0&&o<n,"Invalid character"),s+=o}return s}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){c(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r._strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=d[t],c=p[t];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(c).toString(t);r=(f=f.idivn(c)).isZero()?m+r:l[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){this._strip();var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this._strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function b(t,e,r){return y(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):b(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},w.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},w.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},w.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},w.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),b(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var r=0,n=0;n<this.length;n++){var s=(0|this.words[n])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this._strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var r=(1<<26)%t,n=0,s=this.length-1;s>=0;s--)n=(r*n+(0|this.words[s]))%t;return e?-n:n},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*r;this.words[n]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},n(M,_),M.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(S,_),n(E,_),n(A,_),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new S;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return v[t]=e,e},k.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},n(x,k),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5532:function(t,e,r){"use strict";var i=r(8764).Buffer,n=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,r,i){var n,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(s<3?n(o):s>3?n(e,r,o):n(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const h=u(r(3550)),c=u(r(7304)),f=a(r(1379)),l=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=i.from(t,"utf8")),c.default.encode(i.from(t))},e.baseDecode=function(t){return i.from(c.default.decode(t))};const d=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class m{constructor(){this.buf=i.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=i.concat([this.buf,i.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(i.from(new h.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(i.from(new h.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(i.from(new h.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(i.from(new h.default(t).toArray("le",64)))}writeBuffer(t){this.buf=i.concat([i.from(this.buf.subarray(0,this.length)),t,i.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=i.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(i.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,r){const i=r.value;r.value=function(...t){try{return i.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=m;class y{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new h.default(t,"le")}readU128(){const t=this.readBuffer(16);return new h.default(t,"le")}readU256(){const t=this.readBuffer(32);return new h.default(t,"le")}readU512(){const t=this.readBuffer(64);return new h.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return l.decode(e)}catch(t){throw new p(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let i=0;i<e;++i)r.push(t());return r}}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e,r,i,n){try{if("string"==typeof i)n[`write${b(i)}`](r);else if(i instanceof Array)if("number"==typeof i[0]){if(r.length!==i[0])throw new p(`Expecting byte array of length ${i[0]}, but got ${r.length} bytes`);n.writeFixedArray(r)}else if(2===i.length&&"number"==typeof i[1]){if(r.length!==i[1])throw new p(`Expecting byte array of length ${i[1]}, but got ${r.length} bytes`);for(let e=0;e<i[1];e++)w(t,null,r[e],i[0],n)}else n.writeArray(r,(r=>{w(t,e,r,i[0],n)}));else if(void 0!==i.kind)switch(i.kind){case"option":null==r?n.writeU8(0):(n.writeU8(1),w(t,e,r,i.type,n));break;case"map":n.writeU32(r.size),r.forEach(((r,s)=>{w(t,e,s,i.key,n),w(t,e,r,i.value,n)}));break;default:throw new p(`FieldType ${i} unrecognized`)}else v(t,r,n)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function v(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const i=t.get(e.constructor);if(!i)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===i.kind)i.fields.map((([i,n])=>{w(t,i,e[i],n,r)}));else{if("enum"!==i.kind)throw new p(`Unexpected schema kind: ${i.kind} for ${e.constructor.name}`);{const n=e[i.field];for(let s=0;s<i.values.length;++s){const[o,a]=i.values[s];if(o===n){r.writeU8(s),w(t,o,e[o],a,r);break}}}}}function _(t,e,r,i){try{if("string"==typeof r)return i[`read${b(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return i.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let n=0;n<r[1];n++)e.push(_(t,null,r[0],i));return e}return i.readArray((()=>_(t,e,r[0],i)))}if("option"===r.kind)return i.readU8()?_(t,e,r.type,i):void 0;if("map"===r.kind){let n=new Map;const s=i.readU32();for(let o=0;o<s;o++){const s=_(t,e,r.key,i),o=_(t,e,r.value,i);n.set(s,o)}return n}return M(t,r,i)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function M(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const i=t.get(e);if(!i)throw new p(`Class ${e.name} is missing in schema`);if("struct"===i.kind){const i={};for(const[n,s]of t.get(e).fields)i[n]=_(t,n,s,r);return new e(i)}if("enum"===i.kind){const n=r.readU8();if(n>=i.values.length)throw new p(`Enum index: ${n} is out of range`);const[s,o]=i.values[n];return new e({[s]:_(t,s,o,r)})}throw new p(`Unexpected schema kind: ${i.kind} for ${e.constructor.name}`)}o([g],y.prototype,"readU8",null),o([g],y.prototype,"readU16",null),o([g],y.prototype,"readU32",null),o([g],y.prototype,"readU64",null),o([g],y.prototype,"readU128",null),o([g],y.prototype,"readU256",null),o([g],y.prototype,"readU512",null),o([g],y.prototype,"readString",null),o([g],y.prototype,"readFixedArray",null),o([g],y.prototype,"readArray",null),e.BinaryReader=y,e.serialize=function(t,e,r=m){const i=new r;return v(t,e,i),i.toArray()},e.deserialize=function(t,e,r,i=y){const n=new i(r),s=M(t,e,n);if(n.offset<r.length)throw new p(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return s},e.deserializeUnchecked=function(t,e,r,i=y){return M(t,e,new i(r))}},1709:(t,e,r)=>{"use strict";var i=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=n}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return i.alloc(0);for(var r=0,n=0,s=0;t[r]===u;)n++,r++;for(var o=(t.length-r)*h+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<s)&&-1!==d;d--,l++)f+=a*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=i.allocUnsafe(n+(o-p));m.fill(0,0,n);for(var g=n;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,n=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*c+1>>>0,f=new Uint8Array(h);s!==o;){for(var l=e[s],d=0,p=h-1;(0!==l||d<n)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,s++}for(var m=h-n;m!==h&&0===f[m];)m++;for(var g=u.repeat(r);m<h;++m)g+=t.charAt(f[m]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},7304:(t,e,r)=>{var i=r(1709);t.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9931:(t,e,r)=>{var i;function n(t){this.rand=t}if(t.exports=function(t){return i||(i=new n(null)),i.generate(t)},t.exports.Rand=n,n.prototype.generate=function(t){return this._rand(t)},n.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(5835);if("function"!=typeof s.randomBytes)throw new Error("Not supported");n.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}},4497:(t,e,r)=>{var i=r(9509).Buffer;function n(t){i.isBuffer(t)||(t=i.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(4*n);return r}function s(t){for(;0<t.length;t++)t[0]=0}function o(t,e,r,i,n){for(var s,o,a,u,h=r[0],c=r[1],f=r[2],l=r[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],y=4,b=1;b<n;b++)s=h[d>>>24]^c[p>>>16&255]^f[m>>>8&255]^l[255&g]^e[y++],o=h[p>>>24]^c[m>>>16&255]^f[g>>>8&255]^l[255&d]^e[y++],a=h[m>>>24]^c[g>>>16&255]^f[d>>>8&255]^l[255&p]^e[y++],u=h[g>>>24]^c[d>>>16&255]^f[p>>>8&255]^l[255&m]^e[y++],d=s,p=o,m=a,g=u;return s=(i[d>>>24]<<24|i[p>>>16&255]<<16|i[m>>>8&255]<<8|i[255&g])^e[y++],o=(i[p>>>24]<<24|i[m>>>16&255]<<16|i[g>>>8&255]<<8|i[255&d])^e[y++],a=(i[m>>>24]<<24|i[g>>>16&255]<<16|i[d>>>8&255]<<8|i[255&p])^e[y++],u=(i[g>>>24]<<24|i[d>>>16&255]<<16|i[p>>>8&255]<<8|i[255&m])^e[y++],[s>>>=0,o>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var h=a^a<<1^a<<2^a<<3^a<<4;h=h>>>8^255&h^99,r[o]=h,i[h]=o;var c=t[o],f=t[c],l=t[f],d=257*t[h]^16843008*h;n[0][o]=d<<24|d>>>8,n[1][o]=d<<16|d>>>16,n[2][o]=d<<8|d>>>24,n[3][o]=d,d=16843009*l^65537*f^257*c^16843008*o,s[0][h]=d<<24|d>>>8,s[1][h]=d<<16|d>>>16,s[2][h]=d<<8|d>>>24,s[3][h]=d,0===o?o=a=1:(o=c^t[t[t[l^c]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:s}}();function h(t){this._key=n(t),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=4*(r+1),n=[],s=0;s<e;s++)n[s]=t[s];for(s=e;s<i;s++){var o=n[s-1];s%e==0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=a[s/e|0]<<24):e>6&&s%e==4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),n[s]=n[s-e]^o}for(var h=[],c=0;c<i;c++){var f=i-c,l=n[f-(c%4?0:4)];h[c]=c<4||f<=4?l:u.INV_SUB_MIX[0][u.SBOX[l>>>24]]^u.INV_SUB_MIX[1][u.SBOX[l>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[l>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&l]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=h},h.prototype.encryptBlockRaw=function(t){return o(t=n(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},h.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=i.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},h.prototype.decryptBlock=function(t){var e=(t=n(t))[1];t[1]=t[3],t[3]=e;var r=o(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),s=i.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},h.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=h},2422:(t,e,r)=>{var i=r(4497),n=r(9509).Buffer,s=r(1027),o=r(5717),a=r(3288),u=r(7295),h=r(685);function c(t,e,r,o){s.call(this);var u=n.alloc(4,0);this._cipher=new i.AES(e);var c=this._cipher.encryptBlock(u);this._ghash=new a(c),r=function(t,e,r){if(12===e.length)return t._finID=n.concat([e,n.from([0,0,0,1])]),n.concat([e,n.from([0,0,0,2])]);var i=new a(r),s=e.length,o=s%16;i.update(e),o&&(o=16-o,i.update(n.alloc(o,0))),i.update(n.alloc(8,0));var u=8*s,c=n.alloc(8);c.writeUIntBE(u,0,8),i.update(c),t._finID=i.state;var f=n.from(t._finID);return h(f),f}(this,r,c),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(c,s),c.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=n.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},c.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=c},4696:(t,e,r)=>{var i=r(1494),n=r(6193),s=r(4946);e.createCipher=e.Cipher=i.createCipher,e.createCipheriv=e.Cipheriv=i.createCipheriv,e.createDecipher=e.Decipher=n.createDecipher,e.createDecipheriv=e.Decipheriv=n.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(s)}},6193:(t,e,r)=>{var i=r(2422),n=r(9509).Buffer,s=r(45),o=r(5969),a=r(1027),u=r(4497),h=r(3048);function c(t,e,r){a.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(e),this._prev=n.from(r),this._mode=t,this._autopadding=!0}function f(){this.cache=n.allocUnsafe(0)}function l(t,e,r){var a=s[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=n.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=n.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new o(a.module,e,r,!0):"auth"===a.type?new i(a.module,e,r,!0):new c(a.module,e,r)}r(5717)(c,a),c.prototype._update=function(t){var e,r;this._cache.add(t);for(var i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return n.concat(i)},c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=n.concat([this.cache,t])},f.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=s[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=h(e,!1,r.key,r.iv);return l(t,i.key,i.iv)},e.createDecipheriv=l},1494:(t,e,r)=>{var i=r(45),n=r(2422),s=r(9509).Buffer,o=r(5969),a=r(1027),u=r(4497),h=r(3048);function c(t,e,r){a.call(this),this._cache=new l,this._cipher=new u.AES(e),this._prev=s.from(r),this._mode=t,this._autopadding=!0}r(5717)(c,a),c.prototype._update=function(t){var e,r;this._cache.add(t);for(var i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return s.concat(i)};var f=s.alloc(16,16);function l(){this.cache=s.allocUnsafe(0)}function d(t,e,r){var a=i[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=s.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new o(a.module,e,r):"auth"===a.type?new n(a.module,e,r):new c(a.module,e,r)}c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=s.concat([this.cache,t])},l.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},l.prototype.flush=function(){for(var t=16-this.cache.length,e=s.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return s.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var r=i[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=h(e,!1,r.key,r.iv);return d(t,n.key,n.iv)}},3288:(t,e,r)=>{var i=r(9509).Buffer,n=i.alloc(16,0);function s(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,r,i=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],n=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(n[0]^=i[0],n[1]^=i[1],n[2]^=i[2],n[3]^=i[3]),r=0!=(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,r&&(i[0]=i[0]^225<<24)}this.state=s(n)},o.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o},685:t=>{t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},5292:(t,e,r)=>{var i=r(7295);e.encrypt=function(t,e){var r=i(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return i(n,r)}},6311:(t,e,r)=>{var i=r(9509).Buffer,n=r(7295);function s(t,e,r){var s=e.length,o=n(e,t._cache);return t._cache=t._cache.slice(s),t._prev=i.concat([t._prev,r?e:o]),o}e.encrypt=function(t,e,r){for(var n,o=i.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=i.allocUnsafe(0)),!(t._cache.length<=e.length)){o=i.concat([o,s(t,e,r)]);break}n=t._cache.length,o=i.concat([o,s(t,e.slice(0,n),r)]),e=e.slice(n)}return o}},1510:(t,e,r)=>{var i=r(9509).Buffer;function n(t,e,r){for(var i,n,o=-1,a=0;++o<8;)i=e&1<<7-o?128:0,a+=(128&(n=t._cipher.encryptBlock(t._prev)[0]^i))>>o%8,t._prev=s(t._prev,r?i:n);return a}function s(t,e){var r=t.length,n=-1,s=i.allocUnsafe(t.length);for(t=i.concat([t,i.from([e])]);++n<r;)s[n]=t[n]<<1|t[n+1]>>7;return s}e.encrypt=function(t,e,r){for(var s=e.length,o=i.allocUnsafe(s),a=-1;++a<s;)o[a]=n(t,e[a],r);return o}},1964:(t,e,r)=>{var i=r(9509).Buffer;function n(t,e,r){var n=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=i.concat([t._prev.slice(1),i.from([r?e:n])]),n}e.encrypt=function(t,e,r){for(var s=e.length,o=i.allocUnsafe(s),a=-1;++a<s;)o[a]=n(t,e[a],r);return o}},6009:(t,e,r)=>{var i=r(7295),n=r(9509).Buffer,s=r(685);function o(t){var e=t._cipher.encryptBlockRaw(t._prev);return s(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),s=t._cache.length;t._cache=n.concat([t._cache,n.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=o(t),h=s+16*a;t._cache.writeUInt32BE(u[0],h+0),t._cache.writeUInt32BE(u[1],h+4),t._cache.writeUInt32BE(u[2],h+8),t._cache.writeUInt32BE(u[3],h+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,c)}},1084:(t,e)=>{e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},45:(t,e,r)=>{var i={ECB:r(1084),CBC:r(5292),CFB:r(6311),CFB8:r(1964),CFB1:r(1510),OFB:r(8861),CTR:r(6009),GCM:r(6009)},n=r(4946);for(var s in n)n[s].module=i[n[s].mode];t.exports=n},8861:(t,e,r)=>{var i=r(8764).Buffer,n=r(7295);function s(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=i.concat([t._cache,s(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,r)}},5969:(t,e,r)=>{var i=r(4497),n=r(9509).Buffer,s=r(1027);function o(t,e,r,o){s.call(this),this._cipher=new i.AES(e),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._mode=t}r(5717)(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},3614:(t,e,r)=>{var i=r(7667),n=r(4696),s=r(45),o=r(9715),a=r(3048);function u(t,e,r){if(t=t.toLowerCase(),s[t])return n.createCipheriv(t,e,r);if(o[t])return new i({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function h(t,e,r){if(t=t.toLowerCase(),s[t])return n.createDecipheriv(t,e,r);if(o[t])return new i({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,i;if(t=t.toLowerCase(),s[t])r=s[t].key,i=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,i=o[t].iv}var n=a(e,!1,r,i);return u(t,n.key,n.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var r,i;if(t=t.toLowerCase(),s[t])r=s[t].key,i=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,i=o[t].iv}var n=a(e,!1,r,i);return h(t,n.key,n.iv)},e.createDecipheriv=e.Decipheriv=h,e.listCiphers=e.getCiphers=function(){return Object.keys(o).concat(n.getCiphers())}},7667:(t,e,r)=>{var i=r(1027),n=r(5251),s=r(5717),o=r(9509).Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function u(t){i.call(this);var e,r=t.mode.toLowerCase(),n=a[r];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=o.concat([s,s.slice(0,8)]));var u=t.iv;o.isBuffer(u)||(u=o.from(u)),this._des=n.create({key:s,iv:u,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=u,s(u,i),u.prototype._update=function(t){return o.from(this._des.update(t))},u.prototype._final=function(){return o.from(this._des.final())}},9715:(t,e)=>{e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},3663:(t,e,r)=>{var i=r(8764).Buffer,n=r(3550),s=r(1798);function o(t){var e,r=t.modulus.byteLength();do{e=new n(s(r))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=o(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),s=e.modulus.byteLength(),a=new n(t).mul(r.blinder).umod(e.modulus),u=a.toRed(n.mont(e.prime1)),h=a.toRed(n.mont(e.prime2)),c=e.coefficient,f=e.prime1,l=e.prime2,d=u.redPow(e.exponent1).fromRed(),p=h.redPow(e.exponent2).fromRed(),m=d.isub(p).imul(c).umod(f).imul(l);return p.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike(i,"be",s)}a.getr=o,t.exports=a},6042:(t,e,r)=>{t.exports=r(5207)},4743:(t,e,r)=>{var i=r(9509).Buffer,n=r(3482),s=r(8473),o=r(5717),a=r(2957),u=r(7753),h=r(5207);function c(t){s.Writable.call(this);var e=h[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){s.Writable.call(this);var e=h[t];if(!e)throw new Error("Unknown message digest");this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){return new c(t)}function d(t){return new f(t)}Object.keys(h).forEach((function(t){h[t].id=i.from(h[t].id,"hex"),h[t.toLowerCase()]=h[t]})),o(c,s.Writable),c.prototype._write=function(t,e,r){this._hash.update(t),r()},c.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},c.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),i=a(r,t,this._hashType,this._signType,this._tag);return e?i.toString(e):i},o(f,s.Writable),f.prototype._write=function(t,e,r){this._hash.update(t),r()},f.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},f.prototype.verify=function(t,e,r){"string"==typeof e&&(e=i.from(e,r)),this.end();var n=this._hash.digest();return u(e,n,t,this._signType,this._tag)},t.exports={Sign:l,Verify:d,createSign:l,createVerify:d}},2957:(t,e,r)=>{var i=r(9509).Buffer,n=r(8355),s=r(3663),o=r(6266).ec,a=r(3550),u=r(980),h=r(1308);function c(t,e,r,s){if((t=i.from(t.toArray())).length<e.byteLength()){var o=i.alloc(e.byteLength()-t.length);t=i.concat([o,t])}var a=r.length,u=function(t,e){t=(t=f(t,e)).mod(e);var r=i.from(t.toArray());if(r.length<e.byteLength()){var n=i.alloc(e.byteLength()-r.length);r=i.concat([n,r])}return r}(r,e),h=i.alloc(a);h.fill(1);var c=i.alloc(a);return c=n(s,c).update(h).update(i.from([0])).update(t).update(u).digest(),h=n(s,c).update(h).digest(),{k:c=n(s,c).update(h).update(i.from([1])).update(t).update(u).digest(),v:h=n(s,c).update(h).digest()}}function f(t,e){var r=new a(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function l(t,e,r){var s,o;do{for(s=i.alloc(0);8*s.length<t.bitLength();)e.v=n(r,e.k).update(e.v).digest(),s=i.concat([s,e.v]);o=f(s,t),e.k=n(r,e.k).update(e.v).update(i.from([0])).digest(),e.v=n(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function d(t,e,r,i){return t.toRed(a.mont(r)).redPow(e).fromRed().mod(i)}t.exports=function(t,e,r,n,p){var m=u(e);if(m.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return function(t,e){var r=h[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new o(r).keyFromPrivate(e.privateKey).sign(t);return i.from(n.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==n)throw new Error("wrong private key type");return function(t,e,r){for(var n,s=e.params.priv_key,o=e.params.p,u=e.params.q,h=e.params.g,p=new a(0),m=f(t,u).mod(u),g=!1,y=c(s,u,t,r);!1===g;)p=d(h,n=l(u,y,r),o,u),0===(g=n.invm(u).imul(m.add(s.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var r=[48,t.length+e.length+4,2,t.length];return r=r.concat(t,[2,e.length],e),i.from(r)}(p,g)}(t,m,r)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");t=i.concat([p,t]);for(var g=m.modulus.byteLength(),y=[0,1];t.length+y.length+1<g;)y.push(255);y.push(0);for(var b=-1;++b<t.length;)y.push(t[b]);return s(y,m)},t.exports.getKey=c,t.exports.makeKey=l},7753:(t,e,r)=>{var i=r(9509).Buffer,n=r(3550),s=r(6266).ec,o=r(980),a=r(1308);function u(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,h,c){var f=o(r);if("ec"===f.type){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");return function(t,e,r){var i=a[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new s(i),o=r.data.subjectPrivateKey.data;return n.verify(e,t,o)}(t,e,f)}if("dsa"===f.type){if("dsa"!==h)throw new Error("wrong public key type");return function(t,e,r){var i=r.data.p,s=r.data.q,a=r.data.g,h=r.data.pub_key,c=o.signature.decode(t,"der"),f=c.s,l=c.r;u(f,s),u(l,s);var d=n.mont(i),p=f.invm(s);return 0===a.toRed(d).redPow(new n(e).mul(p).mod(s)).fromRed().mul(h.toRed(d).redPow(l.mul(p).mod(s)).fromRed()).mod(i).mod(s).cmp(l)}(t,e,f)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");e=i.concat([c,e]);for(var l=f.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<l;)d.push(255),p++;d.push(0);for(var m=-1;++m<e.length;)d.push(e[m]);d=i.from(d);var g=n.mont(f.modulus);t=(t=new n(t).toRed(g)).redPow(new n(f.publicExponent)),t=i.from(t.fromRed().toArray());var y=p<8?1:0;for(l=Math.min(t.length,d.length),t.length!==d.length&&(y=1),m=-1;++m<l;)y|=t[m]^d[m];return 0===y}},7191:(t,e,r)=>{const i=r(8162);t.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7295:(t,e,r)=>{var i=r(8764).Buffer;t.exports=function(t,e){for(var r=Math.min(t.length,e.length),n=new i(r),s=0;s<r;++s)n[s]=t[s]^e[s];return n}},8764:(t,e,r)=>{"use strict";const i=r(9742),n=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let i=a(r);const n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return u.from(i,e,r);const n=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),a(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let i=0;i<e;i+=1)r[i]=255&t[i];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,u.prototype),i}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(n)return i?-1:W(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return B(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function y(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}function b(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,i,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,i,n){let s,o=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let i=-1;for(s=r;s<a;s++)if(h(t,s)===h(e,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===u)return i*o}else-1!==i&&(s-=s-i),i=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let i=0;i<u;i++)if(h(t,s+i)!==h(e,i)){r=!1;break}if(r)return s}return-1}function v(t,e,r,i){r=Number(r)||0;const n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;const s=e.length;let o;for(i>s/2&&(i=s/2),o=0;o<i;++o){const i=parseInt(e.substr(2*o,2),16);if(Z(i))return o;t[r+o]=i}return o}function _(t,e,r,i){return G(W(e,t.length-r),t,r,i)}function M(t,e,r,i){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function S(t,e,r,i){return G(V(e),t,r,i)}function E(t,e,r,i){return G(function(t,e){let r,i,n;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),i=r>>8,n=r%256,s.push(n),s.push(i);return s}(e,t.length-r),t,r,i)}function A(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);const i=[];let n=e;for(;n<r;){const e=t[n];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=r){let r,i,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[n+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(s=u));break;case 3:r=t[n+1],i=t[n+2],128==(192&r)&&128==(192&i)&&(u=(15&e)<<12|(63&r)<<6|63&i,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=t[n+1],i=t[n+2],a=t[n+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&i)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=x));return r}(i)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const i=u.allocUnsafe(e);let n=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))n+e.length>i.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(i,n)):Uint8Array.prototype.set.call(i,e,n);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,n)}n+=e.length}return i},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,r,i,n){if(J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(n>>>=0)-(i>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),h=this.slice(i,n),c=t.slice(e,r);for(let t=0;t<a;++t)if(h[t]!==c[t]){s=h[t],o=c[t];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}const n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return M(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function B(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function I(t,e,r){const i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=e;i<r;++i)n+=X[t[i]];return n}function R(t,e,r){const i=t.slice(e,r);let n="";for(let t=0;t<i.length-1;t+=2)n+=String.fromCharCode(i[t]+256*i[t+1]);return n}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,i,n,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function O(t,e,r,i,n){H(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function U(t,e,r,i,n){H(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function N(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,i,s){return e=+e,r>>>=0,s||N(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function q(t,e,r,i,s){return e=+e,r>>>=0,s||N(t,0,r,8),n.write(t,e,r,i,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,u.prototype),i},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let i=this[t],n=1,s=0;for(;++s<e&&(n*=256);)i+=this[t+s]*n;return i},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let i=this[t+--e],n=1;for(;e>0&&(n*=256);)i+=this[t+--e]*n;return i},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let i=this[t],n=1,s=0;for(;++s<e&&(n*=256);)i+=this[t+s]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let i=e,n=1,s=this[t+--i];for(;i>0&&(n*=256);)s+=this[t+--i]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),n.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),n.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),n.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),n.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||C(this,t,e,r,Math.pow(2,8*r)-1,0);let n=1,s=0;for(this[e]=255&t;++s<r&&(n*=256);)this[e+s]=t/n&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||C(this,t,e,r,Math.pow(2,8*r)-1,0);let n=r-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}let n=0,s=1,o=0;for(this[e]=255&t;++n<r&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return q(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return q(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,i){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);const n=i-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),n},u.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let n;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{const s=u.isBuffer(t)?t:u.from(t,i),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=s[n%o]}return this};const z={};function D(t,e,r){z[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function H(t,e,r,i,n,s){if(t>r||t<e){const i="bigint"==typeof e?"n":"";let n;throw n=s>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(s+1)}${i}`:`>= -(2${i} ** ${8*(s+1)-1}${i}) and < 2 ** ${8*(s+1)-1}${i}`:`>= ${e}${i} and <= ${r}${i}`,new z.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,r){F(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||K(e,t.length-(r+1))}(i,n,s)}function F(t,e){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,r){if(Math.floor(t)!==t)throw F(t,r),new z.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=j(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=j(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const i=t.length;let n=null;const s=[];for(let o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function V(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},1027:(t,e,r)=>{var i=r(9509).Buffer,n=r(2830).Transform,s=r(2553).s;function o(t){n.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(o,n),o.prototype.update=function(t,e,r){"string"==typeof t&&(t=i.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i},t.exports=o},6393:(t,e,r)=>{var i=r(8764).Buffer,n=r(6266),s=r(6426);t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function u(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new i(t);if(r&&n.length<r){var s=new i(r-n.length);s.fill(0),n=i.concat([s,n])}return e?n.toString(e):n}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,r){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),u(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),u(r,t)},a.prototype.getPrivateKey=function(t){return u(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",i.isBuffer(t)||(t=new i(t,e));var r=new s(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},6426:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8623).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);r=0!=(s=a>>>24-n&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(_,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},n(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},3482:(t,e,r)=>{"use strict";var i=r(5717),n=r(2318),s=r(9785),o=r(9072),a=r(1027);function u(t){a.call(this,"digest"),this._hash=t}i(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new n:"rmd160"===t||"ripemd160"===t?new s:new u(o(t))}},8028:(t,e,r)=>{var i=r(2318);t.exports=function(t){return(new i).update(t).digest()}},8355:(t,e,r)=>{"use strict";var i=r(5717),n=r(1031),s=r(1027),o=r(9509).Buffer,a=r(8028),u=r(9785),h=r(9072),c=o.alloc(128);function f(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>r?e=("rmd160"===t?new u:h(t)).update(e).digest():e.length<r&&(e=o.concat([e,c],r));for(var i=this._ipad=o.allocUnsafe(r),n=this._opad=o.allocUnsafe(r),a=0;a<r;a++)i[a]=54^e[a],n[a]=92^e[a];this._hash="rmd160"===t?new u:h(t),this._hash.update(i)}i(f,s),f.prototype._update=function(t){this._hash.update(t)},f.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:h(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new f("rmd160",e):"md5"===t?new n(a,e):new f(t,e)}},1031:(t,e,r)=>{"use strict";var i=r(5717),n=r(9509).Buffer,s=r(1027),o=n.alloc(128),a=64;function u(t,e){s.call(this,"digest"),"string"==typeof e&&(e=n.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=n.concat([e,o],a));for(var r=this._ipad=n.allocUnsafe(a),i=this._opad=n.allocUnsafe(a),u=0;u<a;u++)r[u]=54^e[u],i[u]=92^e[u];this._hash=[r]}i(u,s),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,t]))},t.exports=u},5835:(t,e,r)=>{"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(1798),e.createHash=e.Hash=r(3482),e.createHmac=e.Hmac=r(8355);var i=r(6042),n=Object.keys(i),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);e.getHashes=function(){return s};var o=r(5632);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync;var a=r(3614);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var u=r(2607);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var h=r(4743);e.createSign=h.createSign,e.Sign=h.Sign,e.createVerify=h.createVerify,e.Verify=h.Verify,e.createECDH=r(6393);var c=r(7900);e.publicEncrypt=c.publicEncrypt,e.privateEncrypt=c.privateEncrypt,e.publicDecrypt=c.publicDecrypt,e.privateDecrypt=c.privateDecrypt;var f=r(7963);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},5251:(t,e,r)=>{"use strict";e.utils=r(1278),e.Cipher=r(5756),e.DES=r(778),e.CBC=r(9051),e.EDE=r(651)},9051:(t,e,r)=>{"use strict";var i=r(9746),n=r(5717),s={};function o(t){i.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}n(e,t);for(var r=Object.keys(s),i=0;i<r.length;i++){var o=r[i];e.prototype[o]=s[o]}return e.create=function(t){return new e(t)},e},s._cbcInit=function(){var t=new o(this.options.iv);this._cbcState=t},s._update=function(t,e,r,i){var n=this._cbcState,s=this.constructor.super_.prototype,o=n.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];for(s._update.call(this,o,0,r,i),a=0;a<this.blockSize;a++)o[a]=r[i+a]}else{for(s._update.call(this,t,e,r,i),a=0;a<this.blockSize;a++)r[i+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}},5756:(t,e,r)=>{"use strict";var i=r(9746);function n(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},n.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<r;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(t){var e=0,r=0,i=(this.bufferOff+t.length)/this.blockSize|0,n=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(n,r)));for(var s=t.length-(t.length-e)%this.blockSize;e<s;e+=this.blockSize)this._update(t,e,n,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return n},n.prototype._updateDecrypt=function(t){for(var e=0,r=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,n=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),r+=this._flushBuffer(n,r);return e+=this._buffer(t,e),n},n.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},n.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},n.prototype._unpad=function(t){return t},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},778:(t,e,r)=>{"use strict";var i=r(9746),n=r(5717),s=r(1278),o=r(5756);function a(){this.tmp=new Array(2),this.keys=null}function u(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}n(u,o),t.exports=u,u.create=function(t){return new u(t)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(e,0),n=s.readUInt32BE(e,4);s.pc1(r,n,t.tmp,0),r=t.tmp[0],n=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=h[o>>>1];r=s.r28shl(r,a),n=s.r28shl(n,a),s.pc2(r,n,t.keys,o)}},u.prototype._update=function(t,e,r,i){var n=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],"encrypt"===this.type?this._encrypt(n,o,a,n.tmp,0):this._decrypt(n,o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],s.writeUInt32BE(r,o,i),s.writeUInt32BE(r,a,i+4)},u.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var r=t.length-e,i=e;i<t.length;i++)t[i]=r;return!0},u.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)i.equal(t[r],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,r,i,n){for(var o=e,a=r,u=0;u<t.keys.length;u+=2){var h=t.keys[u],c=t.keys[u+1];s.expand(a,t.tmp,0),h^=t.tmp[0],c^=t.tmp[1];var f=s.substitute(h,c),l=a;a=(o^s.permute(f))>>>0,o=l}s.rip(a,o,i,n)},u.prototype._decrypt=function(t,e,r,i,n){for(var o=r,a=e,u=t.keys.length-2;u>=0;u-=2){var h=t.keys[u],c=t.keys[u+1];s.expand(o,t.tmp,0),h^=t.tmp[0],c^=t.tmp[1];var f=s.substitute(h,c),l=o;o=(a^s.permute(f))>>>0,a=l}s.rip(o,a,i,n)}},651:(t,e,r)=>{"use strict";var i=r(9746),n=r(5717),s=r(5756),o=r(778);function a(t,e){i.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:n}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:r})]}function u(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}n(u,s),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,r,i){var n=this._edeState;n.ciphers[0]._update(t,e,r,i),n.ciphers[1]._update(r,i,r,i),n.ciphers[2]._update(r,i,r,i)},u.prototype._pad=o.prototype._pad,u.prototype._unpad=o.prototype._unpad},1278:(t,e)=>{"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,i){for(var n=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)n<<=1,n|=e>>>a+o&1;for(a=0;a<=24;a+=8)n<<=1,n|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}r[i+0]=n>>>0,r[i+1]=s>>>0},e.rip=function(t,e,r,i){for(var n=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)n<<=1,n|=e>>>a+o&1,n<<=1,n|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;r[i+0]=n>>>0,r[i+1]=s>>>0},e.pc1=function(t,e,r,i){for(var n=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)n<<=1,n|=e>>a+o&1;for(a=0;a<=24;a+=8)n<<=1,n|=t>>a+o&1}for(a=0;a<=24;a+=8)n<<=1,n|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;r[i+0]=n>>>0,r[i+1]=s>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,i,n){for(var s=0,o=0,a=r.length>>>1,u=0;u<a;u++)s<<=1,s|=t>>>r[u]&1;for(u=a;u<r.length;u++)o<<=1,o|=e>>>r[u]&1;i[n+0]=s>>>0,i[n+1]=o>>>0},e.expand=function(t,e,r){var i=0,n=0;i=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=t>>>s&63;for(s=11;s>=3;s-=4)n|=t>>>s&63,n<<=6;n|=(31&t)<<1|t>>>31,e[r+0]=i>>>0,e[r+1]=n>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,n=0;n<4;n++)r<<=4,r|=i[64*n+(t>>>18-6*n&63)];for(n=0;n<4;n++)r<<=4,r|=i[256+64*n+(e>>>18-6*n&63)];return r>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<n.length;r++)e<<=1,e|=t>>>n[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var i=t.toString(2);i.length<e;)i="0"+i;for(var n=[],s=0;s<e;s+=r)n.push(i.slice(s,s+r));return n.join(" ")}},2607:(t,e,r)=>{var i=r(8764).Buffer,n=r(3590),s=r(9799),o=r(7426),a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new i(s[t].prime,"hex"),r=new i(s[t].gen,"hex");return new o(e,r)},e.createDiffieHellman=e.DiffieHellman=function t(e,r,s,u){return i.isBuffer(r)||void 0===a[r]?t(e,"binary",r,s):(r=r||"binary",u=u||"binary",s=s||new i([2]),i.isBuffer(s)||(s=new i(s,u)),"number"==typeof e?new o(n(e,s),s,!0):(i.isBuffer(e)||(e=new i(e,r)),new o(e,s,!0)))}},7426:(t,e,r)=>{var i=r(8764).Buffer,n=r(3620),s=new(r(3047)),o=new n(24),a=new n(11),u=new n(10),h=new n(3),c=new n(7),f=r(3590),l=r(1798);function d(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this._pub=new n(t),this}function p(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this._priv=new n(t),this}t.exports=g;var m={};function g(t,e,r){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function y(t,e){var r=new i(t.toArray());return e?r.toString(e):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in m)return m[i];var n,l=0;if(t.isEven()||!f.simpleSieve||!f.fermatTest(t)||!s.test(t))return l+=1,l+="02"===r||"05"===r?8:4,m[i]=l,l;switch(s.test(t.shrn(1))||(l+=2),r){case"02":t.mod(o).cmp(a)&&(l+=8);break;case"05":(n=t.mod(u)).cmp(h)&&n.cmp(c)&&(l+=8);break;default:l+=4}return m[i]=l,l}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new n(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new i(e.toArray()),s=this.getPrime();if(r.length<s.length){var o=new i(s.length-r.length);o.fill(0),r=i.concat([o,r])}return r},g.prototype.getPublicKey=function(t){return y(this._pub,t)},g.prototype.getPrivateKey=function(t){return y(this._priv,t)},g.prototype.getPrime=function(t){return y(this.__prime,t)},g.prototype.getGenerator=function(t){return y(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.__gen=t,this._gen=new n(t),this}},3590:(t,e,r)=>{var i=r(1798);t.exports=b,b.simpleSieve=g,b.fermatTest=y;var n=r(3620),s=new n(24),o=new(r(3047)),a=new n(1),u=new n(2),h=new n(5),c=(new n(16),new n(8),new n(10)),f=new n(3),l=(new n(7),new n(11)),d=new n(4),p=(new n(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var i=Math.ceil(Math.sqrt(r)),n=0;n<e&&t[n]<=i&&r%t[n]!=0;n++);e!==n&&t[n]<=i||(t[e++]=r)}return p=t,t}function g(t){for(var e=m(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function y(t){var e=n.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function b(t,e){if(t<16)return new n(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new n(e);;){for(r=new n(i(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),e.cmp(u)){if(!e.cmp(h))for(;r.mod(c).cmp(f);)r.iadd(d)}else for(;r.mod(s).cmp(l);)r.iadd(d);if(g(p=r.shrn(1))&&g(r)&&y(p)&&y(r)&&o.test(p)&&o.test(r))return r}}},3620:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7748).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);r=0!=(s=a>>>24-n&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(_,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},n(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6266:(t,e,r)=>{"use strict";var i=e;i.version=r(8597).i8,i.utils=r(953),i.rand=r(9931),i.curve=r(8254),i.curves=r(5427),i.ec=r(7954),i.eddsa=r(5980)},4918:(t,e,r)=>{"use strict";var i=r(3785),n=r(953),s=n.getNAF,o=n.getJSF,a=n.assert;function u(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),i=s(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var o,u,h=[];for(o=0;o<i.length;o+=r.step){u=0;for(var c=o+r.step-1;c>=o;c--)u=(u<<1)+i[c];h.push(u)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=n;d>0;d--){for(o=0;o<h.length;o++)(u=h[o])===d?l=l.mixedAdd(r.points[o]):u===-d&&(l=l.mixedAdd(r.points[o].neg()));f=f.add(l)}return f.toP()},u.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=s(e,r,this._bitLength),u=this.jpoint(null,null,null),h=o.length-1;h>=0;h--){for(var c=0;h>=0&&0===o[h];h--)c++;if(h>=0&&c++,u=u.dblp(c),h<0)break;var f=o[h];a(0!==f),u="affine"===t.type?f>0?u.mixedAdd(n[f-1>>1]):u.mixedAdd(n[-f-1>>1].neg()):f>0?u.add(n[f-1>>1]):u.add(n[-f-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,i,n){var a,u,h,c=this._wnafT1,f=this._wnafT2,l=this._wnafT3,d=0;for(a=0;a<i;a++){var p=(h=e[a])._getNAFPoints(t);c[a]=p.wnd,f[a]=p.points}for(a=i-1;a>=1;a-=2){var m=a-1,g=a;if(1===c[m]&&1===c[g]){var y=[e[m],null,null,e[g]];0===e[m].y.cmp(e[g].y)?(y[1]=e[m].add(e[g]),y[2]=e[m].toJ().mixedAdd(e[g].neg())):0===e[m].y.cmp(e[g].y.redNeg())?(y[1]=e[m].toJ().mixedAdd(e[g]),y[2]=e[m].add(e[g].neg())):(y[1]=e[m].toJ().mixedAdd(e[g]),y[2]=e[m].toJ().mixedAdd(e[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],w=o(r[m],r[g]);for(d=Math.max(w[0].length,d),l[m]=new Array(d),l[g]=new Array(d),u=0;u<d;u++){var v=0|w[0][u],_=0|w[1][u];l[m][u]=b[3*(v+1)+(_+1)],l[g][u]=0,f[m]=y}}else l[m]=s(r[m],c[m],this._bitLength),l[g]=s(r[g],c[g],this._bitLength),d=Math.max(l[m].length,d),d=Math.max(l[g].length,d)}var M=this.jpoint(null,null,null),S=this._wnafT4;for(a=d;a>=0;a--){for(var E=0;a>=0;){var A=!0;for(u=0;u<i;u++)S[u]=0|l[u][a],0!==S[u]&&(A=!1);if(!A)break;E++,a--}if(a>=0&&E++,M=M.dblp(E),a<0)break;for(u=0;u<i;u++){var k=S[u];0!==k&&(k>0?h=f[u][k-1>>1]:k<0&&(h=f[u][-k-1>>1].neg()),M="affine"===h.type?M.mixedAdd(h):M.add(h))}}for(a=0;a<i;a++)f[a]=null;return n?M:M.toP()},u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(t){return this.encode(t,!0)},h.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},h.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},h.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},h.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},h.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},h.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},1138:(t,e,r)=>{"use strict";var i=r(953),n=r(3785),s=r(5717),o=r(4918),a=i.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new n(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function h(t,e,r,i,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(e,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},u.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(n)},s(h,o.BasePoint),u.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},u.prototype.point=function(t,e,r,i){return new h(this,t,e,r,i)},h.fromJSON=function(t,e){return new h(t,e[0],e[1],e[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),o=s.redSub(r),a=i.redSub(e),u=n.redMul(o),h=s.redMul(a),c=n.redMul(a),f=o.redMul(s);return this.curve.point(u,h,f,c)},h.prototype._projDbl=function(){var t,e,r,i,n,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var h=(i=this.curve._mulA(a)).redAdd(u);this.zOne?(t=o.redSub(a).redSub(u).redMul(h.redSub(this.curve.two)),e=h.redMul(i.redSub(u)),r=h.redSqr().redSub(h).redSub(h)):(n=this.z.redSqr(),s=h.redSub(n).redISub(n),t=o.redSub(a).redISub(u).redMul(s),e=h.redMul(i.redSub(u)),r=h.redMul(s))}else i=a.redAdd(u),n=this.curve._mulC(this.z).redSqr(),s=i.redSub(n).redSub(n),t=this.curve._mulC(o.redISub(i)).redMul(s),e=this.curve._mulC(i).redMul(a.redISub(u)),r=i.redMul(s);return this.curve.point(t,e,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=n.redSub(i),a=n.redAdd(i),u=r.redAdd(e),h=s.redMul(o),c=a.redMul(u),f=s.redMul(u),l=o.redMul(a);return this.curve.point(h,c,l,f)},h.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),n=i.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),u=n.redSub(a),h=n.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),f=i.redMul(u).redMul(c);return this.curve.twisted?(e=i.redMul(h).redMul(o.redSub(this.curve._mulA(s))),r=u.redMul(h)):(e=i.redMul(h).redMul(o.redSub(s)),r=this.curve._mulC(u).redMul(h)),this.curve.point(f,e,r)},h.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},h.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},h.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},h.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},8254:(t,e,r)=>{"use strict";var i=e;i.base=r(4918),i.short=r(6673),i.mont=r(2881),i.edwards=r(1138)},2881:(t,e,r)=>{"use strict";var i=r(3785),n=r(5717),s=r(4918),o=r(953);function a(t){s.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),i=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},n(u,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),i=t.redMul(e),n=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=n.redMul(i),a=e.z.redMul(s.redAdd(o).redSqr()),u=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,i=this.curve.point(null,null),n=[];0!==e.cmpn(0);e.iushrn(1))n.push(e.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(t,e,r)=>{"use strict";var i=r(953),n=r(3785),s=r(5717),o=r(4918),a=i.assert;function u(t){o.call(this,"short",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(t,e,r,i){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(e,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,r,i){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(e,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,o),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new n(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new n(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new n(t.a,16),b:new n(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:n.mont(t),r=new n(2).toRed(e).redInvm(),i=r.redNeg(),s=new n(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,i,s,o,a,u,h,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,d=this.n.clone(),p=new n(1),m=new n(0),g=new n(0),y=new n(1),b=0;0!==l.cmpn(0);){var w=d.div(l);h=d.sub(w.mul(l)),c=g.sub(w.mul(p));var v=y.sub(w.mul(m));if(!i&&h.cmp(f)<0)e=u.neg(),r=p,i=h.neg(),s=c;else if(i&&2==++b)break;u=h,d=l,l=h,g=p,p=c,y=m,m=v}o=h.neg(),a=c;var _=i.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),i.negative&&(i=i.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:s},{a:o,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),u=n.mul(r.b),h=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:u.add(h).neg()}},u.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(e&&!s||!e&&s)&&(i=i.redNeg()),this.point(t,i)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[2*s]=a,i[2*s+1]=u,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var h=this._wnafMulAdd(1,i,n,2*s,r),c=0;c<2*s;c++)i[c]=null,n[c]=null;return h},s(h,o.BasePoint),u.prototype.point=function(t,e,r){return new h(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return h.fromJSON(this,t,e)},h.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},h.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(t){return t=new n(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},h.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},h.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},h.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(c,o.BasePoint),u.prototype.jpoint=function(t,e,r){return new c(this,t,e,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),c=h.redMul(a),f=i.redMul(h),l=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},c.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),c=r.redMul(u),f=a.redSqr().redIAdd(h).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(n.redMul(h)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),h=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=h.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(u)),p=s.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(l);var b=h.redMul(a);e+1<t&&(u=u.redMul(l)),s=m,a=b,h=y}return this.curve.jpoint(s,h.redMul(n),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),u=a.redSqr().redISub(o).redISub(o),h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),t=u,e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},c.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);t=u;var h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),u=e.redAdd(e),h=(u=u.redIAdd(u)).redMul(o),c=a.redSqr().redISub(h.redAdd(h)),f=h.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=i.redIAdd(i);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),c=e.redMul(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},c.prototype.mul=function(t,e){return t=new n(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},5427:(t,e,r)=>{"use strict";var i,n=e,s=r(3715),o=r(8254),a=r(953).assert;function u(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=u,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(1037)}catch(t){i=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},7954:(t,e,r)=>{"use strict";var i=r(3785),n=r(2156),s=r(953),o=r(5427),a=r(9931),u=s.assert,h=r(1251),c=r(611);function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new h(this,t)},f.prototype.keyFromPrivate=function(t,e){return h.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return h.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new n({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},f.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new i(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),u=t.toArray("be",o),h=new n({hash:this.hash,entropy:a,nonce:u,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new i(1)),l=0;;l++){var d=s.k?s.k(l):new i(h.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=d.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new c({r:g,s:y,recoveryParam:b})}}}}}},f.prototype.verify=function(t,e,r,n){t=this._truncateToN(new i(t,16)),r=this.keyFromPublic(r,n);var s=(e=new c(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,u=o.invm(this.n),h=u.mul(t).umod(this.n),f=u.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(h,r.getPublic(),f)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(h,r.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},f.prototype.recoverPubKey=function(t,e,r,n){u((3&r)===r,"The recovery param is more than two bits"),e=new c(e,n);var s=this.n,o=new i(t),a=e.r,h=e.s,f=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),m=h.mul(d).umod(s);return this.g.mulAdd(p,a,m)},f.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new c(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch(t){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},1251:(t,e,r)=>{"use strict";var i=r(3785),n=r(953).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?n(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||n(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:(t,e,r)=>{"use strict";var i=r(3785),n=r(953),s=n.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function h(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=n.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;var h=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var c=u(t,r);if(!1===c)return!1;if(t.length!==c+r.place)return!1;var f=t.slice(r.place,c+r.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new i(h),this.s=new i(f),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=h(e),r=h(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];c(i,e.length),(i=i.concat(e)).push(2),c(i,r.length);var s=i.concat(r),o=[48];return c(o,s.length),o=o.concat(s),n.encode(o,t)}},5980:(t,e,r)=>{"use strict";var i=r(3715),n=r(5427),s=r(953),o=s.assert,a=s.parseBytes,u=r(9087),h=r(3622);function c(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof c))return new c(t);t=n[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}t.exports=c,c.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),i=this.hashInt(r.messagePrefix(),t),n=this.g.mul(i),s=this.encodePoint(n),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),u=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:u,Rencoded:s})},c.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var i=this.keyFromPublic(r),n=this.hashInt(e.Rencoded(),i.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(i.pub().mul(n)).eq(s)},c.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},c.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},c.prototype.makeSignature=function(t){return t instanceof h?t:new h(this,t)},c.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},c.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),n=s.intFromLE(r);return this.curve.pointFromY(n,i)},c.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(t){return s.intFromLE(t)},c.prototype.isPoint=function(t){return t instanceof this.pointClass}},9087:(t,e,r)=>{"use strict";var i=r(953),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},a.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=a},3622:(t,e,r)=>{"use strict";var i=r(3785),n=r(953),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},1037:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:(t,e,r)=>{"use strict";var i=e,n=r(3785),s=r(9746),o=r(4504);i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,u=s.andln(n-1);s.isOdd()?(a=u>(n>>1)-1?(n>>1)-u:u,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},i.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,u=t.andln(3)+n&3,h=e.andln(3)+s&3;3===u&&(u=-1),3===h&&(h=-1),o=0==(1&u)?0:3!=(i=t.andln(7)+n&7)&&5!==i||2!==h?u:-u,r[0].push(o),a=0==(1&h)?0:3!=(i=e.andln(7)+s&7)&&5!==i||2!==u?h:-h,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},i.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new n(t,"hex","le")}},3785:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(5568).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);r=0!=(s=a>>>24-n&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(_,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},n(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,h,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,s),!0;case 6:return c.fn.call(c.context,e,i,n,s,o),!0}for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var l,d=c.length;for(h=0;h<d;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),f){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,i);break;case 4:c[h].fn.call(c[h].context,e,i,n);break;default:if(!u)for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c[h].fn.apply(c[h].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var u=0,h=[],c=a.length;u<c;u++)(a[u].fn!==e||n&&!a[u].once||i&&a[u].context!==i)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,s),i(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}m(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,n)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,r,i){var n,s,o,h;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=u(t))>0&&o.length>n&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,h=c,console&&console.warn&&console.warn(h)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=c.bind(i);return n.listener=r,i.wrapFn=n,n}function l(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function m(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(s){i.once&&t.removeEventListener(e,n),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var h=u.length,c=p(u,h);for(r=0;r<h;++r)i(c[r],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,n,s,o;if(a(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},3048:(t,e,r)=>{var i=r(9509).Buffer,n=r(2318);t.exports=function(t,e,r,s){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=i.alloc(o),u=i.alloc(s||0),h=i.alloc(0);o>0||s>0;){var c=new n;c.update(h),c.update(t),e&&c.update(e),h=c.digest();var f=0;if(o>0){var l=a.length-o;f=Math.min(o,h.length),h.copy(a,l,0,f),o-=f}if(f<h.length&&s>0){var d=u.length-s,p=Math.min(s,h.length-f);h.copy(u,d,f,f+p),s-=p}}return h.fill(0),{key:a,iv:u}}},6230:t=>{t.exports="object"==typeof self?self.FormData:window.FormData},3349:(t,e,r)=>{"use strict";var i=r(9509).Buffer,n=r(8473).Transform;function s(t){n.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(s,n),s.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(t){i=t}r(i)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},3715:(t,e,r)=>{var i=e;i.utils=r(6436),i.common=r(5772),i.sha=r(9041),i.ripemd=r(2949),i.hmac=r(2344),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},5772:(t,e,r)=>{"use strict";var i=r(6436),n=r(9746);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),n(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i}},2344:(t,e,r)=>{"use strict";var i=r(6436),n=r(9746);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),n(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},2949:(t,e,r)=>{"use strict";var i=r(6436),n=r(5772),s=i.rotl32,o=i.sum32,a=i.sum32_3,u=i.sum32_4,h=n.BlockHash;function c(){if(!(this instanceof c))return new c;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function l(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(c,h),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],h=this.h[3],c=this.h[4],b=r,w=i,v=n,_=h,M=c,S=0;S<80;S++){var E=o(s(u(r,f(S,i,n,h),t[p[S]+e],l(S)),g[S]),c);r=c,c=h,h=s(n,10),n=i,i=E,E=o(s(u(b,f(79-S,w,v,_),t[m[S]+e],d(S)),y[S]),M),b=M,M=_,_=s(v,10),v=w,w=E}E=a(this.h[1],n,_),this.h[1]=a(this.h[2],h,M),this.h[2]=a(this.h[3],c,b),this.h[3]=a(this.h[4],r,w),this.h[4]=a(this.h[0],i,v),this.h[0]=E},c.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(t,e,r)=>{"use strict";e.sha1=r(4761),e.sha224=r(799),e.sha256=r(9344),e.sha384=r(772),e.sha512=r(5900)},4761:(t,e,r)=>{"use strict";var i=r(6436),n=r(5772),s=r(7038),o=i.rotl32,a=i.sum32,u=i.sum32_5,h=s.ft_1,c=n.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(l,c),t.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=o(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),m=u(o(n,5),h(p,s,c,l),d,r[i],f[p]);d=l,l=c,c=o(s,30),s=n,n=m}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],d)},l.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},799:(t,e,r)=>{"use strict";var i=r(6436),n=r(9344);function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},9344:(t,e,r)=>{"use strict";var i=r(6436),n=r(5772),s=r(7038),o=r(9746),a=i.sum32,u=i.sum32_4,h=i.sum32_5,c=s.ch32,f=s.maj32,l=s.s0_256,d=s.s1_256,p=s.g0_256,m=s.g1_256,g=n.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}i.inherits(b,g),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=u(m(r[i-2]),r[i-7],p(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],b=this.h[4],w=this.h[5],v=this.h[6],_=this.h[7];for(o(this.k.length===r.length),i=0;i<r.length;i++){var M=h(_,d(b),c(b,w,v),this.k[i],r[i]),S=a(l(n),f(n,s,g));_=v,v=w,w=b,b=a(y,M),y=g,g=s,s=n,n=a(M,S)}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],_)},b.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},772:(t,e,r)=>{"use strict";var i=r(6436),n=r(5900);function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},5900:(t,e,r)=>{"use strict";var i=r(6436),n=r(5772),s=r(9746),o=i.rotr64_hi,a=i.rotr64_lo,u=i.shr64_hi,h=i.shr64_lo,c=i.sum64,f=i.sum64_hi,l=i.sum64_lo,d=i.sum64_4_hi,p=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,y=n.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function _(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function M(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function S(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function E(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function k(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=o(t,e,1)^o(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^h(t,e,7);return r<0&&(r+=4294967296),r}function B(t,e){var r=a(t,e,19)^a(e,t,29)^h(t,e,6);return r<0&&(r+=4294967296),r}i.inherits(w,y),t.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=(g=r[i-4],y=r[i-3],b=void 0,(b=o(g,y,19)^o(y,g,29)^u(g,y,6))<0&&(b+=4294967296),b),s=B(r[i-4],r[i-3]),a=r[i-14],h=r[i-13],c=x(r[i-30],r[i-29]),f=T(r[i-30],r[i-29]),l=r[i-32],m=r[i-31];r[i]=d(n,s,a,h,c,f,l,m),r[i+1]=p(n,s,a,h,c,f,l,m)}var g,y,b},w.prototype._update=function(t,e){this._prepareBlock(t,e);var r,i,n,a=this.W,u=this.h[0],h=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7],T=this.h[8],B=this.h[9],I=this.h[10],R=this.h[11],P=this.h[12],C=this.h[13],O=this.h[14],U=this.h[15];s(this.k.length===a.length);for(var N=0;N<a.length;N+=2){var L=O,q=U,z=(n=void 0,(n=o(r=T,i=B,14)^o(r,i,18)^o(i,r,9))<0&&(n+=4294967296),n),D=k(T,B),j=v(T,0,I,0,P),H=_(0,B,0,R,0,C),F=this.k[N],K=this.k[N+1],$=a[N],W=a[N+1],V=m(L,q,z,D,j,H,F,K,$,W),G=g(L,q,z,D,j,H,F,K,$,W);L=E(u,h),q=A(u,h),z=M(u,0,d,0,y),D=S(0,h,0,p,0,b);var J=f(L,q,z,D),Z=l(L,q,z,D);O=P,U=C,P=I,C=R,I=T,R=B,T=f(w,x,V,G),B=l(x,x,V,G),w=y,x=b,y=d,b=p,d=u,p=h,u=f(V,G,J,Z),h=l(V,G,J,Z)}c(this.h,0,u,h),c(this.h,2,d,p),c(this.h,4,y,b),c(this.h,6,w,x),c(this.h,8,T,B),c(this.h,10,I,R),c(this.h,12,P,C),c(this.h,14,O,U)},w.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},7038:(t,e,r)=>{"use strict";var i=r(6436).rotr32;function n(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,i){return 0===t?n(e,r,i):1===t||3===t?o(e,r,i):2===t?s(e,r,i):void 0},e.ch32=n,e.maj32=s,e.p32=o,e.s0_256=function(t){return i(t,2)^i(t,13)^i(t,22)},e.s1_256=function(t){return i(t,6)^i(t,11)^i(t,25)},e.g0_256=function(t){return i(t,7)^i(t,18)^t>>>3},e.g1_256=function(t){return i(t,17)^i(t,19)^t>>>10}},6436:(t,e,r)=>{"use strict";var i=r(9746),n=r(5717);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=n,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=63&o|128):s(t,n)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=63&o|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=63&o|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=o(n)),r+=u(n.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,n){var s=r-e;i(s%4==0);for(var o=new Array(s/4),a=0,u=e;a<o.length;a++,u+=4){var h;h="big"===n?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[a]=h>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];"big"===e?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},e.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},e.sum64=function(t,e,r,i){var n=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s},e.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,i){return e+i>>>0},e.sum64_4_hi=function(t,e,r,i,n,s,o,a){var u=0,h=e;return u+=(h=h+i>>>0)<e?1:0,u+=(h=h+s>>>0)<s?1:0,t+r+n+o+(u+=(h=h+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,i,n,s,o,a){return e+i+s+a>>>0},e.sum64_5_hi=function(t,e,r,i,n,s,o,a,u,h){var c=0,f=e;return c+=(f=f+i>>>0)<e?1:0,c+=(f=f+s>>>0)<s?1:0,c+=(f=f+a>>>0)<a?1:0,t+r+n+o+u+(c+=(f=f+h>>>0)<h?1:0)>>>0},e.sum64_5_lo=function(t,e,r,i,n,s,o,a,u,h){return e+i+s+a+h>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},2156:(t,e,r)=>{"use strict";var i=r(3715),n=r(4504),s=r(9746);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=n.toArray(t.entropy,t.entropyEnc||"hex"),r=n.toArray(t.nonce,t.nonceEnc||"hex"),i=n.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}t.exports=o,o.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=n.toArray(t,e),r=n.toArray(r,i),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,n.encode(o,e)}},645:(t,e)=>{e.read=function(t,e,r,i,n){var s,o,a=8*n-i-1,u=(1<<a)-1,h=u>>1,c=-7,f=r?n-1:0,l=r?-1:1,d=t[e+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-h;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),s-=h}return(d?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,r,i,n,s){var o,a,u,h=8*s-n-1,c=(1<<h)-1,f=c>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+f>=1?l/u:l*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*u-1)*Math.pow(2,n),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=255&a,d+=p,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},1198:(t,e,r)=>{"use strict";const i=r(4608).v4,n=r(7741),s=function(t,e){if(!(this instanceof s))return new s(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return i()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=s,s.prototype.request=function(t,e,r,i){const s=this;let o=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)i=e,o=t;else{"function"==typeof r&&(i=r,r=void 0);const s="function"==typeof i;try{o=n(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(s)return i(t);throw t}if(!s)return o}let u;try{u=JSON.stringify(o,this.options.replacer)}catch(t){return i(t)}return this.callServer(u,(function(t,e){s._parseResponse(t,e,i)})),o},s.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let i;try{i=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(i)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,i.filter(t),i.filter(e))}return r(null,i.error,i.result)}r(null,i)}},7741:(t,e,r)=>{"use strict";const i=r(4608).v4;t.exports=function(t,e,r,n){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(n=n||{}).version?n.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===r){const t="function"==typeof n.generator?n.generator:function(){return i()};o.id=t(o,n)}else 2===s&&null===r?n.notificationIdNull&&(o.id=null):o.id=r;return o}},2023:(module,exports,__webpack_require__)=>{var process=__webpack_require__(4155),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var i=OUTPUT_TYPES[r];e[i]=createOutputMethod(i,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,i){return new HmacSha256(r,e,!0).update(i)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var i=OUTPUT_TYPES[r];e[i]=createHmacOutputMethod(i,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var i,n=typeof t;if("string"===n){var s,o=[],a=t.length,u=0;for(i=0;i<a;++i)(s=t.charCodeAt(i))<128?o[u++]=s:s<2048?(o[u++]=192|s>>6,o[u++]=128|63&s):s<55296||s>=57344?(o[u++]=224|s>>12,o[u++]=128|s>>6&63,o[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++i)),o[u++]=240|s>>18,o[u++]=128|s>>12&63,o[u++]=128|s>>6&63,o[u++]=128|63&s);t=o}else{if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var h=[],c=[];for(i=0;i<64;++i){var f=t[i]||0;h[i]=92^f,c[i]=54^f}Sha256.call(this,e,r),this.update(c),this.oKeyPad=h,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var i,n,s=0,o=t.length,a=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(n=this.start;s<o&&n<64;++s)a[n>>2]|=t[s]<<SHIFT[3&n++];else for(n=this.start;s<o&&n<64;++s)(i=t.charCodeAt(s))<128?a[n>>2]|=i<<SHIFT[3&n++]:i<2048?(a[n>>2]|=(192|i>>6)<<SHIFT[3&n++],a[n>>2]|=(128|63&i)<<SHIFT[3&n++]):i<55296||i>=57344?(a[n>>2]|=(224|i>>12)<<SHIFT[3&n++],a[n>>2]|=(128|i>>6&63)<<SHIFT[3&n++],a[n>>2]|=(128|63&i)<<SHIFT[3&n++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),a[n>>2]|=(240|i>>18)<<SHIFT[3&n++],a[n>>2]|=(128|i>>12&63)<<SHIFT[3&n++],a[n>>2]|=(128|i>>6&63)<<SHIFT[3&n++],a[n>>2]|=(128|63&i)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=a[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,i,n,s,o,a,u,h=this.h0,c=this.h1,f=this.h2,l=this.h3,d=this.h4,p=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((n=y[t-15])>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,r=((n=y[t-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,y[t]=y[t-16]+e+y[t-7]+r<<0;for(u=c&f,t=0;t<64;t+=4)this.first?(this.is224?(s=300032,g=(n=y[0]-1413257819)-150054599<<0,l=n+24177077<<0):(s=704751109,g=(n=y[0]-210244248)-1521486534<<0,l=n+143694565<<0),this.first=!1):(e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),i=(s=h&c)^h&f^u,g=l+(n=g+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&m)+K[t]+y[t])<<0,l=n+(e+i)<<0),e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),i=(o=l&h)^l&c^s,m=f+(n=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&d^~g&p)+K[t+1]+y[t+1])<<0,e=((f=n+(e+i)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),i=(a=f&l)^f&h^o,p=c+(n=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&d)+K[t+2]+y[t+2])<<0,e=((c=n+(e+i)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=(u=c&f)^c&l^a,d=h+(n=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+K[t+3]+y[t+3])<<0,h=n+(e+i)<<0;this.h0=this.h0+h<<0,this.h1=this.h1+c<<0,this.h2=this.h2+f<<0,this.h3=this.h3+l<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3,n=this.h4,s=this.h5,o=this.h6,a=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3,n=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,n>>24&255,n>>16&255,n>>8&255,255&n,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},1094:(t,e,r)=>{var i,n=r(4155);!function(){"use strict";var s="input is invalid type",o="object"==typeof window,a=o?window:{};a.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof n&&n.versions&&n.versions.node?a=r.g:u&&(a=self);var h=!a.JS_SHA3_NO_COMMON_JS&&t.exports,c=r.amdO,f=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),d=[4,1024,262144,67108864],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!f||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var v=function(t,e,r){return function(i){return new U(t,e,t).update(i)[r]()}},_=function(t,e,r){return function(i,n){return new U(t,e,n).update(i)[r]()}},M=function(t,e,r){return function(e,i,n,s){return x["cshake"+t].update(e,i,n,s)[r]()}},S=function(t,e,r){return function(e,i,n,s){return x["kmac"+t].update(e,i,n,s)[r]()}},E=function(t,e,r,i){for(var n=0;n<b.length;++n){var s=b[n];t[s]=e(r,i,s)}return t},A=function(t,e){var r=v(t,e,"hex");return r.create=function(){return new U(t,e,t)},r.update=function(t){return r.create().update(t)},E(r,v,t,e)},k=[{name:"keccak",padding:[1,256,65536,16777216],bits:g,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:g,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:y,createMethod:function(t,e){var r=_(t,e,"hex");return r.create=function(r){return new U(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},E(r,_,t,e)}},{name:"cshake",padding:d,bits:y,createMethod:function(t,e){var r=w[t],i=M(t,0,"hex");return i.create=function(i,n,s){return n||s?new U(t,e,i).bytepad([n,s],r):x["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},E(i,M,t,e)}},{name:"kmac",padding:d,bits:y,createMethod:function(t,e){var r=w[t],i=S(t,0,"hex");return i.create=function(i,n,s){return new N(t,e,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},E(i,S,t,e)}}],x={},T=[],B=0;B<k.length;++B)for(var I=k[B],R=I.bits,P=0;P<R.length;++P){var C=I.name+"_"+R[P];if(T.push(C),x[C]=I.createMethod(R[P],I.padding),"sha3"!==I.name){var O=I.name+R[P];T.push(O),x[O]=x[C]}}function U(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function N(t,e,r){U.call(this,t,e,r)}U.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(s);if(null===t)throw new Error(s);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(s);e=!0}for(var i,n,o=this.blocks,a=this.byteCount,u=t.length,h=this.blockCount,c=0,l=this.s;c<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,i=1;i<h+1;++i)o[i]=0;if(e)for(i=this.start;c<u&&i<a;++c)o[i>>2]|=t[c]<<p[3&i++];else for(i=this.start;c<u&&i<a;++c)(n=t.charCodeAt(c))<128?o[i>>2]|=n<<p[3&i++]:n<2048?(o[i>>2]|=(192|n>>6)<<p[3&i++],o[i>>2]|=(128|63&n)<<p[3&i++]):n<55296||n>=57344?(o[i>>2]|=(224|n>>12)<<p[3&i++],o[i>>2]|=(128|n>>6&63)<<p[3&i++],o[i>>2]|=(128|63&n)<<p[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++c)),o[i>>2]|=(240|n>>18)<<p[3&i++],o[i>>2]|=(128|n>>12&63)<<p[3&i++],o[i>>2]|=(128|n>>6&63)<<p[3&i++],o[i>>2]|=(128|63&n)<<p[3&i++]);if(this.lastByteIndex=i,i>=a){for(this.start=i-a,this.block=o[h],i=0;i<h;++i)l[i]^=o[i];L(l),this.reset=!0}else this.start=i}return this},U.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(r=255&(t>>=8);r>0;)n.unshift(r),r=255&(t>>=8),++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},U.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(s);if(null===t)throw new Error(s);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(s);e=!0}var i=0,n=t.length;if(e)i=n;else for(var o=0;o<t.length;++o){var a=t.charCodeAt(o);a<128?i+=1:a<2048?i+=2:a<55296||a>=57344?i+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(t),i},U.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=e-r%e,s=[];return s.length=n,this.update(s),this},U.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];L(i)}},U.prototype.toString=U.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a="";o<i;){for(s=0;s<e&&o<i;++s,++o)t=r[s],a+=l[t>>4&15]+l[15&t]+l[t>>12&15]+l[t>>8&15]+l[t>>20&15]+l[t>>16&15]+l[t>>28&15]+l[t>>24&15];o%e==0&&(L(r),s=0)}return n&&(t=r[s],a+=l[t>>4&15]+l[15&t],n>1&&(a+=l[t>>12&15]+l[t>>8&15]),n>2&&(a+=l[t>>20&15]+l[t>>16&15])),a},U.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);o<i;){for(s=0;s<e&&o<i;++s,++o)u[o]=r[s];o%e==0&&L(r)}return n&&(u[s]=r[s],t=t.slice(0,a)),t},U.prototype.buffer=U.prototype.arrayBuffer,U.prototype.digest=U.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,u=[];a<n;){for(o=0;o<r&&a<n;++o,++a)t=a<<2,e=i[o],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&L(i)}return s&&(t=a<<2,e=i[o],u[t]=255&e,s>1&&(u[t+1]=e>>8&255),s>2&&(u[t+2]=e>>16&255)),u},N.prototype=new U,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),U.prototype.finalize.call(this)};var L=function(t){var e,r,i,n,s,o,a,u,h,c,f,l,d,p,g,y,b,w,v,_,M,S,E,A,k,x,T,B,I,R,P,C,O,U,N,L,q,z,D,j,H,F,K,$,W,V,G,J,Z,X,Y,Q,tt,et,rt,it,nt,st,ot,at,ut,ht,ct;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],h=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(u<<1|h>>>31),r=s^(h<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(c<<1|f>>>31),r=a^(f<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(l<<1|d>>>31),r=h^(d<<1|l>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(n<<1|s>>>31),r=f^(s<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,p=t[0],g=t[1],V=t[11]<<4|t[10]>>>28,G=t[10]<<4|t[11]>>>28,B=t[20]<<3|t[21]>>>29,I=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,F=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,U=t[2]<<1|t[3]>>>31,N=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,J=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ht=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,q=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,v=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,C=t[45]<<29|t[44]>>>3,O=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,k=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,z=t[26]<<25|t[27]>>>7,D=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,M=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,$=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,T=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=p^~y&w,t[1]=g^~b&v,t[10]=A^~x&B,t[11]=k^~T&I,t[20]=U^~L&z,t[21]=N^~q&D,t[30]=$^~V&J,t[31]=W^~G&Z,t[40]=et^~it&st,t[41]=rt^~nt&ot,t[2]=y^~w&_,t[3]=b^~v&M,t[12]=x^~B&R,t[13]=T^~I&P,t[22]=L^~z&j,t[23]=q^~D&H,t[32]=V^~J&X,t[33]=G^~Z&Y,t[42]=it^~st&at,t[43]=nt^~ot&ut,t[4]=w^~_&S,t[5]=v^~M&E,t[14]=B^~R&C,t[15]=I^~P&O,t[24]=z^~j&F,t[25]=D^~H&K,t[34]=J^~X&Q,t[35]=Z^~Y&tt,t[44]=st^~at&ht,t[45]=ot^~ut&ct,t[6]=_^~S&p,t[7]=M^~E&g,t[16]=R^~C&A,t[17]=P^~O&k,t[26]=j^~F&U,t[27]=H^~K&N,t[36]=X^~Q&$,t[37]=Y^~tt&W,t[46]=at^~ht&et,t[47]=ut^~ct&rt,t[8]=S^~p&y,t[9]=E^~g&b,t[18]=C^~A&x,t[19]=O^~k&T,t[28]=F^~U&L,t[29]=K^~N&q,t[38]=Q^~$&V,t[39]=tt^~W&G,t[48]=ht^~et&it,t[49]=ct^~rt&nt,t[0]^=m[i],t[1]^=m[i+1]};if(h)t.exports=x;else{for(B=0;B<T.length;++B)a[T[B]]=x[T[B]];c&&(void 0===(i=function(){return x}.call(e,r,e,t))||(t.exports=i))}}()},5811:(t,e,r)=>{t.exports=r(6066)(r(9653))},6066:(t,e,r)=>{const i=r(7016),n=r(5675);t.exports=function(t){const e=i(t),r=n(t);return function(t,i){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+t)}}}},7016:(t,e,r)=>{var i=r(8764).Buffer;const{Transform:n}=r(8473);t.exports=t=>class e extends n{constructor(e,r,i,n,s){super(s),this._rate=e,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=n,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let i=null;try{this.update(t,e)}catch(t){i=t}r(i)}_flush(t){let e=null;try{this.push(this.digest())}catch(t){e=t}t(e)}update(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return i.isBuffer(t)||(t=i.from(t,e)),this._state.absorb(t),this}digest(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},5675:(t,e,r)=>{var i=r(8764).Buffer;const{Transform:n}=r(8473);t.exports=t=>class e extends n{constructor(e,r,i,n){super(n),this._rate=e,this._capacity=r,this._delimitedSuffix=i,this._options=n,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let i=null;try{this.update(t,e)}catch(t){i=t}r(i)}_flush(){}_read(t){this.push(this.squeeze(t))}update(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return i.isBuffer(t)||(t=i.from(t,e)),this._state.absorb(t),this}squeeze(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},4040:(t,e)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(let e=0;e<24;++e){const i=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],l=t[9]^t[19]^t[29]^t[39]^t[49];let d=f^(s<<1|o>>>31),p=l^(o<<1|s>>>31);const m=t[0]^d,g=t[1]^p,y=t[10]^d,b=t[11]^p,w=t[20]^d,v=t[21]^p,_=t[30]^d,M=t[31]^p,S=t[40]^d,E=t[41]^p;d=i^(a<<1|u>>>31),p=n^(u<<1|a>>>31);const A=t[2]^d,k=t[3]^p,x=t[12]^d,T=t[13]^p,B=t[22]^d,I=t[23]^p,R=t[32]^d,P=t[33]^p,C=t[42]^d,O=t[43]^p;d=s^(h<<1|c>>>31),p=o^(c<<1|h>>>31);const U=t[4]^d,N=t[5]^p,L=t[14]^d,q=t[15]^p,z=t[24]^d,D=t[25]^p,j=t[34]^d,H=t[35]^p,F=t[44]^d,K=t[45]^p;d=a^(f<<1|l>>>31),p=u^(l<<1|f>>>31);const $=t[6]^d,W=t[7]^p,V=t[16]^d,G=t[17]^p,J=t[26]^d,Z=t[27]^p,X=t[36]^d,Y=t[37]^p,Q=t[46]^d,tt=t[47]^p;d=h^(i<<1|n>>>31),p=c^(n<<1|i>>>31);const et=t[8]^d,rt=t[9]^p,it=t[18]^d,nt=t[19]^p,st=t[28]^d,ot=t[29]^p,at=t[38]^d,ut=t[39]^p,ht=t[48]^d,ct=t[49]^p,ft=m,lt=g,dt=b<<4|y>>>28,pt=y<<4|b>>>28,mt=w<<3|v>>>29,gt=v<<3|w>>>29,yt=M<<9|_>>>23,bt=_<<9|M>>>23,wt=S<<18|E>>>14,vt=E<<18|S>>>14,_t=A<<1|k>>>31,Mt=k<<1|A>>>31,St=T<<12|x>>>20,Et=x<<12|T>>>20,At=B<<10|I>>>22,kt=I<<10|B>>>22,xt=P<<13|R>>>19,Tt=R<<13|P>>>19,Bt=C<<2|O>>>30,It=O<<2|C>>>30,Rt=N<<30|U>>>2,Pt=U<<30|N>>>2,Ct=L<<6|q>>>26,Ot=q<<6|L>>>26,Ut=D<<11|z>>>21,Nt=z<<11|D>>>21,Lt=j<<15|H>>>17,qt=H<<15|j>>>17,zt=K<<29|F>>>3,Dt=F<<29|K>>>3,jt=$<<28|W>>>4,Ht=W<<28|$>>>4,Ft=G<<23|V>>>9,Kt=V<<23|G>>>9,$t=J<<25|Z>>>7,Wt=Z<<25|J>>>7,Vt=X<<21|Y>>>11,Gt=Y<<21|X>>>11,Jt=tt<<24|Q>>>8,Zt=Q<<24|tt>>>8,Xt=et<<27|rt>>>5,Yt=rt<<27|et>>>5,Qt=it<<20|nt>>>12,te=nt<<20|it>>>12,ee=ot<<7|st>>>25,re=st<<7|ot>>>25,ie=at<<8|ut>>>24,ne=ut<<8|at>>>24,se=ht<<14|ct>>>18,oe=ct<<14|ht>>>18;t[0]=ft^~St&Ut,t[1]=lt^~Et&Nt,t[10]=jt^~Qt&mt,t[11]=Ht^~te&gt,t[20]=_t^~Ct&$t,t[21]=Mt^~Ot&Wt,t[30]=Xt^~dt&At,t[31]=Yt^~pt&kt,t[40]=Rt^~Ft&ee,t[41]=Pt^~Kt&re,t[2]=St^~Ut&Vt,t[3]=Et^~Nt&Gt,t[12]=Qt^~mt&xt,t[13]=te^~gt&Tt,t[22]=Ct^~$t&ie,t[23]=Ot^~Wt&ne,t[32]=dt^~At&Lt,t[33]=pt^~kt&qt,t[42]=Ft^~ee&yt,t[43]=Kt^~re&bt,t[4]=Ut^~Vt&se,t[5]=Nt^~Gt&oe,t[14]=mt^~xt&zt,t[15]=gt^~Tt&Dt,t[24]=$t^~ie&wt,t[25]=Wt^~ne&vt,t[34]=At^~Lt&Jt,t[35]=kt^~qt&Zt,t[44]=ee^~yt&Bt,t[45]=re^~bt&It,t[6]=Vt^~se&ft,t[7]=Gt^~oe&lt,t[16]=xt^~zt&jt,t[17]=Tt^~Dt&Ht,t[26]=ie^~wt&_t,t[27]=ne^~vt&Mt,t[36]=Lt^~Jt&Xt,t[37]=qt^~Zt&Yt,t[46]=yt^~Bt&Rt,t[47]=bt^~It&Pt,t[8]=se^~ft&St,t[9]=oe^~lt&Et,t[18]=zt^~jt&Qt,t[19]=Dt^~Ht&te,t[28]=wt^~_t&Ct,t[29]=vt^~Mt&Ot,t[38]=Jt^~Xt&dt,t[39]=Zt^~Yt&pt,t[48]=Bt^~Rt&Ft,t[49]=It^~Pt&Kt,t[0]^=r[2*e],t[1]^=r[2*e+1]}}},9653:(t,e,r)=>{var i=r(8764).Buffer;const n=r(4040);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(t,e){for(let t=0;t<50;++t)this.state[t]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=i.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return e},s.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=s},2318:(t,e,r)=>{"use strict";var i=r(5717),n=r(3349),s=r(9509).Buffer,o=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function h(t,e,r,i,n,s,o){return u(t+(e&r|~e&i)+n+s|0,o)+e|0}function c(t,e,r,i,n,s,o){return u(t+(e&i|r&~i)+n+s|0,o)+e|0}function f(t,e,r,i,n,s,o){return u(t+(e^r^i)+n+s|0,o)+e|0}function l(t,e,r,i,n,s,o){return u(t+(r^(e|~i))+n+s|0,o)+e|0}i(a,n),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,i=this._b,n=this._c,s=this._d;r=h(r,i,n,s,t[0],3614090360,7),s=h(s,r,i,n,t[1],3905402710,12),n=h(n,s,r,i,t[2],606105819,17),i=h(i,n,s,r,t[3],3250441966,22),r=h(r,i,n,s,t[4],4118548399,7),s=h(s,r,i,n,t[5],1200080426,12),n=h(n,s,r,i,t[6],2821735955,17),i=h(i,n,s,r,t[7],4249261313,22),r=h(r,i,n,s,t[8],1770035416,7),s=h(s,r,i,n,t[9],2336552879,12),n=h(n,s,r,i,t[10],4294925233,17),i=h(i,n,s,r,t[11],2304563134,22),r=h(r,i,n,s,t[12],1804603682,7),s=h(s,r,i,n,t[13],4254626195,12),n=h(n,s,r,i,t[14],2792965006,17),r=c(r,i=h(i,n,s,r,t[15],1236535329,22),n,s,t[1],4129170786,5),s=c(s,r,i,n,t[6],3225465664,9),n=c(n,s,r,i,t[11],643717713,14),i=c(i,n,s,r,t[0],3921069994,20),r=c(r,i,n,s,t[5],3593408605,5),s=c(s,r,i,n,t[10],38016083,9),n=c(n,s,r,i,t[15],3634488961,14),i=c(i,n,s,r,t[4],3889429448,20),r=c(r,i,n,s,t[9],568446438,5),s=c(s,r,i,n,t[14],3275163606,9),n=c(n,s,r,i,t[3],4107603335,14),i=c(i,n,s,r,t[8],1163531501,20),r=c(r,i,n,s,t[13],2850285829,5),s=c(s,r,i,n,t[2],4243563512,9),n=c(n,s,r,i,t[7],1735328473,14),r=f(r,i=c(i,n,s,r,t[12],2368359562,20),n,s,t[5],4294588738,4),s=f(s,r,i,n,t[8],2272392833,11),n=f(n,s,r,i,t[11],1839030562,16),i=f(i,n,s,r,t[14],4259657740,23),r=f(r,i,n,s,t[1],2763975236,4),s=f(s,r,i,n,t[4],1272893353,11),n=f(n,s,r,i,t[7],4139469664,16),i=f(i,n,s,r,t[10],3200236656,23),r=f(r,i,n,s,t[13],681279174,4),s=f(s,r,i,n,t[0],3936430074,11),n=f(n,s,r,i,t[3],3572445317,16),i=f(i,n,s,r,t[6],76029189,23),r=f(r,i,n,s,t[9],3654602809,4),s=f(s,r,i,n,t[12],3873151461,11),n=f(n,s,r,i,t[15],530742520,16),r=l(r,i=f(i,n,s,r,t[2],3299628645,23),n,s,t[0],4096336452,6),s=l(s,r,i,n,t[7],1126891415,10),n=l(n,s,r,i,t[14],2878612391,15),i=l(i,n,s,r,t[5],4237533241,21),r=l(r,i,n,s,t[12],1700485571,6),s=l(s,r,i,n,t[3],2399980690,10),n=l(n,s,r,i,t[10],4293915773,15),i=l(i,n,s,r,t[1],2240044497,21),r=l(r,i,n,s,t[8],1873313359,6),s=l(s,r,i,n,t[15],4264355552,10),n=l(n,s,r,i,t[6],2734768916,15),i=l(i,n,s,r,t[13],1309151649,21),r=l(r,i,n,s,t[4],4149444226,6),s=l(s,r,i,n,t[11],3174756917,10),n=l(n,s,r,i,t[2],718787259,15),i=l(i,n,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},3047:(t,e,r)=>{var i=r(6240),n=r(9931);function s(t){this.rand=t||new n.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var n=new i(this.rand.generate(r))}while(n.cmp(t)>=0);return n},s.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},s.prototype.test=function(t,e,r){var n=t.bitLength(),s=i.mont(t),o=new i(1).toRed(s);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var h=t.shrn(u),c=a.toRed(s);e>0;e--){var f=this._randrange(new i(2),a);r&&r(f);var l=f.toRed(s).redPow(h);if(0!==l.cmp(o)&&0!==l.cmp(c)){for(var d=1;d<u;d++){if(0===(l=l.redSqr()).cmp(o))return!1;if(0===l.cmp(c))break}if(d===u)return!1}}return!0},s.prototype.getDivisor=function(t,e){var r=t.bitLength(),n=i.mont(t),s=new i(1).toRed(n);e||(e=Math.max(1,r/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var u=t.shrn(a),h=o.toRed(n);e>0;e--){var c=this._randrange(new i(2),o),f=t.gcd(c);if(0!==f.cmpn(1))return f;var l=c.toRed(n).redPow(u);if(0!==l.cmp(s)&&0!==l.cmp(h)){for(var d=1;d<a;d++){if(0===(l=l.redSqr()).cmp(s))return l.fromRed().subn(1).gcd(t);if(0===l.cmp(h))break}if(d===a)return(l=l.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},6240:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6619).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);r=0!=(s=a>>>24-n&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(_,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},n(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},9746:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},4504:(t,e)=>{"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16));else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}},2818:(t,e,r)=>{"use strict";var i=r(9809);e.certificate=r(1934);var n=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=n;var s=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=s;var o=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));e.PublicKey=o;var a=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=u;var h=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=h;var c=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=c,e.DSAparam=i.define("DSAparam",(function(){this.int()}));var f=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=f;var l=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},1934:(t,e,r)=>{"use strict";var i=r(9809),n=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),u=i.define("RelativeDistinguishedName",(function(){this.setof(s)})),h=i.define("RDNSequence",(function(){this.seqof(u)})),c=i.define("Name",(function(){this.choice({rdnSequence:this.use(h)})})),f=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),l=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(f),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=p},7631:(t,e,r)=>{var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r(3048),a=r(4696),u=r(9509).Buffer;t.exports=function(t,e){var r,h=t.toString(),c=h.match(i);if(c){var f="aes"+c[1],l=u.from(c[2],"hex"),d=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=o(e,l.slice(0,8),parseInt(c[1],10)).key,m=[],g=a.createDecipheriv(f,p,l);m.push(g.update(d)),m.push(g.final()),r=u.concat(m)}else{var y=h.match(s);r=u.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(n)[1],data:r}}},980:(t,e,r)=>{var i=r(2818),n=r(2562),s=r(7631),o=r(4696),a=r(5632),u=r(9509).Buffer;function h(t){var e;"object"!=typeof t||u.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=u.from(t));var r,h,c=s(t,e),f=c.tag,l=c.data;switch(f){case"CERTIFICATE":h=i.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=i.PublicKey.decode(l,"der")),r=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=i.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":l=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=n[t.algorithm.decrypt.cipher.algo.join(".")],h=t.algorithm.decrypt.cipher.iv,c=t.subjectPrivateKey,f=parseInt(s.split("-")[1],10)/8,l=a.pbkdf2Sync(e,r,i,f,"sha1"),d=o.createDecipheriv(s,l,h),p=[];return p.push(d.update(c)),p.push(d.final()),u.concat(p)}(l=i.EncryptedPrivateKey.decode(l,"der"),e);case"PRIVATE KEY":switch(r=(h=i.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:i.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=i.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=i.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+f)}}t.exports=h,h.signature=i.signature},5632:(t,e,r)=>{e.pbkdf2=r(8638),e.pbkdf2Sync=r(1257)},8638:(t,e,r)=>{var i,n,s=r(9509).Buffer,o=r(7357),a=r(2368),u=r(1257),h=r(7777),c=r.g.crypto&&r.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function d(){return n||(n=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(t,e,r,i,n){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},t,i<<3)})).then((function(t){return s.from(t)}))}t.exports=function(t,e,n,m,g,y){"function"==typeof g&&(y=g,g=void 0);var b=f[(g=g||"sha1").toLowerCase()];if(b&&"function"==typeof r.g.Promise){if(o(n,m),t=h(t,a,"Password"),e=h(e,a,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){d()((function(){e(null,t)}))}),(function(t){d()((function(){e(t)}))}))}(function(t){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==l[t])return l[t];var e=p(i=i||s.alloc(8),i,10,128,t).then((function(){return!0})).catch((function(){return!1}));return l[t]=e,e}(b).then((function(r){return r?p(t,e,n,m,b):u(t,e,n,m,g)})),y)}else d()((function(){var r;try{r=u(t,e,n,m,g)}catch(t){return y(t)}y(null,r)}))}},2368:(t,e,r)=>{var i,n=r(4155);i=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=i},7357:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},1257:(t,e,r)=>{var i=r(8028),n=r(9785),s=r(9072),o=r(9509).Buffer,a=r(7357),u=r(2368),h=r(7777),c=o.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(t,e,r){var a=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new n).update(t).digest()}:"md5"===t?i:function(e){return s(t).update(e).digest()}}(t),u="sha512"===t||"sha384"===t?128:64;e.length>u?e=a(e):e.length<u&&(e=o.concat([e,c],u));for(var h=o.allocUnsafe(u+f[t]),l=o.allocUnsafe(u+f[t]),d=0;d<u;d++)h[d]=54^e[d],l[d]=92^e[d];var p=o.allocUnsafe(u+r+4);h.copy(p,0,0,u),this.ipad1=p,this.ipad2=h,this.opad=l,this.alg=t,this.blocksize=u,this.hash=a,this.size=f[t]}l.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,i,n){a(r,i);var s=new l(n=n||"sha1",t=h(t,u,"Password"),(e=h(e,u,"Salt")).length),c=o.allocUnsafe(i),d=o.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,m=f[n],g=Math.ceil(i/m),y=1;y<=g;y++){d.writeUInt32BE(y,e.length);for(var b=s.run(d,s.ipad1),w=b,v=1;v<r;v++){w=s.run(w,s.ipad2);for(var _=0;_<m;_++)b[_]^=w[_]}b.copy(c,p),p+=m}return c}},7777:(t,e,r)=>{var i=r(9509).Buffer;t.exports=function(t,e,r){if(i.isBuffer(t))return t;if("string"==typeof t)return i.from(t,e);if(ArrayBuffer.isView(t))return i.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},4155:t=>{var e,r,i=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,u=[],h=!1,c=-1;function f(){h&&a&&(h=!1,a.length?u=a.concat(u):c=-1,u.length&&l())}function l(){if(!h){var t=o(f);h=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||h||o(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},7900:(t,e,r)=>{e.publicEncrypt=r(6559),e.privateDecrypt=r(6138),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},9199:(t,e,r)=>{var i=r(3482),n=r(9509).Buffer;function s(t){var e=n.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=n.alloc(0),a=0;o.length<e;)r=s(a++),o=n.concat([o,i("sha1").update(t).update(r).digest()]);return o.slice(0,e)}},2144:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7108).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=i)u=h(t,c,c+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(n=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<n|s)).toString(16);r=0!=(s=a>>>24-n&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-n;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,_=w>>>13,M=0|o[4],S=8191&M,E=M>>>13,A=0|o[5],k=8191&A,x=A>>>13,T=0|o[6],B=8191&T,I=T>>>13,R=0|o[7],P=8191&R,C=R>>>13,O=0|o[8],U=8191&O,N=O>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(i=i+Math.imul(f,K)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,j),n=(n=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,H))+Math.imul(_,j)|0,s=Math.imul(_,H),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var wt=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,H))+Math.imul(E,j)|0,s=Math.imul(E,H),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var vt=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,H))+Math.imul(x,j)|0,s=Math.imul(x,H),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(B,j),n=(n=Math.imul(B,H))+Math.imul(I,j)|0,s=Math.imul(I,H),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,G)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(f,st)|0)|0)+((8191&(n=(n=n+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,H))+Math.imul(C,j)|0,s=Math.imul(C,H),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,$)|0,i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(i=i+Math.imul(f,ut)|0)|0)+((8191&(n=(n=n+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var Et=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),i=i+Math.imul(U,K)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(p,ft)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var At=(h+(i=i+Math.imul(f,pt)|0)|0)+((8191&(n=(n=n+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,K),n=(n=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(S,st)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,i=i+Math.imul(v,ut)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var kt=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,i=i+Math.imul(B,rt)|0,n=(n=n+Math.imul(B,it)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(E,ut)|0,s=s+Math.imul(E,ht)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,Z),n=(n=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,it)|0,i=i+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,lt)|0)+Math.imul(E,ft)|0,s=s+Math.imul(E,lt)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,i=i+Math.imul(B,ut)|0,n=(n=n+Math.imul(B,ht)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Bt=(h+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((s=s+Math.imul(E,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(z,rt)|0,s=Math.imul(z,it),i=i+Math.imul(U,st)|0,n=(n=n+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(P,ut)|0,n=(n=n+Math.imul(P,ht)|0)+Math.imul(C,ut)|0,s=s+Math.imul(C,ht)|0,i=i+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,lt)|0)+Math.imul(I,ft)|0,s=s+Math.imul(I,lt)|0;var It=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,st),n=(n=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),i=i+Math.imul(U,ut)|0,n=(n=n+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(P,ft)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(C,ft)|0,s=s+Math.imul(C,lt)|0;var Rt=(h+(i=i+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((s=s+Math.imul(I,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ut),n=(n=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ct=(h+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Ot=(h+(i=Math.imul(q,pt))|0)+((8191&(n=(n=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=Et,u[9]=At,u[10]=kt,u[11]=xt,u[12]=Tt,u[13]=Bt,u[14]=It,u[15]=Rt,u[16]=Pt,u[17]=Ct,u[18]=Ot,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,s){for(var o=0;o<s;o++)i[o]=e[t[o]],n[o]=r[t[o]]},g.prototype.transform=function(t,e,r,i,n,s){this.permute(s,t,e,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=i[c+d],g=r[c+d+o],y=i[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,i[c+d]=m+y,r[c+d+o]=p-g,i[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),f=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,h,i),this.transform(o,s,a,u,i,n),this.transform(h,s,c,f,i,n);for(var d=0;d<i;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,l,s,i,n),this.conjugate(l,s,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(n-=o,n=Math.max(0,n),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r||!(this.words[r]&n))},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!=(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,u=i.length-n.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=i.clone()._ishlnsubmul(n,1,u);0===c.negative&&(i=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),o.isub(u)):(r.isub(e),a.isub(n),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(_,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),l=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],c=u-1;c>=0;c--){var f=h>>c&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}u=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},n(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6138:(t,e,r)=>{var i=r(980),n=r(9199),s=r(7859),o=r(2144),a=r(3663),u=r(3482),h=r(4818),c=r(9509).Buffer;t.exports=function(t,e,r){var f;f=t.padding?t.padding:r?1:4;var l,d=i(t),p=d.modulus.byteLength();if(e.length>p||new o(e).cmp(d.modulus)>=0)throw new Error("decryption error");l=r?h(new o(e),d):a(e,d);var m=c.alloc(p-l.length);if(l=c.concat([m,l],p),4===f)return function(t,e){var r=t.modulus.byteLength(),i=u("sha1").update(c.alloc(0)).digest(),o=i.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),h=e.slice(o+1),f=s(a,n(h,o)),l=s(h,n(f,r-o-1));if(function(t,e){t=c.from(t),e=c.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}(i,l.slice(0,o)))throw new Error("decryption error");for(var d=o;0===l[d];)d++;if(1!==l[d++])throw new Error("decryption error");return l.slice(d)}(d,l);if(1===f)return function(t,e,r){for(var i=e.slice(0,2),n=2,s=0;0!==e[n++];)if(n>=e.length){s++;break}var o=e.slice(2,n-1);if(("0002"!==i.toString("hex")&&!r||"0001"!==i.toString("hex")&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(n)}(0,l,r);if(3===f)return l;throw new Error("unknown padding")}},6559:(t,e,r)=>{var i=r(980),n=r(1798),s=r(3482),o=r(9199),a=r(7859),u=r(2144),h=r(4818),c=r(3663),f=r(9509).Buffer;t.exports=function(t,e,r){var l;l=t.padding?t.padding:r?1:4;var d,p=i(t);if(4===l)d=function(t,e){var r=t.modulus.byteLength(),i=e.length,h=s("sha1").update(f.alloc(0)).digest(),c=h.length,l=2*c;if(i>r-l-2)throw new Error("message too long");var d=f.alloc(r-i-l-2),p=r-c-1,m=n(c),g=a(f.concat([h,d,f.alloc(1,1),e],p),o(m,p)),y=a(m,o(g,c));return new u(f.concat([f.alloc(1),y,g],r))}(p,e);else if(1===l)d=function(t,e,r){var i,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");return i=r?f.alloc(o-s-3,255):function(t){for(var e,r=f.allocUnsafe(t),i=0,s=n(2*t),o=0;i<t;)o===s.length&&(s=n(2*t),o=0),(e=s[o++])&&(r[i++]=e);return r}(o-s-3),new u(f.concat([f.from([0,r?1:2]),i,f.alloc(1),e],o))}(p,e,r);else{if(3!==l)throw new Error("unknown padding");if((d=new u(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?c(d,p):h(d,p)}},4818:(t,e,r)=>{var i=r(2144),n=r(9509).Buffer;t.exports=function(t,e){return n.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}},7859:t=>{t.exports=function(t,e){for(var r=t.length,i=-1;++i<r;)t[i]^=e[i];return t}},1798:(t,e,r)=>{"use strict";var i=r(4155),n=65536,s=r(9509).Buffer,o=r.g.crypto||r.g.msCrypto;o&&o.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(t);if(t>0)if(t>n)for(var a=0;a<t;a+=n)o.getRandomValues(r.slice(a,a+n));else o.getRandomValues(r);return"function"==typeof e?i.nextTick((function(){e(null,r)})):r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},7963:(t,e,r)=>{"use strict";var i=r(4155);function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=r(9509),o=r(1798),a=s.Buffer,u=s.kMaxLength,h=r.g.crypto||r.g.msCrypto,c=Math.pow(2,32)-1;function f(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>c||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function l(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>c||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>u)throw new RangeError("buffer too small")}function d(t,e,r,n){if(i.browser){var s=t.buffer,a=new Uint8Array(s,e,r);return h.getRandomValues(a),n?void i.nextTick((function(){n(null,t)})):t}if(!n)return o(r).copy(t,e),t;o(r,(function(r,i){if(r)return n(r);i.copy(t,e),n(null,t)}))}h&&h.getRandomValues||!i.browser?(e.randomFill=function(t,e,i,n){if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)n=e,e=0,i=t.length;else if("function"==typeof i)n=i,i=t.length-e;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return f(e,t.length),l(i,e,t.length),d(t,e,i,n)},e.randomFillSync=function(t,e,i){if(void 0===e&&(e=0),!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(e,t.length),void 0===i&&(i=t.length-e),l(i,e,t.length),d(t,e,i)}):(e.randomFill=n,e.randomFillSync=n)},4281:t=>{"use strict";var e={};function r(t,r,i){i||(i=Error);var n=function(t){var e,i;function n(e,i,n){return t.call(this,function(t,e,i){return"string"==typeof r?r:r(t,e,i)}(e,i,n))||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=t,e[t]=n}function i(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,s,o,a,u;if("string"==typeof e&&(s="not ",e.substr(0,4)===s)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))o="The ".concat(t," ").concat(n," ").concat(i(e,"type"));else{var h=("number"!=typeof u&&(u=0),u+1>(a=t).length||-1===a.indexOf(".",u)?"argument":"property");o='The "'.concat(t,'" ').concat(h," ").concat(n," ").concat(i(e,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,r)=>{"use strict";var i=r(4155),n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var s=r(9481),o=r(4229);r(5717)(c,s);for(var a=n(o.prototype),u=0;u<a.length;u++){var h=a[u];c.prototype[h]||(c.prototype[h]=o.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(l,this)}function l(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,r)=>{"use strict";t.exports=n;var i=r(4605);function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}r(5717)(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{"use strict";var i,n=r(4155);t.exports=A,A.ReadableState=E,r(7187).EventEmitter;var s,o=function(t,e){return t.listeners(e).length},a=r(2503),u=r(8764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(4616);s=c&&c.debuglog?c.debuglog("stream"):function(){};var f,l,d,p=r(7327),m=r(1195),g=r(2457).getHighWaterMark,y=r(4281).q,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,v=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(A,a);var M=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,e,n){i=i||r(6753),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=r(2553).s),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function A(t){if(i=i||r(6753),!(this instanceof A))return new A(t);var e=this instanceof i;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function k(t,e,r,i,n){s("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(s("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}}(t,a);else if(n||(o=function(t,e){var r,i;return i=e,u.isBuffer(i)||i instanceof h||"string"==typeof e||void 0===e||t.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],e)),r}(a,e)),o)M(t,o);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i)a.endEmitted?M(t,new _):x(t,a,e,!0);else if(a.ended)M(t,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?x(t,a,e,!1):P(t,a)):x(t,a,e,!1)}else i||(a.reading=!1,P(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),P(t,e)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(t,e){e(t)},A.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},A.prototype.unshift=function(t){return k(this,t,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(t){f||(f=r(2553).s);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var T=1073741824;function B(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;s("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(s("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(R,t))}function R(t){var e=t._readableState;s("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function P(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(C,t,e))}function C(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(s("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function U(t){s("readable nexttick read 0"),t.read(0)}function N(t,e){s("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(s("flow",e.flowing);e.flowing&&null!==t.read(););}function q(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function z(t){var e=t._readableState;s("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(D,e,t))}function D(t,e){if(s("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function j(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}A.prototype.read=function(t){s("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return s("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?z(this):I(this),null;if(0===(t=B(t,e))&&e.ended)return 0===e.length&&z(this),null;var i,n=e.needReadable;return s("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&s("length less than watermark",n=!0),e.ended||e.reading?s("reading or ended",n=!1):n&&(s("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=B(r,e))),null===(i=t>0?q(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&z(this)),null!==i&&this.emit("data",i),i},A.prototype._read=function(t){M(this,new v("_read()"))},A.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,e);var a=e&&!1===e.end||t===n.stdout||t===n.stderr?m:u;function u(){s("onend"),t.end()}i.endEmitted?n.nextTick(a):r.once("end",a),t.on("unpipe",(function e(n,o){s("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,s("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",h),t.removeListener("error",l),t.removeListener("unpipe",e),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",f),c=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}));var h=function(t){return function(){var e=t._readableState;s("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",h);var c=!1;function f(e){s("ondata");var n=t.write(e);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==j(i.pipes,t))&&!c&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(e){s("onerror",e),m(),t.removeListener("error",l),0===o(t,"error")&&M(t,e)}function d(){t.removeListener("finish",p),m()}function p(){s("onfinish"),t.removeListener("close",d),m()}function m(){s("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",l),t.once("close",d),t.once("finish",p),t.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),t},A.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=j(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},A.prototype.on=function(t,e){var r=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?I(this):i.reading||n.nextTick(U,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(t,e){var r=a.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(O,this),r},A.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(O,this),e},A.prototype.resume=function(){var t=this._readableState;return t.flowing||(s("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(N,t,e))}(this,t)),t.paused=!1,this},A.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",(function(){if(s("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(n){s("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))})),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){s("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(5850)),l(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=q,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(t,e){return void 0===d&&(d=r(5167)),d(A,t,e)})},4605:(t,e,r)=>{"use strict";t.exports=c;var i=r(4281).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,u=r(6753);function h(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function c(t){if(!(this instanceof c))return new c(t);u.call(this,t),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(e,r){l(t,e,r)}))}function l(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(5717)(c,u),c.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},c.prototype._transform=function(t,e,r){r(new n("_transform()"))},c.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},c.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},c.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,r)=>{"use strict";var i,n=r(4155);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(undefined),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=A,A.WritableState=E;var o,a={deprecate:r(4927)},u=r(2503),h=r(8764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(1195),l=r(2457).getHighWaterMark,d=r(4281).q,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,M=f.errorOrDestroy;function S(){}function E(t,e,o){i=i||r(6753),t=t||{},"boolean"!=typeof o&&(o=e instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=l(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,s){--e.pendingcb,r?(n.nextTick(s,i),n.nextTick(R,t,e),t._writableState.errorEmitted=!0,M(t,i)):(s(i),t._writableState.errorEmitted=!0,M(t,i),R(t,e))}(t,r,i,e,s);else{var o=B(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||T(t,r),i?n.nextTick(x,t,r,o,s):x(t,r,o,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function A(t){var e=this instanceof(i=i||r(6753));if(!e&&!o.call(A,this))return new A(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function k(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function x(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),R(t,e)}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)n[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;n.allBuffers=u,k(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,c=r.encoding,f=r.callback;if(k(t,e,!1,e.objectMode?1:h.length,h,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function B(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(r){e.pendingcb--,r&&M(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)}))}function R(t,e){var r=B(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}r(5717)(A,u),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===A&&t&&t._writableState instanceof E}})):o=function(t){return t instanceof this},A.prototype.pipe=function(){M(this,new y)},A.prototype.write=function(t,e,r){var i,s=this._writableState,o=!1,a=!s.objectMode&&(i=t,h.isBuffer(i)||i instanceof c);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof r&&(r=S),s.ending?function(t,e){var r=new v;M(t,r),n.nextTick(e,r)}(this,r):(a||function(t,e,r,i){var s;return null===r?s=new w:"string"==typeof r||e.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(M(t,s),n.nextTick(i,s),!1)}(this,s,t,r))&&(s.pendingcb++,o=function(t,e,r,i,n,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r)),e}(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,a,i,n,s);return u}(this,s,a,t,e,r)),o},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},A.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(t,e,r){r(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),A.prototype.destroy=f.destroy,A.prototype._undestroy=f.undestroy,A.prototype._destroy=function(t,e){e(t)}},5850:(t,e,r)=>{"use strict";var i,n=r(4155);function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(8610),a=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var r=t[d].read();null!==r&&(t[f]=null,t[a]=null,t[u]=null,e(p(r,!1)))}}function g(t){n.nextTick(m,t)}var y=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((s(i={get stream(){return this[d]},next:function(){var t=this,e=this[h];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){n.nextTick((function(){t[h]?r(t[h]):e(p(void 0,!0))}))}));var r,i=this[f];if(i)r=new Promise(function(t,e){return function(r,i){t.then((function(){e[c]?r(p(void 0,!0)):e[l](r,i)}),i)}}(i,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[l])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),s(i,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),i),y);t.exports=function(t){var e,r=Object.create(b,(s(e={},d,{value:t,writable:!0}),s(e,a,{value:null,writable:!0}),s(e,u,{value:null,writable:!0}),s(e,h,{value:null,writable:!0}),s(e,c,{value:t._readableState.endEmitted,writable:!0}),s(e,l,{value:function(t,e){var i=r[d].read();i?(r[f]=null,r[a]=null,r[u]=null,t(p(i,!1))):(r[a]=t,r[u]=e)},writable:!0}),e));return r[f]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[u];return null!==e&&(r[f]=null,r[a]=null,r[u]=null,e(t)),void(r[h]=t)}var i=r[a];null!==i&&(r[f]=null,r[a]=null,r[u]=null,i(p(void 0,!0))),r[c]=!0})),t.on("readable",g.bind(null,r)),r}},7327:(t,e,r)=>{"use strict";function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var u=r(8764).Buffer,h=r(2361).inspect,c=h&&h.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,r,i,n=u.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,r=n,i=o,u.prototype.copy.call(e,r,i),o+=s.data.length,s=s.next;return n}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,i=e.data;for(t-=i.length;e=e.next;){var n=e.data,s=t>n.length?n.length:t;if(s===n.length?i+=n:i+=n.slice(0,t),0==(t-=s)){s===n.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var n=r.data,s=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,s),0==(t-=s)){s===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(s));break}++i}return this.length-=i,e}},{key:c,value:function(t,e){return h(this,n(n({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1195:(t,e,r)=>{"use strict";var i=r(4155);function n(t,e){o(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,t)):i.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?i.nextTick(s,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,t)):i.nextTick(n,r,t):e?(i.nextTick(s,r),e(t)):i.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,r)=>{"use strict";var i=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}(s||n);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||c()},h=e._writableState&&e._writableState.finished,c=function(){a=!1,h=!0,o||s.call(e)},f=e._readableState&&e._readableState.endEmitted,l=function(){o=!1,f=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!f?(e._readableState&&e._readableState.ended||(t=new i),s.call(e,t)):a&&!h?(e._writableState&&e._writableState.ended||(t=new i),s.call(e,t)):void 0},m=function(){e.req.on("finish",c)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",c),e.on("abort",p),e.req?m():e.on("request",m)):a&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",l),e.on("finish",c),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("end",l),e.removeListener("error",d),e.removeListener("close",p)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,r)=>{"use strict";var i,n=r(4281).q,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t){t()}function h(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var c,f=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var l=e.map((function(t,n){var s=n<e.length-1;return function(t,e,n,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===i&&(i=r(8610)),i(t,{readable:e,writable:n},(function(t){if(t)return s(t);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,n>0,(function(t){c||(c=t),t&&l.forEach(u),s||(l.forEach(u),f(c))}))}));return e.reduce(h)}},2457:(t,e,r)=>{"use strict";var i=r(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,n){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,n,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},2503:(t,e,r)=>{t.exports=r(7187).EventEmitter},8473:(t,e,r)=>{(e=t.exports=r(9481)).Stream=e,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(2725),e.finished=r(8610),e.pipeline=r(9946)},9353:(t,e,r)=>{t.exports=r(1846)},1846:(t,e,r)=>{var i=r(1960);e.operation=function(t){var r=e.timeouts(t);return new i(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],n=0;n<e.retries;n++)i.push(this.createTimeout(n,e));return t&&t.forever&&!i.length&&i.push(this.createTimeout(n,e)),i.sort((function(t,e){return t-e})),i},e.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,i=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return Math.min(i,e.maxTimeout)},e.wrap=function(t,r,i){if(r instanceof Array&&(i=r,r=null),!i)for(var n in i=[],t)"function"==typeof t[n]&&i.push(n);for(var s=0;s<i.length;s++){var o=i[s],a=t[o];t[o]=function(i){var n=e.operation(r),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(t){n.retry(t)||(t&&(arguments[0]=n.mainError()),o.apply(this,arguments))})),n.attempt((function(){i.apply(t,s)}))}.bind(t,a),t[o].options=r}}},1960:t=>{function e(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var i=this;return this._timer=setTimeout((function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout((function(){i._operationTimeoutCb(i._attempts)}),i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)}),r),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,r=0,i=0;i<this._errors.length;i++){var n=this._errors[i],s=n.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=n,r=o)}return e}},9785:(t,e,r)=>{"use strict";var i=r(8764).Buffer,n=r(5717),s=r(3349),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,r,i,n,s,o,a){return p(t+(e^r^i)+s+o|0,a)+n|0}function g(t,e,r,i,n,s,o,a){return p(t+(e&r|~e&i)+s+o|0,a)+n|0}function y(t,e,r,i,n,s,o,a){return p(t+((e|~r)^i)+s+o|0,a)+n|0}function b(t,e,r,i,n,s,o,a){return p(t+(e&i|r&~i)+s+o|0,a)+n|0}function w(t,e,r,i,n,s,o,a){return p(t+(e^(r|~i))+s+o|0,a)+n|0}n(d,s),d.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,i=0|this._b,n=0|this._c,s=0|this._d,d=0|this._e,v=0|this._a,_=0|this._b,M=0|this._c,S=0|this._d,E=0|this._e,A=0;A<80;A+=1){var k,x;A<16?(k=m(r,i,n,s,d,t[a[A]],f[0],h[A]),x=w(v,_,M,S,E,t[u[A]],l[0],c[A])):A<32?(k=g(r,i,n,s,d,t[a[A]],f[1],h[A]),x=b(v,_,M,S,E,t[u[A]],l[1],c[A])):A<48?(k=y(r,i,n,s,d,t[a[A]],f[2],h[A]),x=y(v,_,M,S,E,t[u[A]],l[2],c[A])):A<64?(k=b(r,i,n,s,d,t[a[A]],f[3],h[A]),x=g(v,_,M,S,E,t[u[A]],l[3],c[A])):(k=w(r,i,n,s,d,t[a[A]],f[4],h[A]),x=m(v,_,M,S,E,t[u[A]],l[4],c[A])),r=d,d=s,s=p(n,10),n=i,i=k,v=E,E=S,S=p(M,10),M=_,_=x}var T=this._b+n+S|0;this._b=this._c+s+E|0,this._c=this._d+d+v|0,this._d=this._e+r+_|0,this._e=this._a+i+M|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},6855:(t,e,r)=>{"use strict";var i=r(8764).Buffer,n=r(4836);e.Z=void 0;var s=n(r(4687)),o=n(r(7156)),a=n(r(8698)),u=n(r(6690)),h=n(r(9728)),c=n(r(1655)),f=n(r(4993)),l=n(r(3808)),d=r(6729);var p=function(t){(0,c.default)(y,t);var e,r,n,d,p,m,g=(p=y,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,l.default)(p);if(m){var r=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,f.default)(this,t)});function y(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;(0,u.default)(this,y);var s=i.autoconnect,o=void 0===s||s,a=i.reconnect,h=void 0===a||a,c=i.reconnect_interval,f=void 0===c?1e3:c,l=i.max_reconnects,d=void 0===l?5:l,p=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(i,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=g.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=r,e.autoconnect=o,e.ready=!1,e.reconnect=h,e.reconnect_timer_id=void 0,e.reconnect_interval=f,e.max_reconnects=d,e.rest_options=p,e.current_reconnects=0,e.generate_request_id=n||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,h.default)(y,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,i){var n=this;return i||"object"!==(0,a.default)(r)||(i=r,r=null),new Promise((function(s,o){if(!n.ready)return o(new Error("socket not ready"));var a=n.generate_request_id(t,e),u={jsonrpc:"2.0",method:t,params:e||null,id:a};n.socket.send(JSON.stringify(u),i,(function(t){if(t)return o(t);n.queue[a]={promise:[s,o]},r&&(n.queue[a].timeout=setTimeout((function(){delete n.queue[a],o(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(d=(0,o.default)(s.default.mark((function t(e){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"listMethods",value:(n=(0,o.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"notify",value:function(t,e){var r=this;return new Promise((function(i,n){if(!r.ready)return n(new Error("socket not ready"));var s={jsonrpc:"2.0",method:t,params:e||null};r.socket.send(JSON.stringify(s),(function(t){if(t)return n(t);i()}))}))}},{key:"subscribe",value:(r=(0,o.default)(s.default.mark((function t(e){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"unsubscribe",value:(e=(0,o.default)(s.default.mark((function t(e){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var r=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=i.from(e).toString());try{e=JSON.parse(e)}catch(t){return}if(e.notification&&r.listeners(e.notification).length){if(!Object.keys(e.params).length)return r.emit(e.notification);var n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(var s=0;s<e.params.length;s++)n.push(e.params[s]);return Promise.resolve().then((function(){r.emit.apply(r,n)}))}if(!r.queue[e.id])return e.method&&e.params?Promise.resolve().then((function(){r.emit(e.method,e.params)})):void 0;"error"in e=="result"in e&&r.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[e.id].timeout&&clearTimeout(r.queue[e.id].timeout),e.error?r.queue[e.id].promise[1](e.error):r.queue[e.id].promise[0](e.result),delete r.queue[e.id]})),this.socket.addEventListener("error",(function(t){return r.emit("error",t)})),this.socket.addEventListener("close",(function(i){var n=i.code,s=i.reason;r.ready&&setTimeout((function(){return r.emit("close",n,s)}),0),r.ready=!1,r.socket=void 0,1e3!==n&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&(r.reconnect_timer_id=setTimeout((function(){return r._connect(t,e)}),r.reconnect_interval)))}))}}]),y}(d.EventEmitter);e.Z=p},9062:(t,e,r)=>{"use strict";var i=r(4836);e.Z=function(t,e){return new h(t,e)};var n=i(r(6690)),s=i(r(9728)),o=i(r(1655)),a=i(r(4993)),u=i(r(3808));var h=function(t){(0,o.default)(h,t);var e,r,i=(e=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,u.default)(e);if(r){var n=(0,u.default)(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return(0,a.default)(this,t)});function h(t,e,r){var s;return(0,n.default)(this,h),(s=i.call(this)).socket=new window.WebSocket(t,r),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,s.default)(h,[{key:"send",value:function(t,e,r){var i=r||e;try{this.socket.send(t),i()}catch(t){i(t)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),h}(r(6729).EventEmitter)},9509:(t,e,r)=>{var i=r(8764),n=i.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,e),e.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},2399:(t,e,r)=>{"use strict";var i,n=r(4155),s=r(8764),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=s[i]);var u=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(u[i]=o[i]);if(a.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,r)}),u.alloc||(u.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=o(t);return e&&0!==e.length?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a},7635:function(t){"use strict";!function(e){const r=2147483647;function i(t){const e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,i=3144134277,n=1013904242,s=2773480762,o=1359893119,a=2600822924,u=528734635,h=1541459225;const c=new Uint32Array(64);function f(t){let f=0,l=t.length;for(;l>=64;){let d,p,m,g,y,b=r,w=i,v=n,_=s,M=o,S=a,E=u,A=h;for(p=0;p<16;p++)m=f+4*p,c[p]=(255&t[m])<<24|(255&t[m+1])<<16|(255&t[m+2])<<8|255&t[m+3];for(p=16;p<64;p++)d=c[p-2],g=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,d=c[p-15],y=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,c[p]=(g+c[p-7]|0)+(y+c[p-16]|0)|0;for(p=0;p<64;p++)g=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&S^~M&E)|0)+(A+(e[p]+c[p]|0)|0)|0,y=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&w^b&v^w&v)|0,A=E,E=S,S=M,M=_+g|0,_=v,v=w,w=b,b=g+y|0;r=r+b|0,i=i+w|0,n=n+v|0,s=s+_|0,o=o+M|0,a=a+S|0,u=u+E|0,h=h+A|0,f+=64,l-=64}}f(t);let l,d=t.length%64,p=t.length/536870912|0,m=t.length<<3,g=d<56?56:120,y=t.slice(t.length-d,t.length);for(y.push(128),l=d+1;l<g;l++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(m>>>24&255),y.push(m>>>16&255),y.push(m>>>8&255),y.push(m>>>0&255),f(y),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,h>>>24&255,h>>>16&255,h>>>8&255,h>>>0&255]}function n(t,e,r){t=t.length<=64?t:i(t);const n=64+e.length+4,s=new Array(n),o=new Array(64);let a,u=[];for(a=0;a<64;a++)s[a]=54;for(a=0;a<t.length;a++)s[a]^=t[a];for(a=0;a<e.length;a++)s[64+a]=e[a];for(a=n-4;a<n;a++)s[a]=0;for(a=0;a<64;a++)o[a]=92;for(a=0;a<t.length;a++)o[a]^=t[a];function h(){for(let t=n-1;t>=n-4;t--){if(s[t]++,s[t]<=255)return;s[t]=0}}for(;r>=32;)h(),u=u.concat(i(o.concat(i(s)))),r-=32;return r>0&&(h(),u=u.concat(i(o.concat(i(s))).slice(0,r))),u}function s(t,e,r,i,n){let s;for(h(t,16*(2*r-1),n,0,16),s=0;s<2*r;s++)u(t,16*s,n,16),a(n,i),h(n,0,t,e+16*s,16);for(s=0;s<r;s++)h(t,e+2*s*16,t,16*s,16);for(s=0;s<r;s++)h(t,e+16*(2*s+1),t,16*(s+r),16)}function o(t,e){return t<<e|t>>>32-e}function a(t,e){h(t,0,e,0,16);for(let t=8;t>0;t-=2)e[4]^=o(e[0]+e[12],7),e[8]^=o(e[4]+e[0],9),e[12]^=o(e[8]+e[4],13),e[0]^=o(e[12]+e[8],18),e[9]^=o(e[5]+e[1],7),e[13]^=o(e[9]+e[5],9),e[1]^=o(e[13]+e[9],13),e[5]^=o(e[1]+e[13],18),e[14]^=o(e[10]+e[6],7),e[2]^=o(e[14]+e[10],9),e[6]^=o(e[2]+e[14],13),e[10]^=o(e[6]+e[2],18),e[3]^=o(e[15]+e[11],7),e[7]^=o(e[3]+e[15],9),e[11]^=o(e[7]+e[3],13),e[15]^=o(e[11]+e[7],18),e[1]^=o(e[0]+e[3],7),e[2]^=o(e[1]+e[0],9),e[3]^=o(e[2]+e[1],13),e[0]^=o(e[3]+e[2],18),e[6]^=o(e[5]+e[4],7),e[7]^=o(e[6]+e[5],9),e[4]^=o(e[7]+e[6],13),e[5]^=o(e[4]+e[7],18),e[11]^=o(e[10]+e[9],7),e[8]^=o(e[11]+e[10],9),e[9]^=o(e[8]+e[11],13),e[10]^=o(e[9]+e[8],18),e[12]^=o(e[15]+e[14],7),e[13]^=o(e[12]+e[15],9),e[14]^=o(e[13]+e[12],13),e[15]^=o(e[14]+e[13],18);for(let r=0;r<16;++r)t[r]+=e[r]}function u(t,e,r,i){for(let n=0;n<i;n++)r[n]^=t[e+n]}function h(t,e,r,i,n){for(;n--;)r[i++]=t[e++]}function c(t){if(!t||"number"!=typeof t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(t,e){if("number"!=typeof t||t%1)throw new Error("invalid "+e);return t}function l(t,e,i,o,a,l,d){if(i=f(i,"N"),o=f(o,"r"),a=f(a,"p"),l=f(l,"dkLen"),0===i||0!=(i&i-1))throw new Error("N must be power of 2");if(i>r/128/o)throw new Error("N too large");if(o>r/128/a)throw new Error("r too large");if(!c(t))throw new Error("password must be an array or buffer");if(t=Array.prototype.slice.call(t),!c(e))throw new Error("salt must be an array or buffer");e=Array.prototype.slice.call(e);let p=n(t,e,128*a*o);const m=new Uint32Array(32*a*o);for(let t=0;t<m.length;t++){const e=4*t;m[t]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|(255&p[e+0])<<0}const g=new Uint32Array(64*o),y=new Uint32Array(32*o*i),b=32*o,w=new Uint32Array(16),v=new Uint32Array(16),_=a*i*2;let M,S,E=0,A=null,k=!1,x=0,T=0;const B=d?parseInt(1e3/o):4294967295,I="undefined"!=typeof setImmediate?setImmediate:setTimeout,R=function(){if(k)return d(new Error("cancelled"),E/_);let e;switch(x){case 0:S=32*T*o,h(m,S,g,0,b),x=1,M=0;case 1:e=i-M,e>B&&(e=B);for(let t=0;t<e;t++)h(g,0,y,(M+t)*b,b),s(g,b,o,w,v);if(M+=e,E+=e,d){const t=parseInt(1e3*E/_);if(t!==A){if(k=d(null,E/_),k)break;A=t}}if(M<i)break;M=0,x=2;case 2:e=i-M,e>B&&(e=B);for(let t=0;t<e;t++){const t=g[16*(2*o-1)]&i-1;u(y,t*b,g,b),s(g,b,o,w,v)}if(M+=e,E+=e,d){const t=parseInt(1e3*E/_);if(t!==A){if(k=d(null,E/_),k)break;A=t}}if(M<i)break;if(h(g,0,m,S,b),T++,T<a){x=0;break}p=[];for(let t=0;t<m.length;t++)p.push(m[t]>>0&255),p.push(m[t]>>8&255),p.push(m[t]>>16&255),p.push(m[t]>>24&255);const r=n(t,p,l);return d&&d(null,1,r),r}d&&I(R)};if(!d)for(;;){const t=R();if(null!=t)return t}R()}const d={scrypt:function(t,e,r,i,n,s,o){return new Promise((function(a,u){let h=0;o&&o(0),l(t,e,r,i,n,s,(function(t,e,r){if(t)u(t);else if(r)o&&1!==h&&o(1),a(new Uint8Array(r));else if(o&&e!==h)return h=e,o(e)}))}))},syncScrypt:function(t,e,r,i,n,s){return new Uint8Array(l(t,e,r,i,n,s))}};t.exports=d}()},7221:(t,e,r)=>{t.exports=r(9119)(r(8573))},8573:(t,e,r)=>{const i=new(0,r(6266).ec)("secp256k1"),n=i.curve,s=n.n.constructor;function o(t){const e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){let r=new s(e);if(r.cmp(n.p)>=0)return null;r=r.toRed(n.red);let o=r.redSqr().redIMul(r).redIAdd(n.b).redSqrt();return 3===t!==o.isOdd()&&(o=o.redNeg()),i.keyPair({pub:{x:r,y:o}})}(e,t.subarray(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){let o=new s(e),a=new s(r);if(o.cmp(n.p)>=0||a.cmp(n.p)>=0)return null;if(o=o.toRed(n.red),a=a.toRed(n.red),(6===t||7===t)&&a.isOdd()!==(7===t))return null;const u=o.redSqr().redIMul(o);return a.redSqr().redISub(u.redIAdd(n.b)).isZero()?i.keyPair({pub:{x:o,y:a}}):null}(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function a(t,e){const r=e.encode(null,33===t.length);for(let e=0;e<t.length;++e)t[e]=r[e]}t.exports={contextRandomize:()=>0,privateKeyVerify(t){const e=new s(t);return e.cmp(n.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new s(t),r=n.n.sub(e).umod(n.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new s(e);if(r.cmp(n.n)>=0)return 1;if(r.iadd(new s(t)),r.cmp(n.n)>=0&&r.isub(n.n),r.isZero())return 1;const i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new s(e);if(r.cmp(n.n)>=0||r.isZero())return 1;r.imul(new s(t)),r.cmp(n.n)>=0&&(r=r.umod(n.n));const i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify:t=>null===o(t)?1:0,publicKeyCreate(t,e){const r=new s(e);return r.cmp(n.n)>=0||r.isZero()?1:(a(t,i.keyFromPrivate(e).getPublic()),0)},publicKeyConvert(t,e){const r=o(e);return null===r?1:(a(t,r.getPublic()),0)},publicKeyNegate(t,e){const r=o(e);if(null===r)return 1;const i=r.getPublic();return i.y=i.y.redNeg(),a(t,i),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let t=0;t<e.length;++t)if(r[t]=o(e[t]),null===r[t])return 1;let i=r[0].getPublic();for(let t=1;t<r.length;++t)i=i.add(r[t].pub);return i.isInfinity()?2:(a(t,i),0)},publicKeyTweakAdd(t,e,r){const i=o(e);if(null===i)return 1;if((r=new s(r)).cmp(n.n)>=0)return 2;const u=i.getPublic().add(n.g.mul(r));return u.isInfinity()?2:(a(t,u),0)},publicKeyTweakMul(t,e,r){const i=o(e);return null===i?1:(r=new s(r)).cmp(n.n)>=0||r.isZero()?2:(a(t,i.getPublic().mul(r)),0)},signatureNormalize(t){const e=new s(t.subarray(0,32)),r=new s(t.subarray(32,64));return e.cmp(n.n)>=0||r.cmp(n.n)>=0?1:(1===r.cmp(i.nh)&&t.set(n.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),i=e.subarray(32,64);if(new s(r).cmp(n.n)>=0)return 1;if(new s(i).cmp(n.n)>=0)return 1;const{output:o}=t;let a=o.subarray(4,37);a[0]=0,a.set(r,1);let u=33,h=0;for(;u>1&&0===a[h]&&!(128&a[h+1]);--u,++h);if(a=a.subarray(h),128&a[0])return 1;if(u>1&&0===a[0]&&!(128&a[1]))return 1;let c=o.subarray(39,72);c[0]=0,c.set(i,1);let f=33,l=0;for(;f>1&&0===c[l]&&!(128&c[l+1]);--f,++l);return c=c.subarray(l),128&c[0]||f>1&&0===c[0]&&!(128&c[1])?1:(t.outputlen=6+u+f,o[0]=48,o[1]=t.outputlen-2,o[2]=2,o[3]=a.length,o.set(a,4),o[4+u]=2,o[5+u]=c.length,o.set(c,6+u),0)},signatureImport(t,e){if(e.length<8)return 1;if(e.length>72)return 1;if(48!==e[0])return 1;if(e[1]!==e.length-2)return 1;if(2!==e[2])return 1;const r=e[3];if(0===r)return 1;if(5+r>=e.length)return 1;if(2!==e[4+r])return 1;const i=e[5+r];if(0===i)return 1;if(6+r+i!==e.length)return 1;if(128&e[4])return 1;if(r>1&&0===e[4]&&!(128&e[5]))return 1;if(128&e[r+6])return 1;if(i>1&&0===e[r+6]&&!(128&e[r+7]))return 1;let o=e.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let a=e.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let u=new s(o);u.cmp(n.n)>=0&&(u=new s(0));let h=new s(e.subarray(6+r));return h.cmp(n.n)>=0&&(h=new s(0)),t.set(u.toArrayLike(Uint8Array,"be",32),0),t.set(h.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,o,a){if(a){const t=a;a=i=>{const n=t(e,r,null,o,i);if(!(n instanceof Uint8Array&&32===n.length))throw new Error("This is the way");return new s(n)}}const u=new s(r);if(u.cmp(n.n)>=0||u.isZero())return 1;let h;try{h=i.sign(e,r,{canonical:!0,k:a,pers:o})}catch(t){return 1}return t.signature.set(h.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(h.s.toArrayLike(Uint8Array,"be",32),32),t.recid=h.recoveryParam,0},ecdsaVerify(t,e,r){const a={r:t.subarray(0,32),s:t.subarray(32,64)},u=new s(a.r),h=new s(a.s);if(u.cmp(n.n)>=0||h.cmp(n.n)>=0)return 1;if(1===h.cmp(i.nh)||u.isZero()||h.isZero())return 3;const c=o(r);if(null===c)return 2;const f=c.getPublic();return i.verify(e,a,f)?0:3},ecdsaRecover(t,e,r,o){const u={r:e.slice(0,32),s:e.slice(32,64)},h=new s(u.r),c=new s(u.s);if(h.cmp(n.n)>=0||c.cmp(n.n)>=0)return 1;if(h.isZero()||c.isZero())return 2;let f;try{f=i.recoverPubKey(o,u,r)}catch(t){return 2}return a(t,f),0},ecdh(t,e,r,a,u,h,c){const f=o(e);if(null===f)return 1;const l=new s(r);if(l.cmp(n.n)>=0||l.isZero())return 2;const d=f.getPublic().mul(l);if(void 0===u){const e=d.encode(null,!0),r=i.hash().update(e).digest();for(let e=0;e<32;++e)t[e]=r[e]}else{h||(h=new Uint8Array(32));const e=d.getX().toArray("be",32);for(let t=0;t<32;++t)h[t]=e[t];c||(c=new Uint8Array(32));const r=d.getY().toArray("be",32);for(let t=0;t<32;++t)c[t]=r[t];const i=u(h,c,a);if(!(i instanceof Uint8Array&&i.length===t.length))return 2;t.set(i)}return 0}}},9119:t=>{const e="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",i="The tweak was out of range or equal to zero",n="Public Key could not be parsed",s="Public Key serialization error",o="Signature could not be parsed";function a(t,e){if(!t)throw new Error(e)}function u(t,e,r){if(a(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const i=`Expected ${t} to be an Uint8Array with length [${r.join(", ")}]`;a(r.includes(e.length),i)}else{const i=`Expected ${t} to be an Uint8Array with length ${r}`;a(e.length===r,i)}}function h(t){a("Boolean"===f(t),"Expected compressed to be a Boolean")}function c(t=(t=>new Uint8Array(t)),e){return"function"==typeof t&&(t=t(e)),u("output",t,e),t}function f(t){return Object.prototype.toString.call(t).slice(8,-1)}t.exports=t=>({contextRandomize(e){if(a(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&u("seed",e,32),1===t.contextRandomize(e))throw new Error("Unknow error on context randomization")},privateKeyVerify:e=>(u("private key",e,32),0===t.privateKeyVerify(e)),privateKeyNegate(r){switch(u("private key",r,32),t.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(e)}},privateKeyTweakAdd(e,i){switch(u("private key",e,32),u("tweak",i,32),t.privateKeyTweakAdd(e,i)){case 0:return e;case 1:throw new Error(r)}},privateKeyTweakMul(e,r){switch(u("private key",e,32),u("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(i)}},publicKeyVerify:e=>(u("public key",e,[33,65]),0===t.publicKeyVerify(e)),publicKeyCreate(e,r=!0,i){switch(u("private key",e,32),h(r),i=c(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(s)}},publicKeyConvert(e,r=!0,i){switch(u("public key",e,[33,65]),h(r),i=c(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(n);case 2:throw new Error(s)}},publicKeyNegate(r,i=!0,o){switch(u("public key",r,[33,65]),h(i),o=c(o,i?33:65),t.publicKeyNegate(o,r)){case 0:return o;case 1:throw new Error(n);case 2:throw new Error(e);case 3:throw new Error(s)}},publicKeyCombine(e,r=!0,i){a(Array.isArray(e),"Expected public keys to be an Array"),a(e.length>0,"Expected public keys array will have more than zero items");for(const t of e)u("public key",t,[33,65]);switch(h(r),i=c(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(n);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(s)}},publicKeyTweakAdd(e,i,s=!0,o){switch(u("public key",e,[33,65]),u("tweak",i,32),h(s),o=c(o,s?33:65),t.publicKeyTweakAdd(o,e,i)){case 0:return o;case 1:throw new Error(n);case 2:throw new Error(r)}},publicKeyTweakMul(e,r,s=!0,o){switch(u("public key",e,[33,65]),u("tweak",r,32),h(s),o=c(o,s?33:65),t.publicKeyTweakMul(o,e,r)){case 0:return o;case 1:throw new Error(n);case 2:throw new Error(i)}},signatureNormalize(e){switch(u("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(o)}},signatureExport(r,i){u("signature",r,64);const n={output:i=c(i,72),outputlen:72};switch(t.signatureExport(n,r)){case 0:return i.slice(0,n.outputlen);case 1:throw new Error(o);case 2:throw new Error(e)}},signatureImport(r,i){switch(u("signature",r),i=c(i,64),t.signatureImport(i,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(e)}},ecdsaSign(r,i,n={},s){u("message",r,32),u("private key",i,32),a("Object"===f(n),"Expected options to be an Object"),void 0!==n.data&&u("options.data",n.data),void 0!==n.noncefn&&a("Function"===f(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:s=c(s,64),recid:null};switch(t.ecdsaSign(o,r,i,n.data,n.noncefn)){case 0:return o;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(e)}},ecdsaVerify(e,r,i){switch(u("signature",e,64),u("message",r,32),u("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(o);case 2:throw new Error(n)}},ecdsaRecover(r,i,n,s=!0,l){switch(u("signature",r,64),a("Number"===f(i)&&i>=0&&i<=3,"Expected recovery id to be a Number within interval [0, 3]"),u("message",n,32),h(s),l=c(l,s?33:65),t.ecdsaRecover(l,r,i,n)){case 0:return l;case 1:throw new Error(o);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(e)}},ecdh(e,r,i={},s){switch(u("public key",e,[33,65]),u("private key",r,32),a("Object"===f(i),"Expected options to be an Object"),void 0!==i.data&&u("options.data",i.data),void 0!==i.hashfn?(a("Function"===f(i.hashfn),"Expected options.hashfn to be a Function"),void 0!==i.xbuf&&u("options.xbuf",i.xbuf,32),void 0!==i.ybuf&&u("options.ybuf",i.ybuf,32),u("output",s)):s=c(s,32),t.ecdh(s,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return s;case 1:throw new Error(n);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})},4189:(t,e,r)=>{var i=r(9509).Buffer;function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var u=o%n,h=Math.min(s-a,n-u),c=0;c<h;c++)r[u+c]=t[a+c];a+=h,(o+=h)%n==0&&this._update(r)}return this._len+=s,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},9072:(t,e,r)=>{var i=t.exports=function(t){t=t.toLowerCase();var e=i[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};i.sha=r(4448),i.sha1=r(8336),i.sha224=r(8432),i.sha256=r(7499),i.sha384=r(1686),i.sha512=r(7816)},4448:(t,e,r)=>{var i=r(5717),n=r(4189),s=r(9509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,n.call(this,64,56)}function h(t){return t<<30|t>>>2}function c(t,e,r,i){return 0===t?e&r|~e&i:2===t?e&r|e&i|r&i:e^r^i}i(u,n),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var l=0;l<80;++l){var d=~~(l/20),p=0|((e=i)<<5|e>>>27)+c(d,n,s,a)+u+r[l]+o[d];u=a,a=s,s=h(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8336:(t,e,r)=>{var i=r(5717),n=r(4189),s=r(9509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,n.call(this,64,56)}function h(t){return t<<5|t>>>27}function c(t){return t<<30|t>>>2}function f(t,e,r,i){return 0===t?e&r|~e&i:2===t?e&r|e&i|r&i:e^r^i}i(u,n),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=t.readInt32BE(4*l);for(;l<80;++l)r[l]=(e=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=h(i)+f(p,n,s,a)+u+r[d]+o[p]|0;u=a,a=s,s=c(n),n=i,i=m}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8432:(t,e,r)=>{var i=r(5717),n=r(7499),s=r(4189),o=r(9509).Buffer,a=new Array(64);function u(){this.init(),this._w=a,s.call(this,64,56)}i(u,n),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},7499:(t,e,r)=>{var i=r(5717),n=r(4189),s=r(9509).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,n.call(this,64,56)}function h(t,e,r){return r^t&(e^r)}function c(t,e,r){return t&e|r&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function l(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(u,n),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=t.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((e=r[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[y-7]+d(r[y-15])+r[y-16];for(var b=0;b<64;++b){var w=g+l(u)+h(u,p,m)+o[b]+r[b]|0,v=f(i)+c(i,n,s)|0;g=m,m=p,p=u,u=a+w|0,a=s,s=n,n=i,i=w+v|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},1686:(t,e,r)=>{var i=r(5717),n=r(7816),s=r(4189),o=r(9509).Buffer,a=new Array(160);function u(){this.init(),this._w=a,s.call(this,128,112)}i(u,n),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,r,i){t.writeInt32BE(e,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},7816:(t,e,r)=>{var i=r(5717),n=r(4189),s=r(9509).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,n.call(this,128,112)}function h(t,e,r){return r^t&(e^r)}function c(t,e,r){return t&e|r&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function l(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}i(u,n),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,s=0|this._dh,a=0|this._eh,u=0|this._fh,b=0|this._gh,w=0|this._hh,v=0|this._al,_=0|this._bl,M=0|this._cl,S=0|this._dl,E=0|this._el,A=0|this._fl,k=0|this._gl,x=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var B=e[T-30],I=e[T-30+1],R=d(B,I),P=p(I,B),C=m(B=e[T-4],I=e[T-4+1]),O=g(I,B),U=e[T-14],N=e[T-14+1],L=e[T-32],q=e[T-32+1],z=P+N|0,D=R+U+y(z,P)|0;D=(D=D+C+y(z=z+O|0,O)|0)+L+y(z=z+q|0,q)|0,e[T]=D,e[T+1]=z}for(var j=0;j<160;j+=2){D=e[j],z=e[j+1];var H=c(r,i,n),F=c(v,_,M),K=f(r,v),$=f(v,r),W=l(a,E),V=l(E,a),G=o[j],J=o[j+1],Z=h(a,u,b),X=h(E,A,k),Y=x+V|0,Q=w+W+y(Y,x)|0;Q=(Q=(Q=Q+Z+y(Y=Y+X|0,X)|0)+G+y(Y=Y+J|0,J)|0)+D+y(Y=Y+z|0,z)|0;var tt=$+F|0,et=K+H+y(tt,$)|0;w=b,x=k,b=u,k=A,u=a,A=E,a=s+Q+y(E=S+Y|0,S)|0,s=n,S=M,n=i,M=_,i=r,_=v,r=Q+et+y(v=Y+tt|0,Y)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+S|0,this._el=this._el+E|0,this._fl=this._fl+A|0,this._gl=this._gl+k|0,this._hl=this._hl+x|0,this._ah=this._ah+r+y(this._al,v)|0,this._bh=this._bh+i+y(this._bl,_)|0,this._ch=this._ch+n+y(this._cl,M)|0,this._dh=this._dh+s+y(this._dl,S)|0,this._eh=this._eh+a+y(this._el,E)|0,this._fh=this._fh+u+y(this._fl,A)|0,this._gh=this._gh+b+y(this._gl,k)|0,this._hh=this._hh+w+y(this._hl,x)|0},u.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,r,i){t.writeInt32BE(e,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},2830:(t,e,r)=>{t.exports=n;var i=r(7187).EventEmitter;function n(){i.call(this)}r(5717)(n,i),n.Readable=r(9481),n.Writable=r(4229),n.Duplex=r(6753),n.Transform=r(4605),n.PassThrough=r(2725),n.finished=r(8610),n.pipeline=r(9946),n.Stream=n,n.prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var o=!1;function a(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){r.removeListener("data",n),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("error",h),t.on("error",h),r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}},2553:(t,e,r)=>{"use strict";var i=r(9509).Buffer,n=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function c(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},s.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var n=o(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||-2===n?0:(n=o(e[i]))>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||-2===n?0:(n=o(e[i]))>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},1379:(t,e)=>{"use strict";function r(t,e,r){return e<=t&&t<=r}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function n(t){this.tokens=[].slice.call(t)}n.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var s=-1;function o(t,e){if(t)throw TypeError("Decoder error");return e||65533}var a="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function h(t,e){if(!(this instanceof h))return new h(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(t){var e=t.fatal,i=0,n=0,a=0,u=128,h=191;this.handler=function(t,c){if(-1===c&&0!==a)return a=0,o(e);if(-1===c)return s;if(0===a){if(r(c,0,127))return c;if(r(c,194,223))a=1,i=c-192;else if(r(c,224,239))224===c&&(u=160),237===c&&(h=159),a=2,i=c-224;else{if(!r(c,240,244))return o(e);240===c&&(u=144),244===c&&(h=143),a=3,i=c-240}return i<<=6*a,null}if(!r(c,u,h))return i=a=n=0,u=128,h=191,t.prepend(c),o(e);if(u=128,h=191,i+=c-128<<6*(a-(n+=1)),n!==a)return null;var f=i;return i=a=n=0,f}}function f(t){t.fatal,this.handler=function(t,e){if(-1===e)return s;if(r(e,0,127))return e;var i,n;r(e,128,2047)?(i=1,n=192):r(e,2048,65535)?(i=2,n=224):r(e,65536,1114111)&&(i=3,n=240);for(var o=[(e>>6*i)+n];i>0;){var a=e>>6*(i-1);o.push(128|63&a),i-=1}return o}}u.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var o,a=new n(r),u=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==s;)null!==o&&(Array.isArray(o)?u.push.apply(u,o):u.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===s)break;null!==o&&(Array.isArray(o)?u.push.apply(u,o):u.push(o))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var i=t[r];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return e}(u)}},h.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(e.stream);for(var r,o=[],a=new n(function(t){for(var e=String(t),r=e.length,i=0,n=[];i<r;){var s=e.charCodeAt(i);if(s<55296||s>57343)n.push(s);else if(56320<=s&&s<=57343)n.push(65533);else if(55296<=s&&s<=56319)if(i===r-1)n.push(65533);else{var o=t.charCodeAt(i+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;n.push(65536+(a<<10)+u),i+=1}else n.push(65533)}i+=1}return n}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},e.TextEncoder=h,e.TextDecoder=u},780:(t,e,r)=>{!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},i=function(){throw new Error("no PRNG")},n=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=e(),a=e([1]),u=e([56129,1]),h=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,i){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=i>>24&255,t[e+5]=i>>16&255,t[e+6]=i>>8&255,t[e+7]=255&i}function m(t,e,r,i,n){var s,o=0;for(s=0;s<n;s++)o|=t[e+s]^r[i+s];return(1&o-1>>>8)-1}function g(t,e,r,i){return m(t,e,r,i,16)}function y(t,e,r,i){return m(t,e,r,i,32)}function b(t,e,r,i){!function(t,e,r,i){for(var n,s=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,h=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=s,M=o,S=a,E=u,A=h,k=c,x=f,T=l,B=d,I=p,R=m,P=g,C=y,O=b,U=w,N=v,L=0;L<20;L+=2)_^=(n=(C^=(n=(B^=(n=(A^=(n=_+C|0)<<7|n>>>25)+_|0)<<9|n>>>23)+A|0)<<13|n>>>19)+B|0)<<18|n>>>14,k^=(n=(M^=(n=(O^=(n=(I^=(n=k+M|0)<<7|n>>>25)+k|0)<<9|n>>>23)+I|0)<<13|n>>>19)+O|0)<<18|n>>>14,R^=(n=(x^=(n=(S^=(n=(U^=(n=R+x|0)<<7|n>>>25)+R|0)<<9|n>>>23)+U|0)<<13|n>>>19)+S|0)<<18|n>>>14,N^=(n=(P^=(n=(T^=(n=(E^=(n=N+P|0)<<7|n>>>25)+N|0)<<9|n>>>23)+E|0)<<13|n>>>19)+T|0)<<18|n>>>14,_^=(n=(E^=(n=(S^=(n=(M^=(n=_+E|0)<<7|n>>>25)+_|0)<<9|n>>>23)+M|0)<<13|n>>>19)+S|0)<<18|n>>>14,k^=(n=(A^=(n=(T^=(n=(x^=(n=k+A|0)<<7|n>>>25)+k|0)<<9|n>>>23)+x|0)<<13|n>>>19)+T|0)<<18|n>>>14,R^=(n=(I^=(n=(B^=(n=(P^=(n=R+I|0)<<7|n>>>25)+R|0)<<9|n>>>23)+P|0)<<13|n>>>19)+B|0)<<18|n>>>14,N^=(n=(U^=(n=(O^=(n=(C^=(n=N+U|0)<<7|n>>>25)+N|0)<<9|n>>>23)+C|0)<<13|n>>>19)+O|0)<<18|n>>>14;_=_+s|0,M=M+o|0,S=S+a|0,E=E+u|0,A=A+h|0,k=k+c|0,x=x+f|0,T=T+l|0,B=B+d|0,I=I+p|0,R=R+m|0,P=P+g|0,C=C+y|0,O=O+b|0,U=U+w|0,N=N+v|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=M>>>0&255,t[5]=M>>>8&255,t[6]=M>>>16&255,t[7]=M>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=A>>>0&255,t[17]=A>>>8&255,t[18]=A>>>16&255,t[19]=A>>>24&255,t[20]=k>>>0&255,t[21]=k>>>8&255,t[22]=k>>>16&255,t[23]=k>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=B>>>0&255,t[33]=B>>>8&255,t[34]=B>>>16&255,t[35]=B>>>24&255,t[36]=I>>>0&255,t[37]=I>>>8&255,t[38]=I>>>16&255,t[39]=I>>>24&255,t[40]=R>>>0&255,t[41]=R>>>8&255,t[42]=R>>>16&255,t[43]=R>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=C>>>0&255,t[49]=C>>>8&255,t[50]=C>>>16&255,t[51]=C>>>24&255,t[52]=O>>>0&255,t[53]=O>>>8&255,t[54]=O>>>16&255,t[55]=O>>>24&255,t[56]=U>>>0&255,t[57]=U>>>8&255,t[58]=U>>>16&255,t[59]=U>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,r,i)}function w(t,e,r,i){!function(t,e,r,i){for(var n,s=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,h=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=0;_<20;_+=2)s^=(n=(y^=(n=(d^=(n=(h^=(n=s+y|0)<<7|n>>>25)+s|0)<<9|n>>>23)+h|0)<<13|n>>>19)+d|0)<<18|n>>>14,c^=(n=(o^=(n=(b^=(n=(p^=(n=c+o|0)<<7|n>>>25)+c|0)<<9|n>>>23)+p|0)<<13|n>>>19)+b|0)<<18|n>>>14,m^=(n=(f^=(n=(a^=(n=(w^=(n=m+f|0)<<7|n>>>25)+m|0)<<9|n>>>23)+w|0)<<13|n>>>19)+a|0)<<18|n>>>14,v^=(n=(g^=(n=(l^=(n=(u^=(n=v+g|0)<<7|n>>>25)+v|0)<<9|n>>>23)+u|0)<<13|n>>>19)+l|0)<<18|n>>>14,s^=(n=(u^=(n=(a^=(n=(o^=(n=s+u|0)<<7|n>>>25)+s|0)<<9|n>>>23)+o|0)<<13|n>>>19)+a|0)<<18|n>>>14,c^=(n=(h^=(n=(l^=(n=(f^=(n=c+h|0)<<7|n>>>25)+c|0)<<9|n>>>23)+f|0)<<13|n>>>19)+l|0)<<18|n>>>14,m^=(n=(p^=(n=(d^=(n=(g^=(n=m+p|0)<<7|n>>>25)+m|0)<<9|n>>>23)+g|0)<<13|n>>>19)+d|0)<<18|n>>>14,v^=(n=(w^=(n=(b^=(n=(y^=(n=v+w|0)<<7|n>>>25)+v|0)<<9|n>>>23)+y|0)<<13|n>>>19)+b|0)<<18|n>>>14;t[0]=s>>>0&255,t[1]=s>>>8&255,t[2]=s>>>16&255,t[3]=s>>>24&255,t[4]=c>>>0&255,t[5]=c>>>8&255,t[6]=c>>>16&255,t[7]=c>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=v>>>0&255,t[13]=v>>>8&255,t[14]=v>>>16&255,t[15]=v>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=l>>>0&255,t[21]=l>>>8&255,t[22]=l>>>16&255,t[23]=l>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,i)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(t,e,r,i,n,s,o){var a,u,h=new Uint8Array(16),c=new Uint8Array(64);for(u=0;u<16;u++)h[u]=0;for(u=0;u<8;u++)h[u]=s[u];for(;n>=64;){for(b(c,h,o,v),u=0;u<64;u++)t[e+u]=r[i+u]^c[u];for(a=1,u=8;u<16;u++)a=a+(255&h[u])|0,h[u]=255&a,a>>>=8;n-=64,e+=64,i+=64}if(n>0)for(b(c,h,o,v),u=0;u<n;u++)t[e+u]=r[i+u]^c[u];return 0}function M(t,e,r,i,n){var s,o,a=new Uint8Array(16),u=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=i[o];for(;r>=64;){for(b(u,a,n,v),o=0;o<64;o++)t[e+o]=u[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,e+=64}if(r>0)for(b(u,a,n,v),o=0;o<r;o++)t[e+o]=u[o];return 0}function S(t,e,r,i,n){var s=new Uint8Array(32);w(s,i,n,v);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=i[a+16];return M(t,e,r,o,s)}function E(t,e,r,i,n,s,o){var a=new Uint8Array(32);w(a,s,o,v);for(var u=new Uint8Array(8),h=0;h<8;h++)u[h]=s[h+16];return _(t,e,r,i,n,u,a)}var A=function(t){var e,r,i,n,s,o,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),i=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|i<<6),n=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(i>>>7|n<<9),s=255&t[8]|(255&t[9])<<8,this.r[4]=255&(n>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(o>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function k(t,e,r,i,n,s){var o=new A(s);return o.update(r,i,n),o.finish(t,e),0}function x(t,e,r,i,n,s){var o=new Uint8Array(16);return k(o,0,r,i,n,s),g(t,e,o,0)}function T(t,e,r,i,n){var s;if(r<32)return-1;for(E(t,0,e,0,r,i,n),k(t,16,t,32,r-32,t),s=0;s<16;s++)t[s]=0;return 0}function B(t,e,r,i,n){var s,o=new Uint8Array(32);if(r<32)return-1;if(S(o,0,32,i,n),0!==x(e,16,e,32,r-32,o))return-1;for(E(t,0,e,0,r,i,n),s=0;s<32;s++)t[s]=0;return 0}function I(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function R(t){var e,r,i=1;for(e=0;e<16;e++)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-65536*i;t[0]+=i-1+37*(i-1)}function P(t,e,r){for(var i,n=~(r-1),s=0;s<16;s++)i=n&(t[s]^e[s]),t[s]^=i,e[s]^=i}function C(t,r){var i,n,s,o=e(),a=e();for(i=0;i<16;i++)a[i]=r[i];for(R(a),R(a),R(a),n=0;n<2;n++){for(o[0]=a[0]-65517,i=1;i<15;i++)o[i]=a[i]-65535-(o[i-1]>>16&1),o[i-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,P(a,o,1-s)}for(i=0;i<16;i++)t[2*i]=255&a[i],t[2*i+1]=a[i]>>8}function O(t,e){var r=new Uint8Array(32),i=new Uint8Array(32);return C(r,t),C(i,e),y(r,0,i,0)}function U(t){var e=new Uint8Array(32);return C(e,t),1&e[0]}function N(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]+r[i]}function q(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]-r[i]}function z(t,e,r){var i,n,s=0,o=0,a=0,u=0,h=0,c=0,f=0,l=0,d=0,p=0,m=0,g=0,y=0,b=0,w=0,v=0,_=0,M=0,S=0,E=0,A=0,k=0,x=0,T=0,B=0,I=0,R=0,P=0,C=0,O=0,U=0,N=r[0],L=r[1],q=r[2],z=r[3],D=r[4],j=r[5],H=r[6],F=r[7],K=r[8],$=r[9],W=r[10],V=r[11],G=r[12],J=r[13],Z=r[14],X=r[15];s+=(i=e[0])*N,o+=i*L,a+=i*q,u+=i*z,h+=i*D,c+=i*j,f+=i*H,l+=i*F,d+=i*K,p+=i*$,m+=i*W,g+=i*V,y+=i*G,b+=i*J,w+=i*Z,v+=i*X,o+=(i=e[1])*N,a+=i*L,u+=i*q,h+=i*z,c+=i*D,f+=i*j,l+=i*H,d+=i*F,p+=i*K,m+=i*$,g+=i*W,y+=i*V,b+=i*G,w+=i*J,v+=i*Z,_+=i*X,a+=(i=e[2])*N,u+=i*L,h+=i*q,c+=i*z,f+=i*D,l+=i*j,d+=i*H,p+=i*F,m+=i*K,g+=i*$,y+=i*W,b+=i*V,w+=i*G,v+=i*J,_+=i*Z,M+=i*X,u+=(i=e[3])*N,h+=i*L,c+=i*q,f+=i*z,l+=i*D,d+=i*j,p+=i*H,m+=i*F,g+=i*K,y+=i*$,b+=i*W,w+=i*V,v+=i*G,_+=i*J,M+=i*Z,S+=i*X,h+=(i=e[4])*N,c+=i*L,f+=i*q,l+=i*z,d+=i*D,p+=i*j,m+=i*H,g+=i*F,y+=i*K,b+=i*$,w+=i*W,v+=i*V,_+=i*G,M+=i*J,S+=i*Z,E+=i*X,c+=(i=e[5])*N,f+=i*L,l+=i*q,d+=i*z,p+=i*D,m+=i*j,g+=i*H,y+=i*F,b+=i*K,w+=i*$,v+=i*W,_+=i*V,M+=i*G,S+=i*J,E+=i*Z,A+=i*X,f+=(i=e[6])*N,l+=i*L,d+=i*q,p+=i*z,m+=i*D,g+=i*j,y+=i*H,b+=i*F,w+=i*K,v+=i*$,_+=i*W,M+=i*V,S+=i*G,E+=i*J,A+=i*Z,k+=i*X,l+=(i=e[7])*N,d+=i*L,p+=i*q,m+=i*z,g+=i*D,y+=i*j,b+=i*H,w+=i*F,v+=i*K,_+=i*$,M+=i*W,S+=i*V,E+=i*G,A+=i*J,k+=i*Z,x+=i*X,d+=(i=e[8])*N,p+=i*L,m+=i*q,g+=i*z,y+=i*D,b+=i*j,w+=i*H,v+=i*F,_+=i*K,M+=i*$,S+=i*W,E+=i*V,A+=i*G,k+=i*J,x+=i*Z,T+=i*X,p+=(i=e[9])*N,m+=i*L,g+=i*q,y+=i*z,b+=i*D,w+=i*j,v+=i*H,_+=i*F,M+=i*K,S+=i*$,E+=i*W,A+=i*V,k+=i*G,x+=i*J,T+=i*Z,B+=i*X,m+=(i=e[10])*N,g+=i*L,y+=i*q,b+=i*z,w+=i*D,v+=i*j,_+=i*H,M+=i*F,S+=i*K,E+=i*$,A+=i*W,k+=i*V,x+=i*G,T+=i*J,B+=i*Z,I+=i*X,g+=(i=e[11])*N,y+=i*L,b+=i*q,w+=i*z,v+=i*D,_+=i*j,M+=i*H,S+=i*F,E+=i*K,A+=i*$,k+=i*W,x+=i*V,T+=i*G,B+=i*J,I+=i*Z,R+=i*X,y+=(i=e[12])*N,b+=i*L,w+=i*q,v+=i*z,_+=i*D,M+=i*j,S+=i*H,E+=i*F,A+=i*K,k+=i*$,x+=i*W,T+=i*V,B+=i*G,I+=i*J,R+=i*Z,P+=i*X,b+=(i=e[13])*N,w+=i*L,v+=i*q,_+=i*z,M+=i*D,S+=i*j,E+=i*H,A+=i*F,k+=i*K,x+=i*$,T+=i*W,B+=i*V,I+=i*G,R+=i*J,P+=i*Z,C+=i*X,w+=(i=e[14])*N,v+=i*L,_+=i*q,M+=i*z,S+=i*D,E+=i*j,A+=i*H,k+=i*F,x+=i*K,T+=i*$,B+=i*W,I+=i*V,R+=i*G,P+=i*J,C+=i*Z,O+=i*X,v+=(i=e[15])*N,o+=38*(M+=i*q),a+=38*(S+=i*z),u+=38*(E+=i*D),h+=38*(A+=i*j),c+=38*(k+=i*H),f+=38*(x+=i*F),l+=38*(T+=i*K),d+=38*(B+=i*$),p+=38*(I+=i*W),m+=38*(R+=i*V),g+=38*(P+=i*G),y+=38*(C+=i*J),b+=38*(O+=i*Z),w+=38*(U+=i*X),s=(i=(s+=38*(_+=i*L))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),o=(i=o+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=a+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),b=(i=b+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),v=(i=v+n+65535)-65536*(n=Math.floor(i/65536)),s=(i=(s+=n-1+37*(n-1))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),o=(i=o+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=a+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),b=(i=b+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),v=(i=v+n+65535)-65536*(n=Math.floor(i/65536)),s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=h,t[5]=c,t[6]=f,t[7]=l,t[8]=d,t[9]=p,t[10]=m,t[11]=g,t[12]=y,t[13]=b,t[14]=w,t[15]=v}function D(t,e){z(t,e,e)}function j(t,r){var i,n=e();for(i=0;i<16;i++)n[i]=r[i];for(i=253;i>=0;i--)D(n,n),2!==i&&4!==i&&z(n,n,r);for(i=0;i<16;i++)t[i]=n[i]}function H(t,r){var i,n=e();for(i=0;i<16;i++)n[i]=r[i];for(i=250;i>=0;i--)D(n,n),1!==i&&z(n,n,r);for(i=0;i<16;i++)t[i]=n[i]}function F(t,r,i){var n,s,o=new Uint8Array(32),a=new Float64Array(80),h=e(),c=e(),f=e(),l=e(),d=e(),p=e();for(s=0;s<31;s++)o[s]=r[s];for(o[31]=127&r[31]|64,o[0]&=248,N(a,i),s=0;s<16;s++)c[s]=a[s],l[s]=h[s]=f[s]=0;for(h[0]=l[0]=1,s=254;s>=0;--s)P(h,c,n=o[s>>>3]>>>(7&s)&1),P(f,l,n),L(d,h,f),q(h,h,f),L(f,c,l),q(c,c,l),D(l,d),D(p,h),z(h,f,h),z(f,c,d),L(d,h,f),q(h,h,f),D(c,h),q(f,l,p),z(h,f,u),L(h,h,l),z(f,f,h),z(h,l,p),z(l,c,a),D(c,d),P(h,c,n),P(f,l,n);for(s=0;s<16;s++)a[s+16]=h[s],a[s+32]=f[s],a[s+48]=c[s],a[s+64]=l[s];var m=a.subarray(32),g=a.subarray(16);return j(m,m),z(g,g,m),C(t,g),0}function K(t,e){return F(t,e,s)}function $(t,e){return i(e,32),K(t,e)}function W(t,e,r){var i=new Uint8Array(32);return F(i,r,e),w(t,n,i,v)}A.prototype.blocks=function(t,e,r){for(var i,n,s,o,a,u,h,c,f,l,d,p,m,g,y,b,w,v,_,M=this.fin?0:2048,S=this.h[0],E=this.h[1],A=this.h[2],k=this.h[3],x=this.h[4],T=this.h[5],B=this.h[6],I=this.h[7],R=this.h[8],P=this.h[9],C=this.r[0],O=this.r[1],U=this.r[2],N=this.r[3],L=this.r[4],q=this.r[5],z=this.r[6],D=this.r[7],j=this.r[8],H=this.r[9];r>=16;)l=f=0,l+=(S+=8191&(i=255&t[e+0]|(255&t[e+1])<<8))*C,l+=(E+=8191&(i>>>13|(n=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*H),l+=(A+=8191&(n>>>10|(s=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*j),l+=(k+=8191&(s>>>7|(o=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*D),f=(l+=(x+=8191&(o>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*z))>>>13,l&=8191,l+=(T+=a>>>1&8191)*(5*q),l+=(B+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),l+=(I+=8191&(u>>>11|(h=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*N),l+=(R+=8191&(h>>>8|(c=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*U),d=f+=(l+=(P+=c>>>5|M)*(5*O))>>>13,d+=S*O,d+=E*C,d+=A*(5*H),d+=k*(5*j),f=(d+=x*(5*D))>>>13,d&=8191,d+=T*(5*z),d+=B*(5*q),d+=I*(5*L),d+=R*(5*N),f+=(d+=P*(5*U))>>>13,d&=8191,p=f,p+=S*U,p+=E*O,p+=A*C,p+=k*(5*H),f=(p+=x*(5*j))>>>13,p&=8191,p+=T*(5*D),p+=B*(5*z),p+=I*(5*q),p+=R*(5*L),m=f+=(p+=P*(5*N))>>>13,m+=S*N,m+=E*U,m+=A*O,m+=k*C,f=(m+=x*(5*H))>>>13,m&=8191,m+=T*(5*j),m+=B*(5*D),m+=I*(5*z),m+=R*(5*q),g=f+=(m+=P*(5*L))>>>13,g+=S*L,g+=E*N,g+=A*U,g+=k*O,f=(g+=x*C)>>>13,g&=8191,g+=T*(5*H),g+=B*(5*j),g+=I*(5*D),g+=R*(5*z),y=f+=(g+=P*(5*q))>>>13,y+=S*q,y+=E*L,y+=A*N,y+=k*U,f=(y+=x*O)>>>13,y&=8191,y+=T*C,y+=B*(5*H),y+=I*(5*j),y+=R*(5*D),b=f+=(y+=P*(5*z))>>>13,b+=S*z,b+=E*q,b+=A*L,b+=k*N,f=(b+=x*U)>>>13,b&=8191,b+=T*O,b+=B*C,b+=I*(5*H),b+=R*(5*j),w=f+=(b+=P*(5*D))>>>13,w+=S*D,w+=E*z,w+=A*q,w+=k*L,f=(w+=x*N)>>>13,w&=8191,w+=T*U,w+=B*O,w+=I*C,w+=R*(5*H),v=f+=(w+=P*(5*j))>>>13,v+=S*j,v+=E*D,v+=A*z,v+=k*q,f=(v+=x*L)>>>13,v&=8191,v+=T*N,v+=B*U,v+=I*O,v+=R*C,_=f+=(v+=P*(5*H))>>>13,_+=S*H,_+=E*j,_+=A*D,_+=k*z,f=(_+=x*q)>>>13,_&=8191,_+=T*L,_+=B*N,_+=I*U,_+=R*O,S=l=8191&(f=(f=((f+=(_+=P*C)>>>13)<<2)+f|0)+(l&=8191)|0),E=d+=f>>>=13,A=p&=8191,k=m&=8191,x=g&=8191,T=y&=8191,B=b&=8191,I=w&=8191,R=v&=8191,P=_&=8191,e+=16,r-=16;this.h[0]=S,this.h[1]=E,this.h[2]=A,this.h[3]=k,this.h[4]=x,this.h[5]=T,this.h[6]=B,this.h[7]=I,this.h[8]=R,this.h[9]=P},A.prototype.finish=function(t,e){var r,i,n,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(1^r)-1,s=0;s<10;s++)o[s]&=i;for(i=~i,s=0;s<10;s++)this.h[s]=this.h[s]&i|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),n=this.h[0]+this.pad[0],this.h[0]=65535&n,s=1;s<8;s++)n=(this.h[s]+this.pad[s]|0)+(n>>>16)|0,this.h[s]=65535&n;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,r){var i,n;if(this.leftover){for((n=16-this.leftover)>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=t[e+i];if(r-=n,e+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(t,e,n),e+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=t[e+i];this.leftover+=r}};var V=T,G=B,J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(t,e,r,i){for(var n,s,o,a,u,h,c,f,l,d,p,m,g,y,b,w,v,_,M,S,E,A,k,x,T,B,I=new Int32Array(16),R=new Int32Array(16),P=t[0],C=t[1],O=t[2],U=t[3],N=t[4],L=t[5],q=t[6],z=t[7],D=e[0],j=e[1],H=e[2],F=e[3],K=e[4],$=e[5],W=e[6],V=e[7],G=0;i>=128;){for(M=0;M<16;M++)S=8*M+G,I[M]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],R[M]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(M=0;M<80;M++)if(n=P,s=C,o=O,a=U,u=N,h=L,c=q,l=D,d=j,p=H,m=F,g=K,y=$,b=W,k=65535&(A=V),x=A>>>16,T=65535&(E=z),B=E>>>16,k+=65535&(A=(K>>>14|N<<18)^(K>>>18|N<<14)^(N>>>9|K<<23)),x+=A>>>16,T+=65535&(E=(N>>>14|K<<18)^(N>>>18|K<<14)^(K>>>9|N<<23)),B+=E>>>16,k+=65535&(A=K&$^~K&W),x+=A>>>16,T+=65535&(E=N&L^~N&q),B+=E>>>16,E=J[2*M],k+=65535&(A=J[2*M+1]),x+=A>>>16,T+=65535&E,B+=E>>>16,E=I[M%16],x+=(A=R[M%16])>>>16,T+=65535&E,B+=E>>>16,T+=(x+=(k+=65535&A)>>>16)>>>16,k=65535&(A=_=65535&k|x<<16),x=A>>>16,T=65535&(E=v=65535&T|(B+=T>>>16)<<16),B=E>>>16,k+=65535&(A=(D>>>28|P<<4)^(P>>>2|D<<30)^(P>>>7|D<<25)),x+=A>>>16,T+=65535&(E=(P>>>28|D<<4)^(D>>>2|P<<30)^(D>>>7|P<<25)),B+=E>>>16,x+=(A=D&j^D&H^j&H)>>>16,T+=65535&(E=P&C^P&O^C&O),B+=E>>>16,f=65535&(T+=(x+=(k+=65535&A)>>>16)>>>16)|(B+=T>>>16)<<16,w=65535&k|x<<16,k=65535&(A=m),x=A>>>16,T=65535&(E=a),B=E>>>16,x+=(A=_)>>>16,T+=65535&(E=v),B+=E>>>16,C=n,O=s,U=o,N=a=65535&(T+=(x+=(k+=65535&A)>>>16)>>>16)|(B+=T>>>16)<<16,L=u,q=h,z=c,P=f,j=l,H=d,F=p,K=m=65535&k|x<<16,$=g,W=y,V=b,D=w,M%16==15)for(S=0;S<16;S++)E=I[S],k=65535&(A=R[S]),x=A>>>16,T=65535&E,B=E>>>16,E=I[(S+9)%16],k+=65535&(A=R[(S+9)%16]),x+=A>>>16,T+=65535&E,B+=E>>>16,v=I[(S+1)%16],k+=65535&(A=((_=R[(S+1)%16])>>>1|v<<31)^(_>>>8|v<<24)^(_>>>7|v<<25)),x+=A>>>16,T+=65535&(E=(v>>>1|_<<31)^(v>>>8|_<<24)^v>>>7),B+=E>>>16,v=I[(S+14)%16],x+=(A=((_=R[(S+14)%16])>>>19|v<<13)^(v>>>29|_<<3)^(_>>>6|v<<26))>>>16,T+=65535&(E=(v>>>19|_<<13)^(_>>>29|v<<3)^v>>>6),B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,I[S]=65535&T|B<<16,R[S]=65535&k|x<<16;k=65535&(A=D),x=A>>>16,T=65535&(E=P),B=E>>>16,E=t[0],x+=(A=e[0])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[0]=P=65535&T|B<<16,e[0]=D=65535&k|x<<16,k=65535&(A=j),x=A>>>16,T=65535&(E=C),B=E>>>16,E=t[1],x+=(A=e[1])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[1]=C=65535&T|B<<16,e[1]=j=65535&k|x<<16,k=65535&(A=H),x=A>>>16,T=65535&(E=O),B=E>>>16,E=t[2],x+=(A=e[2])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[2]=O=65535&T|B<<16,e[2]=H=65535&k|x<<16,k=65535&(A=F),x=A>>>16,T=65535&(E=U),B=E>>>16,E=t[3],x+=(A=e[3])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[3]=U=65535&T|B<<16,e[3]=F=65535&k|x<<16,k=65535&(A=K),x=A>>>16,T=65535&(E=N),B=E>>>16,E=t[4],x+=(A=e[4])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[4]=N=65535&T|B<<16,e[4]=K=65535&k|x<<16,k=65535&(A=$),x=A>>>16,T=65535&(E=L),B=E>>>16,E=t[5],x+=(A=e[5])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[5]=L=65535&T|B<<16,e[5]=$=65535&k|x<<16,k=65535&(A=W),x=A>>>16,T=65535&(E=q),B=E>>>16,E=t[6],x+=(A=e[6])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[6]=q=65535&T|B<<16,e[6]=W=65535&k|x<<16,k=65535&(A=V),x=A>>>16,T=65535&(E=z),B=E>>>16,E=t[7],x+=(A=e[7])>>>16,T+=65535&E,B+=E>>>16,B+=(T+=(x+=(k+=65535&A)>>>16)>>>16)>>>16,t[7]=z=65535&T|B<<16,e[7]=V=65535&k|x<<16,G+=128,i-=128}return i}function X(t,e,r){var i,n=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(n[0]=1779033703,n[1]=3144134277,n[2]=1013904242,n[3]=2773480762,n[4]=1359893119,n[5]=2600822924,n[6]=528734635,n[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,Z(n,s,e,r),r%=128,i=0;i<r;i++)o[i]=e[a-r+i];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),Z(n,s,o,r),i=0;i<8;i++)p(t,8*i,n[i],s[i]);return 0}function Y(t,r){var i=e(),n=e(),s=e(),o=e(),a=e(),u=e(),h=e(),f=e(),l=e();q(i,t[1],t[0]),q(l,r[1],r[0]),z(i,i,l),L(n,t[0],t[1]),L(l,r[0],r[1]),z(n,n,l),z(s,t[3],r[3]),z(s,s,c),z(o,t[2],r[2]),L(o,o,o),q(a,n,i),q(u,o,s),L(h,o,s),L(f,n,i),z(t[0],a,u),z(t[1],f,h),z(t[2],h,u),z(t[3],a,f)}function Q(t,e,r){var i;for(i=0;i<4;i++)P(t[i],e[i],r)}function tt(t,r){var i=e(),n=e(),s=e();j(s,r[2]),z(i,r[0],s),z(n,r[1],s),C(t,n),t[31]^=U(i)<<7}function et(t,e,r){var i,n;for(I(t[0],o),I(t[1],a),I(t[2],a),I(t[3],o),n=255;n>=0;--n)Q(t,e,i=r[n/8|0]>>(7&n)&1),Y(e,t),Y(t,t),Q(t,e,i)}function rt(t,r){var i=[e(),e(),e(),e()];I(i[0],f),I(i[1],l),I(i[2],a),z(i[3],f,l),et(t,i,r)}function it(t,r,n){var s,o=new Uint8Array(64),a=[e(),e(),e(),e()];for(n||i(r,32),X(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,rt(a,o),tt(t,a),s=0;s<32;s++)r[s+32]=t[s];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function st(t,e){var r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*nt[n-(i-32)],r=Math.floor((e[n]+128)/256),e[n]-=256*r;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;n++)e[n]+=r-(e[31]>>4)*nt[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=r*nt[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=255&e[i]}function ot(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;st(t,r)}function at(t,r,i,n){var s,o,a=new Uint8Array(64),u=new Uint8Array(64),h=new Uint8Array(64),c=new Float64Array(64),f=[e(),e(),e(),e()];X(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=i+64;for(s=0;s<i;s++)t[64+s]=r[s];for(s=0;s<32;s++)t[32+s]=a[32+s];for(X(h,t.subarray(32),i+32),ot(h),rt(f,h),tt(t,f),s=32;s<64;s++)t[s]=n[s];for(X(u,t,i+64),ot(u),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=h[s];for(s=0;s<32;s++)for(o=0;o<32;o++)c[s+o]+=u[s]*a[o];return st(t.subarray(32),c),l}function ut(t,r,i,n){var s,u=new Uint8Array(32),c=new Uint8Array(64),f=[e(),e(),e(),e()],l=[e(),e(),e(),e()];if(i<64)return-1;if(function(t,r){var i=e(),n=e(),s=e(),u=e(),c=e(),f=e(),l=e();return I(t[2],a),N(t[1],r),D(s,t[1]),z(u,s,h),q(s,s,t[2]),L(u,t[2],u),D(c,u),D(f,c),z(l,f,c),z(i,l,s),z(i,i,u),H(i,i),z(i,i,s),z(i,i,u),z(i,i,u),z(t[0],i,u),D(n,t[0]),z(n,n,u),O(n,s)&&z(t[0],t[0],d),D(n,t[0]),z(n,n,u),O(n,s)?-1:(U(t[0])===r[31]>>7&&q(t[0],o,t[0]),z(t[3],t[0],t[1]),0)}(l,n))return-1;for(s=0;s<i;s++)t[s]=r[s];for(s=0;s<32;s++)t[s+32]=n[s];if(X(c,t,i),ot(c),et(f,l,c),rt(l,r.subarray(32)),Y(f,l),tt(u,f),i-=64,y(r,0,u,0)){for(s=0;s<i;s++)t[s]=0;return-1}for(s=0;s<i;s++)t[s]=r[s+64];return i}var ht=64,ct=32,ft=64;function lt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function dt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:M,crypto_onetimeauth:k,crypto_onetimeauth_verify:x,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:B,crypto_scalarmult:F,crypto_scalarmult_base:K,crypto_box_beforenm:W,crypto_box_afternm:V,crypto_box:function(t,e,r,i,n,s){var o=new Uint8Array(32);return W(o,n,s),V(t,e,r,i,o)},crypto_box_open:function(t,e,r,i,n,s){var o=new Uint8Array(32);return W(o,n,s),G(t,e,r,i,o)},crypto_box_keypair:$,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:it,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ht,crypto_sign_PUBLICKEYBYTES:ct,crypto_sign_SECRETKEYBYTES:ft,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:h,L:nt,pack25519:C,unpack25519:N,M:z,A:L,S:D,Z:q,pow2523:H,add:Y,set25519:I,modL:st,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return i(e,t),e},t.secretbox=function(t,e,r){dt(t,e,r),lt(r,e);for(var i=new Uint8Array(32+t.length),n=new Uint8Array(i.length),s=0;s<t.length;s++)i[s+32]=t[s];return T(n,i,i.length,e,r),n.subarray(16)},t.secretbox.open=function(t,e,r){dt(t,e,r),lt(r,e);for(var i=new Uint8Array(16+t.length),n=new Uint8Array(i.length),s=0;s<t.length;s++)i[s+16]=t[s];return i.length<32||0!==B(n,i,i.length,e,r)?null:n.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(dt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return F(r,t,e),r},t.scalarMult.base=function(t){if(dt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return K(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,i,n){var s=t.box.before(i,n);return t.secretbox(e,r,s)},t.box.before=function(t,e){dt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return W(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,i,n){var s=t.box.before(i,n);return t.secretbox.open(e,r,s)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(dt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(dt(t,e),e.length!==ft)throw new Error("bad secret key size");var r=new Uint8Array(ht+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(dt(t,e),e.length!==ct)throw new Error("bad public key size");var r=new Uint8Array(t.length),i=ut(r,t,t.length,e);if(i<0)return null;for(var n=new Uint8Array(i),s=0;s<n.length;s++)n[s]=r[s];return n},t.sign.detached=function(e,r){for(var i=t.sign(e,r),n=new Uint8Array(ht),s=0;s<n.length;s++)n[s]=i[s];return n},t.sign.detached.verify=function(t,e,r){if(dt(t,e,r),e.length!==ht)throw new Error("bad signature size");if(r.length!==ct)throw new Error("bad public key size");var i,n=new Uint8Array(ht+t.length),s=new Uint8Array(ht+t.length);for(i=0;i<ht;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+ht]=t[i];return ut(s,n,n.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ct),e=new Uint8Array(ft);return it(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(dt(t),t.length!==ft)throw new Error("bad secret key size");for(var e=new Uint8Array(ct),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(dt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ct),r=new Uint8Array(ft),i=0;i<32;i++)r[i]=t[i];return it(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=ct,t.sign.secretKeyLength=ft,t.sign.seedLength=32,t.sign.signatureLength=ht,t.hash=function(t){dt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return dt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===m(t,0,e,0,t.length)},t.setPRNG=function(t){i=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues?t.setPRNG((function(t,r){var i,n=new Uint8Array(r);for(i=0;i<r;i+=65536)e.getRandomValues(n.subarray(i,i+Math.min(r-i,65536)));for(i=0;i<r;i++)t[i]=n[i];pt(n)})):(e=r(5835))&&e.randomBytes&&t.setPRNG((function(t,r){var i,n=e.randomBytes(r);for(i=0;i<r;i++)t[i]=n[i];pt(n)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},4927:(t,e,r)=>{function i(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},4608:(t,e,r)=>{"use strict";var i;r.d(e,{v4:()=>c});var n=new Uint8Array(16);function s(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],u=0;u<256;++u)a.push((u+256).toString(16).substr(1));const h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&o.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},c=function(t,e,r){var i=(t=t||{}).random||(t.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=i[n];return e}return h(i)}},950:()=>{},6601:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{},6115:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},7156:t=>{function e(t,e,r,i,n,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(i,n)}t.exports=function(t){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=t.apply(r,i);function a(t){e(o,n,s,a,u,"next",t)}function u(t){e(o,n,s,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},6690:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9728:(t,e,r)=>{var i=r(4062);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},3808:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:(t,e,r)=>{var i=r(6015);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},4836:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},4993:(t,e,r)=>{var i=r(8698).default,n=r(6115);t.exports=function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7061:(t,e,r)=>{var i=r(8698).default;function n(){"use strict";t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(e){l=function(t,e,r){return t[e]=r}}function d(t,e,r,i){var n=e&&e.prototype instanceof v?e:v,s=Object.create(n.prototype),o=new C(i||[]);return a(s,"_invoke",{value:B(t,r,o)}),s}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",g="suspendedYield",y="executing",b="completed",w={};function v(){}function _(){}function M(){}var S={};l(S,h,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(O([])));A&&A!==s&&o.call(A,h)&&(S=A);var k=M.prototype=v.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(n,s,a,u){var h=p(t[n],t,s);if("throw"!==h.type){var c=h.arg,f=c.value;return f&&"object"==i(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(h.arg)}var n;a(this,"_invoke",{value:function(t,i){function s(){return new e((function(e,n){r(t,i,e,n)}))}return n=n?n.then(s,s):s()}})}function B(t,r,i){var n=m;return function(s,o){if(n===y)throw new Error("Generator is already running");if(n===b){if("throw"===s)throw o;return{value:e,done:!0}}for(i.method=s,i.arg=o;;){var a=i.delegate;if(a){var u=I(a,i);if(u){if(u===w)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===m)throw n=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=y;var h=p(t,r,i);if("normal"===h.type){if(n=i.done?b:g,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(n=b,i.method="throw",i.arg=h.arg)}}}function I(t,r){var i=r.method,n=t.iterator[i];if(n===e)return r.delegate=null,"throw"===i&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),w;var s=p(n,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,w;var o=s.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,w):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[h];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(i(t)+" is not iterable")}return _.prototype=M,a(k,"constructor",{value:M,configurable:!0}),a(M,"constructor",{value:_,configurable:!0}),_.displayName=l(M,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,l(t,f,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},x(T.prototype),l(T.prototype,c,(function(){return this})),r.AsyncIterator=T,r.async=function(t,e,i,n,s){void 0===s&&(s=Promise);var o=new T(d(t,e,i,n),s);return r.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(k),l(k,f,"Generator"),l(k,h,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},r.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(i,n){return a.type="throw",a.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),h=o.call(s,"finallyLoc");if(u&&h){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,w):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;P(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:O(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),w}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},6015:t=>{function e(r,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5036:(t,e,r)=>{var i=r(8698).default;t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:(t,e,r)=>{var i=r(8698).default,n=r(5036);t.exports=function(t){var e=n(t,"string");return"symbol"===i(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4687:(t,e,r)=>{var i=r(7061)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},4946:t=>{"use strict";t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:t=>{"use strict";t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:t=>{"use strict";t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:t=>{"use strict";t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:t=>{"use strict";t.exports={i8:"6.5.4"}},2562:t=>{"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);__webpack_require__.r(r);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var n=2&e&&t;"object"==typeof n&&!~leafPrototypes.indexOf(n);n=getProto(n))Object.getOwnPropertyNames(n).forEach((e=>i[e]=()=>t[e]));return i.default=()=>t,__webpack_require__.d(r,i),r},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WebIrys:()=>ZM,default:()=>XM});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{arToWinston:()=>wi,b64UrlDecode:()=>yi,b64UrlEncode:()=>gi,b64UrlToBuffer:()=>di,b64UrlToString:()=>hi,bufferToString:()=>ci,bufferTob64:()=>pi,bufferTob64Url:()=>mi,concatBuffers:()=>ui,stringToB64Url:()=>li,stringToBuffer:()=>fi,winstonToAr:()=>bi});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{AVSCTap:()=>vu,AlgorandSigner:()=>Va,AptosSigner:()=>Qa,ArconnectSigner:()=>cu,Arweave:()=>Ji,ArweaveSigner:()=>ln,Bundle:()=>Bu,BundleItem:()=>qu,CryptoDriver:()=>Xi,Curve25519:()=>oi,DataItem:()=>Au,EthereumSigner:()=>Fa,HexInjectedSolanaSigner:()=>Ja,HexSolanaSigner:()=>Xa,InjectedAptosSigner:()=>eu,InjectedEthereumSigner:()=>Ea,InjectedSolanaSigner:()=>pn,InjectedTypedEthereumSigner:()=>hu,MAX_TAG_BYTES:()=>Eu,MIN_BINARY_SIZE:()=>Su,MultiSignatureAptosSigner:()=>iu,NearSigner:()=>$a,PolygonSigner:()=>Ka,Rsa4096:()=>en,SIG_CONFIG:()=>pr,SignatureConfig:()=>dr,Signer:()=>lr,SolanaSigner:()=>ka,TypedEthereumSigner:()=>su,bundleAndSignData:()=>Cu,byteArrayToLong:()=>bu,concatBuffers:()=>ui,createData:()=>Lu,deepHash:()=>_i,deserializeTags:()=>Mu,exportForTesting:()=>za,getCryptoDriver:()=>Qi,getSignatureAndId:()=>Ou,indexToType:()=>fu,keccak256:()=>Ia,longTo16ByteArray:()=>gu,longTo32ByteArray:()=>yu,longTo8ByteArray:()=>pu,longToNByteArray:()=>du,secp256k1:()=>ja,serializeTags:()=>_u,shortTo2ByteArray:()=>mu,sign:()=>Uu,stringToBuffer:()=>fi,unbundleData:()=>Pu});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{default:()=>Ku,processStream:()=>Du,streamExportForTesting:()=>$u,streamSigner:()=>ju});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{DataItem:()=>Au,bundleAndSignData:()=>Cu,createData:()=>Lu,deepHash:()=>_i,getCryptoDriver:()=>Qi,stringToBuffer:()=>fi});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{dQ:()=>Jh,ci:()=>Dh,bytesToNumberBE:()=>Fh,ty:()=>Kh,eV:()=>Gh,n$:()=>Yh,ql:()=>Vh,hexToBytes:()=>Hh,tL:()=>$h,S5:()=>Wh,FF:()=>tc});const s=()=>{throw new Error("Unimplemented")};function o(t,e){return function(){return t.apply(e,arguments)}}globalThis.crypto??={},globalThis.crypto.subtle??={},globalThis.crypto.subtle.generateKey??=s,globalThis.crypto.subtle.importKey??=s,globalThis.crypto.subtle.exportKey??=s,globalThis.crypto.subtle.digest??=s,globalThis.crypto.subtle.sign??=s;const{toString:a}=Object.prototype,{getPrototypeOf:u}=Object,h=(c=Object.create(null),t=>{const e=a.call(t);return c[e]||(c[e]=e.slice(8,-1).toLowerCase())});var c;const f=t=>(t=t.toLowerCase(),e=>h(e)===t),l=t=>e=>typeof e===t,{isArray:d}=Array,p=l("undefined"),m=f("ArrayBuffer"),g=l("string"),y=l("function"),b=l("number"),w=t=>null!==t&&"object"==typeof t,v=t=>{if("object"!==h(t))return!1;const e=u(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},_=f("Date"),M=f("File"),S=f("Blob"),E=f("FileList"),A=f("URLSearchParams");function k(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let i,n;if("object"!=typeof t&&(t=[t]),d(t))for(i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else{const n=r?Object.getOwnPropertyNames(t):Object.keys(t),s=n.length;let o;for(i=0;i<s;i++)o=n[i],e.call(null,t[o],o,t)}}function x(t,e){e=e.toLowerCase();const r=Object.keys(t);let i,n=r.length;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,B=t=>!p(t)&&t!==T,I=(R="undefined"!=typeof Uint8Array&&u(Uint8Array),t=>R&&t instanceof R);var R;const P=f("HTMLFormElement"),C=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),O=f("RegExp"),U=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),i={};k(r,((r,n)=>{let s;!1!==(s=e(r,n,t))&&(i[n]=s||r)})),Object.defineProperties(t,i)},N="abcdefghijklmnopqrstuvwxyz",L="0123456789",q={DIGIT:L,ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+L},z=f("AsyncFunction"),D={isArray:d,isArrayBuffer:m,isBuffer:function(t){return null!==t&&!p(t)&&null!==t.constructor&&!p(t.constructor)&&y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||y(t.append)&&("formdata"===(e=h(t))||"object"===e&&y(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&m(t.buffer),e},isString:g,isNumber:b,isBoolean:t=>!0===t||!1===t,isObject:w,isPlainObject:v,isUndefined:p,isDate:_,isFile:M,isBlob:S,isRegExp:O,isFunction:y,isStream:t=>w(t)&&y(t.pipe),isURLSearchParams:A,isTypedArray:I,isFileList:E,forEach:k,merge:function t(){const{caseless:e}=B(this)&&this||{},r={},i=(i,n)=>{const s=e&&x(r,n)||n;v(r[s])&&v(i)?r[s]=t(r[s],i):v(i)?r[s]=t({},i):d(i)?r[s]=i.slice():r[s]=i};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&k(arguments[t],i);return r},extend:(t,e,r,{allOwnKeys:i}={})=>(k(e,((e,i)=>{r&&y(e)?t[i]=o(e,r):t[i]=e}),{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,i)=>{let n,s,o;const a={};if(e=e||{},null==t)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)o=n[s],i&&!i(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==r&&u(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:h,kindOfTest:f,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const i=t.indexOf(e,r);return-1!==i&&i===r},toArray:t=>{if(!t)return null;if(d(t))return t;let e=t.length;if(!b(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const i=[];for(;null!==(r=t.exec(e));)i.push(r);return i},isHTMLForm:P,hasOwnProperty:C,hasOwnProp:C,reduceDescriptors:U,freezeMethods:t=>{U(t,((e,r)=>{if(y(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const i=t[r];y(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},i=t=>{t.forEach((t=>{r[t]=!0}))};return d(t)?i(t):i(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:x,global:T,isContextDefined:B,ALPHABET:q,generateString:(t=16,e=q.ALPHA_DIGIT)=>{let r="";const{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r},isSpecCompliantForm:function(t){return!!(t&&y(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,i)=>{if(w(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const n=d(t)?[]:{};return k(t,((t,e)=>{const s=r(t,i+1);!p(s)&&(n[e]=s)})),e[i]=void 0,n}}return t};return r(t,0)},isAsyncFn:z,isThenable:t=>t&&(w(t)||y(t))&&y(t.then)&&y(t.catch)};function j(t,e,r,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}D.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const H=j.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{F[t]={value:t}})),Object.defineProperties(j,F),Object.defineProperty(H,"isAxiosError",{value:!0}),j.from=(t,e,r,i,n,s)=>{const o=Object.create(H);return D.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),j.call(o,t.message,e,r,i,n),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const K=j;var $=__webpack_require__(8764).Buffer;function W(t){return D.isPlainObject(t)||D.isArray(t)}function V(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function G(t,e,r){return t?t.concat(e).map((function(t,e){return t=V(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const J=D.toFlatObject(D,{},null,(function(t){return/^is[A-Z]/.test(t)})),Z=function(t,e,r){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!D.isUndefined(e[t])}))).metaTokens,n=r.visitor||h,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(n))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(D.isDate(t))return t.toISOString();if(!a&&D.isBlob(t))throw new K("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(t)||D.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):$.from(t):t}function h(t,r,n){let a=t;if(t&&!n&&"object"==typeof t)if(D.endsWith(r,"{}"))r=i?r:r.slice(0,-2),t=JSON.stringify(t);else if(D.isArray(t)&&function(t){return D.isArray(t)&&!t.some(W)}(t)||(D.isFileList(t)||D.endsWith(r,"[]"))&&(a=D.toArray(t)))return r=V(r),a.forEach((function(t,i){!D.isUndefined(t)&&null!==t&&e.append(!0===o?G([r],i,s):null===o?r:r+"[]",u(t))})),!1;return!!W(t)||(e.append(G(n,r,s),u(t)),!1)}const c=[],f=Object.assign(J,{defaultVisitor:h,convertValue:u,isVisitable:W});if(!D.isObject(t))throw new TypeError("data must be an object");return function t(r,i){if(!D.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+i.join("."));c.push(r),D.forEach(r,(function(r,s){!0===(!(D.isUndefined(r)||null===r)&&n.call(e,r,D.isString(s)?s.trim():s,i,f))&&t(r,i?i.concat(s):[s])})),c.pop()}}(t),e};function X(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Y(t,e){this._pairs=[],t&&Z(t,this,e)}const Q=Y.prototype;Q.append=function(t,e){this._pairs.push([t,e])},Q.toString=function(t){const e=t?function(e){return t.call(this,e,X)}:X;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const tt=Y;function et(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rt(t,e,r){if(!e)return t;const i=r&&r.encode||et,n=r&&r.serialize;let s;if(s=n?n(e,r):D.isURLSearchParams(e)?e.toString():new tt(e,r).toString(i),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const it=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},st={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:tt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},ot=function(t){function e(t,r,i,n){let s=t[n++];const o=Number.isFinite(+s),a=n>=t.length;return s=!s&&D.isArray(i)?i.length:s,a?(D.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):(i[s]&&D.isObject(i[s])||(i[s]=[]),e(t,r,i[s],n)&&D.isArray(i[s])&&(i[s]=function(t){const e={},r=Object.keys(t);let i;const n=r.length;let s;for(i=0;i<n;i++)s=r[i],e[s]=t[s];return e}(i[s])),!o)}if(D.isFormData(t)&&D.isFunction(t.entries)){const r={};return D.forEachEntry(t,((t,i)=>{e(function(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,r,0)})),r}return null},at={transitional:nt,adapter:["xhr","http"],transformRequest:[function(t,e){const r=e.getContentType()||"",i=r.indexOf("application/json")>-1,n=D.isObject(t);if(n&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return i&&i?JSON.stringify(ot(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Z(t,new st.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,i){return st.isNode&&D.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=D.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Z(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return n||i?(e.setContentType("application/json",!1),function(t,e,r){if(D.isString(t))try{return(0,JSON.parse)(t),D.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||at.transitional,r=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&D.isString(t)&&(r&&!this.responseType||i)){const r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw K.from(t,K.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:st.classes.FormData,Blob:st.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],(t=>{at.headers[t]={}}));const ut=at,ht=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ct=Symbol("internals");function ft(t){return t&&String(t).trim().toLowerCase()}function lt(t){return!1===t||null==t?t:D.isArray(t)?t.map(lt):String(t)}function dt(t,e,r,i,n){return D.isFunction(i)?i.call(this,e,r):(n&&(e=r),D.isString(e)?D.isString(i)?-1!==e.indexOf(i):D.isRegExp(i)?i.test(e):void 0:void 0)}class pt{constructor(t){t&&this.set(t)}set(t,e,r){const i=this;function n(t,e,r){const n=ft(e);if(!n)throw new Error("header name must be a non-empty string");const s=D.findKey(i,n);(!s||void 0===i[s]||!0===r||void 0===r&&!1!==i[s])&&(i[s||e]=lt(t))}const s=(t,e)=>D.forEach(t,((t,r)=>n(t,r,e)));return D.isPlainObject(t)||t instanceof this.constructor?s(t,e):D.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?s((t=>{const e={};let r,i,n;return t&&t.split("\n").forEach((function(t){n=t.indexOf(":"),r=t.substring(0,n).trim().toLowerCase(),i=t.substring(n+1).trim(),!r||e[r]&&ht[r]||("set-cookie"===r?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)})),e})(t),e):null!=t&&n(e,t,r),this}get(t,e){if(t=ft(t)){const r=D.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}(t);if(D.isFunction(e))return e.call(this,t,r);if(D.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ft(t)){const r=D.findKey(this,t);return!(!r||void 0===this[r]||e&&!dt(0,this[r],r,e))}return!1}delete(t,e){const r=this;let i=!1;function n(t){if(t=ft(t)){const n=D.findKey(r,t);!n||e&&!dt(0,r[n],n,e)||(delete r[n],i=!0)}}return D.isArray(t)?t.forEach(n):n(t),i}clear(t){const e=Object.keys(this);let r=e.length,i=!1;for(;r--;){const n=e[r];t&&!dt(0,this[n],n,t,!0)||(delete this[n],i=!0)}return i}normalize(t){const e=this,r={};return D.forEach(this,((i,n)=>{const s=D.findKey(r,n);if(s)return e[s]=lt(i),void delete e[n];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(n):String(n).trim();o!==n&&delete e[n],e[o]=lt(i),r[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return D.forEach(this,((r,i)=>{null!=r&&!1!==r&&(e[i]=t&&D.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[ct]=this[ct]={accessors:{}}).accessors,r=this.prototype;function i(t){const i=ft(t);e[i]||(function(t,e){const r=D.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+r,{value:function(t,r,n){return this[i].call(this,e,t,r,n)},configurable:!0})}))}(r,t),e[i]=!0)}return D.isArray(t)?t.forEach(i):i(t),this}}pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),D.reduceDescriptors(pt.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),D.freezeMethods(pt);const mt=pt;function gt(t,e){const r=this||ut,i=e||r,n=mt.from(i.headers);let s=i.data;return D.forEach(t,(function(t){s=t.call(r,s,n.normalize(),e?e.status:void 0)})),n.normalize(),s}function yt(t){return!(!t||!t.__CANCEL__)}function bt(t,e,r){K.call(this,null==t?"canceled":t,K.ERR_CANCELED,e,r),this.name="CanceledError"}D.inherits(bt,K,{__CANCEL__:!0});const wt=bt,vt=st.isStandardBrowserEnv?{write:function(t,e,r,i,n,s){const o=[];o.push(t+"="+encodeURIComponent(e)),D.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),D.isString(i)&&o.push("path="+i),D.isString(n)&&o.push("domain="+n),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function _t(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Mt=st.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function i(r){let i=r;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=i(window.location.href),function(t){const e=D.isString(t)?i(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0};function St(t,e){let r=0;const i=function(t,e){t=t||10;const r=new Array(t),i=new Array(t);let n,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),h=i[o];n||(n=u),r[s]=a,i[s]=u;let c=o,f=0;for(;c!==s;)f+=r[c++],c%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-n<e)return;const l=h&&u-h;return l?Math.round(1e3*f/l):void 0}}(50,250);return n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,u=i(a);r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:n};h[e?"download":"upload"]=!0,t(h)}}const Et="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){let i=t.data;const n=mt.from(t.headers).normalize(),s=t.responseType;let o,a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}D.isFormData(i)&&(st.isStandardBrowserEnv||st.isStandardBrowserWebWorkerEnv?n.setContentType(!1):n.getContentType(/^\s*multipart\/form-data/)?D.isString(a=n.getContentType())&&n.setContentType(a.replace(/^\s*(multipart\/form-data);+/,"$1")):n.setContentType("multipart/form-data"));let h=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",r=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";n.set("Authorization","Basic "+btoa(e+":"+r))}const c=_t(t.baseURL,t.url);function f(){if(!h)return;const i=mt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());!function(t,e,r){const i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}((function(t){e(t),u()}),(function(t){r(t),u()}),{data:s&&"text"!==s&&"json"!==s?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:t,request:h}),h=null}if(h.open(t.method.toUpperCase(),rt(c,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(r(new K("Request aborted",K.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const i=t.transitional||nt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new K(e,i.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,h)),h=null},st.isStandardBrowserEnv){const e=(t.withCredentials||Mt(c))&&t.xsrfCookieName&&vt.read(t.xsrfCookieName);e&&n.set(t.xsrfHeaderName,e)}void 0===i&&n.setContentType(null),"setRequestHeader"in h&&D.forEach(n.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),D.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&"json"!==s&&(h.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",St(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",St(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=e=>{h&&(r(!e||e.type?new wt(null,t,h):e),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const l=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(c);l&&-1===st.protocols.indexOf(l)?r(new K("Unsupported protocol "+l+":",K.ERR_BAD_REQUEST,t)):h.send(i||null)}))},At={http:null,xhr:Et};D.forEach(At,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const kt=t=>`- ${t}`,xt=t=>D.isFunction(t)||null===t||!1===t,Tt=t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let r,i;const n={};for(let s=0;s<e;s++){let e;if(r=t[s],i=r,!xt(r)&&(i=At[(e=String(r)).toLowerCase()],void 0===i))throw new K(`Unknown adapter '${e}'`);if(i)break;n[e||"#"+s]=i}if(!i){const t=Object.entries(n).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let r=e?t.length>1?"since :\n"+t.map(kt).join("\n"):" "+kt(t[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return i};function Bt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wt(null,t)}function It(t){return Bt(t),t.headers=mt.from(t.headers),t.data=gt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Tt(t.adapter||ut.adapter)(t).then((function(e){return Bt(t),e.data=gt.call(t,t.transformResponse,e),e.headers=mt.from(e.headers),e}),(function(e){return yt(e)||(Bt(t),e&&e.response&&(e.response.data=gt.call(t,t.transformResponse,e.response),e.response.headers=mt.from(e.response.headers))),Promise.reject(e)}))}const Rt=t=>t instanceof mt?t.toJSON():t;function Pt(t,e){e=e||{};const r={};function i(t,e,r){return D.isPlainObject(t)&&D.isPlainObject(e)?D.merge.call({caseless:r},t,e):D.isPlainObject(e)?D.merge({},e):D.isArray(e)?e.slice():e}function n(t,e,r){return D.isUndefined(e)?D.isUndefined(t)?void 0:i(void 0,t,r):i(t,e,r)}function s(t,e){if(!D.isUndefined(e))return i(void 0,e)}function o(t,e){return D.isUndefined(e)?D.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(r,n,s){return s in e?i(r,n):s in t?i(void 0,r):void 0}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>n(Rt(t),Rt(e),!0)};return D.forEach(Object.keys(Object.assign({},t,e)),(function(i){const s=u[i]||n,o=s(t[i],e[i],i);D.isUndefined(o)&&s!==a||(r[i]=o)})),r}const Ct={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ct[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const Ot={};Ct.transitional=function(t,e,r){function i(t,e){return"[Axios v1.5.1] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,n,s)=>{if(!1===t)throw new K(i(n," has been removed"+(e?" in "+e:"")),K.ERR_DEPRECATED);return e&&!Ot[n]&&(Ot[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}};const Ut={assertOptions:function(t,e,r){if("object"!=typeof t)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let n=i.length;for(;n-- >0;){const s=i[n],o=e[s];if(o){const e=t[s],r=void 0===e||o(e,s,t);if(!0!==r)throw new K("option "+s+" must be "+r,K.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new K("Unknown option "+s,K.ERR_BAD_OPTION)}},validators:Ct},Nt=Ut.validators;class Lt{constructor(t){this.defaults=t,this.interceptors={request:new it,response:new it}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Pt(this.defaults,e);const{transitional:r,paramsSerializer:i,headers:n}=e;void 0!==r&&Ut.assertOptions(r,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),null!=i&&(D.isFunction(i)?e.paramsSerializer={serialize:i}:Ut.assertOptions(i,{encode:Nt.function,serialize:Nt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=n&&D.merge(n.common,n[e.method]);n&&D.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete n[t]})),e.headers=mt.concat(s,n);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const u=[];let h;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let c,f=0;if(!a){const t=[It.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,u),c=t.length,h=Promise.resolve(e);f<c;)h=h.then(t[f++],t[f++]);return h}c=o.length;let l=e;for(f=0;f<c;){const t=o[f++],e=o[f++];try{l=t(l)}catch(t){e.call(this,t);break}}try{h=It.call(this,l)}catch(t){return Promise.reject(t)}for(f=0,c=u.length;f<c;)h=h.then(u[f++],u[f++]);return h}getUri(t){return rt(_t((t=Pt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],(function(t){Lt.prototype[t]=function(e,r){return this.request(Pt(r||{},{method:t,url:e,data:(r||{}).data}))}})),D.forEach(["post","put","patch"],(function(t){function e(e){return function(r,i,n){return this.request(Pt(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Lt.prototype[t]=e(),Lt.prototype[t+"Form"]=e(!0)}));const qt=Lt;class zt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{r.subscribe(t),e=t})).then(t);return i.cancel=function(){r.unsubscribe(e)},i},t((function(t,i,n){r.reason||(r.reason=new wt(t,i,n),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new zt((function(e){t=e})),cancel:t}}}const Dt=zt,jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jt).forEach((([t,e])=>{jt[e]=t}));const Ht=jt,Ft=function t(e){const r=new qt(e),i=o(qt.prototype.request,r);return D.extend(i,qt.prototype,r,{allOwnKeys:!0}),D.extend(i,r,null,{allOwnKeys:!0}),i.create=function(r){return t(Pt(e,r))},i}(ut);Ft.Axios=qt,Ft.CanceledError=wt,Ft.CancelToken=Dt,Ft.isCancel=yt,Ft.VERSION="1.5.1",Ft.toFormData=Z,Ft.AxiosError=K,Ft.Cancel=Ft.CanceledError,Ft.all=function(t){return Promise.all(t)},Ft.spread=function(t){return function(e){return t.apply(null,e)}},Ft.isAxiosError=function(t){return D.isObject(t)&&!0===t.isAxiosError},Ft.mergeConfig=Pt,Ft.AxiosHeaders=mt,Ft.formToJSON=t=>ot(D.isHTMLForm(t)?new FormData(t):t),Ft.getAdapter=Tt,Ft.HttpStatusCode=Ht,Ft.default=Ft;const Kt=Ft;var $t=__webpack_require__(2047),Wt=__webpack_require__(5835),Vt=__webpack_require__.t(Wt,2),Gt=__webpack_require__(8764).Buffer,Jt=__webpack_require__(3363),Zt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Xt=Math.ceil,Yt=Math.floor,Qt="[BigNumber Error] ",te=Qt+"Number primitive has more than 15 significant digits: ",ee=1e14,re=14,ie=9007199254740991,ne=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],se=1e7,oe=1e9;function ae(t){var e=0|t;return t>0||t===e?e:e-1}function ue(t){for(var e,r,i=1,n=t.length,s=t[0]+"";i<n;){for(e=t[i++]+"",r=re-e.length;r--;e="0"+e);s+=e}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function he(t,e){var r,i,n=t.c,s=e.c,o=t.s,a=e.s,u=t.e,h=e.e;if(!o||!a)return null;if(r=n&&!n[0],i=s&&!s[0],r||i)return r?i?0:-a:o;if(o!=a)return o;if(r=o<0,i=u==h,!n||!s)return i?0:!n^r?1:-1;if(!i)return u>h^r?1:-1;for(a=(u=n.length)<(h=s.length)?u:h,o=0;o<a;o++)if(n[o]!=s[o])return n[o]>s[o]^r?1:-1;return u==h?0:u>h^r?1:-1}function ce(t,e,r,i){if(t<e||t>r||t!==Yt(t))throw Error(Qt+(i||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function fe(t){var e=t.c.length-1;return ae(t.e/re)==e&&t.c[e]%2!=0}function le(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function de(t,e,r){var i,n;if(e<0){for(n=r+".";++e;n+=r);t=n+t}else if(++e>(i=t.length)){for(n=r,e-=i;--e;n+=r);t+=n}else e<i&&(t=t.slice(0,e)+"."+t.slice(e));return t}var pe=function t(e){var r,i,n,s,o,a,u,h,c,f,l=k.prototype={constructor:k,toString:null,valueOf:null},d=new k(1),p=20,m=4,g=-7,y=21,b=-1e7,w=1e7,v=!1,_=1,M=0,S={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",A=!0;function k(t,e){var r,s,o,a,u,h,c,f,l=this;if(!(l instanceof k))return new k(t,e);if(null==e){if(t&&!0===t._isBigNumber)return l.s=t.s,void(!t.c||t.e>w?l.c=l.e=null:t.e<b?l.c=[l.e=0]:(l.e=t.e,l.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(l.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,u=t;u>=10;u/=10,a++);return void(a>w?l.c=l.e=null:(l.e=a,l.c=[t]))}f=String(t)}else{if(!Zt.test(f=String(t)))return n(l,f,h);l.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(a=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(a<0&&(a=u),a+=+f.slice(u+1),f=f.substring(0,u)):a<0&&(a=f.length)}else{if(ce(e,2,E.length,"Base"),10==e&&A)return I(l=new k(t),p+l.e+1,m);if(f=String(t),h="number"==typeof t){if(0*t!=0)return n(l,f,h,e);if(l.s=1/t<0?(f=f.slice(1),-1):1,k.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(te+t)}else l.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=E.slice(0,e),a=u=0,c=f.length;u<c;u++)if(r.indexOf(s=f.charAt(u))<0){if("."==s){if(u>a){a=c;continue}}else if(!o&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){o=!0,u=-1,a=0;continue}return n(l,String(t),h,e)}h=!1,(a=(f=i(f,e,10,l.s)).indexOf("."))>-1?f=f.replace(".",""):a=f.length}for(u=0;48===f.charCodeAt(u);u++);for(c=f.length;48===f.charCodeAt(--c););if(f=f.slice(u,++c)){if(c-=u,h&&k.DEBUG&&c>15&&(t>ie||t!==Yt(t)))throw Error(te+l.s*t);if((a=a-u-1)>w)l.c=l.e=null;else if(a<b)l.c=[l.e=0];else{if(l.e=a,l.c=[],u=(a+1)%re,a<0&&(u+=re),u<c){for(u&&l.c.push(+f.slice(0,u)),c-=re;u<c;)l.c.push(+f.slice(u,u+=re));u=re-(f=f.slice(u)).length}else u-=c;for(;u--;f+="0");l.c.push(+f)}}else l.c=[l.e=0]}function x(t,e,r,i){var n,s,o,a,u;if(null==r?r=m:ce(r,0,8),!t.c)return t.toString();if(n=t.c[0],o=t.e,null==e)u=ue(t.c),u=1==i||2==i&&(o<=g||o>=y)?le(u,o):de(u,o,"0");else if(s=(t=I(new k(t),e,r)).e,a=(u=ue(t.c)).length,1==i||2==i&&(e<=s||s<=g)){for(;a<e;u+="0",a++);u=le(u,s)}else if(e-=o,u=de(u,s,"0"),s+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=s-a)>0)for(s+1==a&&(u+=".");e--;u+="0");return t.s<0&&n?"-"+u:u}function T(t,e){for(var r,i,n=1,s=new k(t[0]);n<t.length;n++)(!(i=new k(t[n])).s||(r=he(s,i))===e||0===r&&s.s===e)&&(s=i);return s}function B(t,e,r){for(var i=1,n=e.length;!e[--n];e.pop());for(n=e[0];n>=10;n/=10,i++);return(r=i+r*re-1)>w?t.c=t.e=null:r<b?t.c=[t.e=0]:(t.e=r,t.c=e),t}function I(t,e,r,i){var n,s,o,a,u,h,c,f=t.c,l=ne;if(f){t:{for(n=1,a=f[0];a>=10;a/=10,n++);if((s=e-n)<0)s+=re,o=e,u=f[h=0],c=Yt(u/l[n-o-1]%10);else if((h=Xt((s+1)/re))>=f.length){if(!i)break t;for(;f.length<=h;f.push(0));u=c=0,n=1,o=(s%=re)-re+1}else{for(u=a=f[h],n=1;a>=10;a/=10,n++);c=(o=(s%=re)-re+n)<0?0:Yt(u/l[n-o-1]%10)}if(i=i||e<0||null!=f[h+1]||(o<0?u:u%l[n-o-1]),i=r<4?(c||i)&&(0==r||r==(t.s<0?3:2)):c>5||5==c&&(4==r||i||6==r&&(s>0?o>0?u/l[n-o]:0:f[h-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,i?(e-=t.e+1,f[0]=l[(re-e%re)%re],t.e=-e||0):f[0]=t.e=0,t;if(0==s?(f.length=h,a=1,h--):(f.length=h+1,a=l[re-s],f[h]=o>0?Yt(u/l[n-o]%l[o])*a:0),i)for(;;){if(0==h){for(s=1,o=f[0];o>=10;o/=10,s++);for(o=f[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(t.e++,f[0]==ee&&(f[0]=1));break}if(f[h]+=a,f[h]!=ee)break;f[h--]=0,a=1}for(s=f.length;0===f[--s];f.pop());}t.e>w?t.c=t.e=null:t.e<b&&(t.c=[t.e=0])}return t}function R(t){var e,r=t.e;return null===r?t.toString():(e=ue(t.c),e=r<=g||r>=y?le(e,r):de(e,r,"0"),t.s<0?"-"+e:e)}return k.clone=t,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(Qt+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(ce(r=t[e],0,oe,e),p=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(ce(r=t[e],0,8,e),m=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(ce(r[0],-oe,0,e),ce(r[1],0,oe,e),g=r[0],y=r[1]):(ce(r,-oe,oe,e),g=-(y=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)ce(r[0],-oe,-1,e),ce(r[1],1,oe,e),b=r[0],w=r[1];else{if(ce(r,-oe,oe,e),!r)throw Error(Qt+e+" cannot be zero: "+r);b=-(w=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(Qt+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw v=!r,Error(Qt+"crypto unavailable");v=r}else v=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(ce(r=t[e],0,9,e),_=r),t.hasOwnProperty(e="POW_PRECISION")&&(ce(r=t[e],0,oe,e),M=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(Qt+e+" not an object: "+r);S=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(Qt+e+" invalid: "+r);A="0123456789"==r.slice(0,10),E=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:m,EXPONENTIAL_AT:[g,y],RANGE:[b,w],CRYPTO:v,MODULO_MODE:_,POW_PRECISION:M,FORMAT:S,ALPHABET:E}},k.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!k.DEBUG)return!0;var e,r,i=t.c,n=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(i)){if((1===s||-1===s)&&n>=-oe&&n<=oe&&n===Yt(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break t}if((e=(n+1)%re)<1&&(e+=re),String(i[0]).length==e){for(e=0;e<i.length;e++)if((r=i[e])<0||r>=ee||r!==Yt(r))break t;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===s||1===s||-1===s))return!0;throw Error(Qt+"Invalid BigNumber: "+t)},k.maximum=k.max=function(){return T(arguments,-1)},k.minimum=k.min=function(){return T(arguments,1)},k.random=(s=9007199254740992,o=Math.random()*s&2097151?function(){return Yt(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,i,n,s,a=0,u=[],h=new k(d);if(null==t?t=p:ce(t,0,oe),n=Xt(t/re),v)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(n*=2));a<n;)(s=131072*e[a]+(e[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[a]=r[0],e[a+1]=r[1]):(u.push(s%1e14),a+=2);a=n/2}else{if(!crypto.randomBytes)throw v=!1,Error(Qt+"crypto unavailable");for(e=crypto.randomBytes(n*=7);a<n;)(s=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(u.push(s%1e14),a+=7);a=n/7}if(!v)for(;a<n;)(s=o())<9e15&&(u[a++]=s%1e14);for(n=u[--a],t%=re,n&&t&&(s=ne[re-t],u[a]=Yt(n/s)*s);0===u[a];u.pop(),a--);if(a<0)u=[i=0];else{for(i=-1;0===u[0];u.splice(0,1),i-=re);for(a=1,s=u[0];s>=10;s/=10,a++);a<re&&(i-=re-a)}return h.e=i,h.c=u,h}),k.sum=function(){for(var t=1,e=arguments,r=new k(e[0]);t<e.length;)r=r.plus(e[t++]);return r},i=function(){var t="0123456789";function e(t,e,r,i){for(var n,s,o=[0],a=0,u=t.length;a<u;){for(s=o.length;s--;o[s]*=e);for(o[0]+=i.indexOf(t.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(i,n,s,o,a){var u,h,c,f,l,d,g,y,b=i.indexOf("."),w=p,v=m;for(b>=0&&(f=M,M=0,i=i.replace(".",""),d=(y=new k(n)).pow(i.length-b),M=f,y.c=e(de(ue(d.c),d.e,"0"),10,s,t),y.e=y.c.length),c=f=(g=e(i,n,s,a?(u=E,t):(u=t,E))).length;0==g[--f];g.pop());if(!g[0])return u.charAt(0);if(b<0?--c:(d.c=g,d.e=c,d.s=o,g=(d=r(d,y,w,v,s)).c,l=d.r,c=d.e),b=g[h=c+w+1],f=s/2,l=l||h<0||null!=g[h+1],l=v<4?(null!=b||l)&&(0==v||v==(d.s<0?3:2)):b>f||b==f&&(4==v||l||6==v&&1&g[h-1]||v==(d.s<0?8:7)),h<1||!g[0])i=l?de(u.charAt(1),-w,u.charAt(0)):u.charAt(0);else{if(g.length=h,l)for(--s;++g[--h]>s;)g[h]=0,h||(++c,g=[1].concat(g));for(f=g.length;!g[--f];);for(b=0,i="";b<=f;i+=u.charAt(g[b++]));i=de(i,c,u.charAt(0))}return i}}(),r=function(){function t(t,e,r){var i,n,s,o,a=0,u=t.length,h=e%se,c=e/se|0;for(t=t.slice();u--;)a=((n=h*(s=t[u]%se)+(i=c*s+(o=t[u]/se|0)*h)%se*se+a)/r|0)+(i/se|0)+c*o,t[u]=n%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(t[n]!=e[n]){s=t[n]>e[n]?1:-1;break}return s}function r(t,e,r,i){for(var n=0;r--;)t[r]-=n,n=t[r]<e[r]?1:0,t[r]=n*i+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(i,n,s,o,a){var u,h,c,f,l,d,p,m,g,y,b,w,v,_,M,S,E,A=i.s==n.s?1:-1,x=i.c,T=n.c;if(!(x&&x[0]&&T&&T[0]))return new k(i.s&&n.s&&(x?!T||x[0]!=T[0]:T)?x&&0==x[0]||!T?0*A:A/0:NaN);for(g=(m=new k(A)).c=[],A=s+(h=i.e-n.e)+1,a||(a=ee,h=ae(i.e/re)-ae(n.e/re),A=A/re|0),c=0;T[c]==(x[c]||0);c++);if(T[c]>(x[c]||0)&&h--,A<0)g.push(1),f=!0;else{for(_=x.length,S=T.length,c=0,A+=2,(l=Yt(a/(T[0]+1)))>1&&(T=t(T,l,a),x=t(x,l,a),S=T.length,_=x.length),v=S,b=(y=x.slice(0,S)).length;b<S;y[b++]=0);E=T.slice(),E=[0].concat(E),M=T[0],T[1]>=a/2&&M++;do{if(l=0,(u=e(T,y,S,b))<0){if(w=y[0],S!=b&&(w=w*a+(y[1]||0)),(l=Yt(w/M))>1)for(l>=a&&(l=a-1),p=(d=t(T,l,a)).length,b=y.length;1==e(d,y,p,b);)l--,r(d,S<p?E:T,p,a),p=d.length,u=1;else 0==l&&(u=l=1),p=(d=T.slice()).length;if(p<b&&(d=[0].concat(d)),r(y,d,b,a),b=y.length,-1==u)for(;e(T,y,S,b)<1;)l++,r(y,S<b?E:T,b,a),b=y.length}else 0===u&&(l++,y=[0]);g[c++]=l,y[0]?y[b++]=x[v]||0:(y=[x[v]],b=1)}while((v++<_||null!=y[0])&&A--);f=null!=y[0],g[0]||g.splice(0,1)}if(a==ee){for(c=1,A=g[0];A>=10;A/=10,c++);I(m,s+(m.e=c+h*re-1)+1,o,f)}else m.e=h,m.r=+f;return m}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,h=/^\.([^.]+)$/,c=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,n=function(t,e,r,i){var n,s=r?e:e.replace(f,"");if(c.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(a,(function(t,e,r){return n="x"==(r=r.toLowerCase())?16:"b"==r?2:8,i&&i!=n?t:e})),i&&(n=i,s=s.replace(u,"$1").replace(h,"0.$1")),e!=s))return new k(s,n);if(k.DEBUG)throw Error(Qt+"Not a"+(i?" base "+i:"")+" number: "+e);t.s=null}t.c=t.e=null},l.absoluteValue=l.abs=function(){var t=new k(this);return t.s<0&&(t.s=1),t},l.comparedTo=function(t,e){return he(this,new k(t,e))},l.decimalPlaces=l.dp=function(t,e){var r,i,n,s=this;if(null!=t)return ce(t,0,oe),null==e?e=m:ce(e,0,8),I(new k(s),t+s.e+1,e);if(!(r=s.c))return null;if(i=((n=r.length-1)-ae(this.e/re))*re,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},l.dividedBy=l.div=function(t,e){return r(this,new k(t,e),p,m)},l.dividedToIntegerBy=l.idiv=function(t,e){return r(this,new k(t,e),0,1)},l.exponentiatedBy=l.pow=function(t,e){var r,i,n,s,o,a,u,h,c=this;if((t=new k(t)).c&&!t.isInteger())throw Error(Qt+"Exponent not an integer: "+R(t));if(null!=e&&(e=new k(e)),o=t.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!t.c||!t.c[0])return h=new k(Math.pow(+R(c),o?t.s*(2-fe(t)):+R(t))),e?h.mod(e):h;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new k(NaN);(i=!a&&c.isInteger()&&e.isInteger())&&(c=c.mod(e))}else{if(t.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||o&&c.c[1]>=24e7:c.c[0]<8e13||o&&c.c[0]<=9999975e7)))return s=c.s<0&&fe(t)?-0:0,c.e>-1&&(s=1/s),new k(a?1/s:s);M&&(s=Xt(M/re+2))}for(o?(r=new k(.5),a&&(t.s=1),u=fe(t)):u=(n=Math.abs(+R(t)))%2,h=new k(d);;){if(u){if(!(h=h.times(c)).c)break;s?h.c.length>s&&(h.c.length=s):i&&(h=h.mod(e))}if(n){if(0===(n=Yt(n/2)))break;u=n%2}else if(I(t=t.times(r),t.e+1,1),t.e>14)u=fe(t);else{if(0==(n=+R(t)))break;u=n%2}c=c.times(c),s?c.c&&c.c.length>s&&(c.c.length=s):i&&(c=c.mod(e))}return i?h:(a&&(h=d.div(h)),e?h.mod(e):s?I(h,M,m,void 0):h)},l.integerValue=function(t){var e=new k(this);return null==t?t=m:ce(t,0,8),I(e,e.e+1,t)},l.isEqualTo=l.eq=function(t,e){return 0===he(this,new k(t,e))},l.isFinite=function(){return!!this.c},l.isGreaterThan=l.gt=function(t,e){return he(this,new k(t,e))>0},l.isGreaterThanOrEqualTo=l.gte=function(t,e){return 1===(e=he(this,new k(t,e)))||0===e},l.isInteger=function(){return!!this.c&&ae(this.e/re)>this.c.length-2},l.isLessThan=l.lt=function(t,e){return he(this,new k(t,e))<0},l.isLessThanOrEqualTo=l.lte=function(t,e){return-1===(e=he(this,new k(t,e)))||0===e},l.isNaN=function(){return!this.s},l.isNegative=function(){return this.s<0},l.isPositive=function(){return this.s>0},l.isZero=function(){return!!this.c&&0==this.c[0]},l.minus=function(t,e){var r,i,n,s,o=this,a=o.s;if(e=(t=new k(t,e)).s,!a||!e)return new k(NaN);if(a!=e)return t.s=-e,o.plus(t);var u=o.e/re,h=t.e/re,c=o.c,f=t.c;if(!u||!h){if(!c||!f)return c?(t.s=-e,t):new k(f?o:NaN);if(!c[0]||!f[0])return f[0]?(t.s=-e,t):new k(c[0]?o:3==m?-0:0)}if(u=ae(u),h=ae(h),c=c.slice(),a=u-h){for((s=a<0)?(a=-a,n=c):(h=u,n=f),n.reverse(),e=a;e--;n.push(0));n.reverse()}else for(i=(s=(a=c.length)<(e=f.length))?a:e,a=e=0;e<i;e++)if(c[e]!=f[e]){s=c[e]<f[e];break}if(s&&(n=c,c=f,f=n,t.s=-t.s),(e=(i=f.length)-(r=c.length))>0)for(;e--;c[r++]=0);for(e=ee-1;i>a;){if(c[--i]<f[i]){for(r=i;r&&!c[--r];c[r]=e);--c[r],c[i]+=ee}c[i]-=f[i]}for(;0==c[0];c.splice(0,1),--h);return c[0]?B(t,c,h):(t.s=3==m?-1:1,t.c=[t.e=0],t)},l.modulo=l.mod=function(t,e){var i,n,s=this;return t=new k(t,e),!s.c||!t.s||t.c&&!t.c[0]?new k(NaN):!t.c||s.c&&!s.c[0]?new k(s):(9==_?(n=t.s,t.s=1,i=r(s,t,0,3),t.s=n,i.s*=n):i=r(s,t,0,_),(t=s.minus(i.times(t))).c[0]||1!=_||(t.s=s.s),t)},l.multipliedBy=l.times=function(t,e){var r,i,n,s,o,a,u,h,c,f,l,d,p,m,g,y=this,b=y.c,w=(t=new k(t,e)).c;if(!(b&&w&&b[0]&&w[0]))return!y.s||!t.s||b&&!b[0]&&!w||w&&!w[0]&&!b?t.c=t.e=t.s=null:(t.s*=y.s,b&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(i=ae(y.e/re)+ae(t.e/re),t.s*=y.s,(u=b.length)<(f=w.length)&&(p=b,b=w,w=p,n=u,u=f,f=n),n=u+f,p=[];n--;p.push(0));for(m=ee,g=se,n=f;--n>=0;){for(r=0,l=w[n]%g,d=w[n]/g|0,s=n+(o=u);s>n;)r=((h=l*(h=b[--o]%g)+(a=d*h+(c=b[o]/g|0)*l)%g*g+p[s]+r)/m|0)+(a/g|0)+d*c,p[s--]=h%m;p[s]=r}return r?++i:p.splice(0,1),B(t,p,i)},l.negated=function(){var t=new k(this);return t.s=-t.s||null,t},l.plus=function(t,e){var r,i=this,n=i.s;if(e=(t=new k(t,e)).s,!n||!e)return new k(NaN);if(n!=e)return t.s=-e,i.minus(t);var s=i.e/re,o=t.e/re,a=i.c,u=t.c;if(!s||!o){if(!a||!u)return new k(n/0);if(!a[0]||!u[0])return u[0]?t:new k(a[0]?i:0*n)}if(s=ae(s),o=ae(o),a=a.slice(),n=s-o){for(n>0?(o=s,r=u):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=n),n=0;e;)n=(a[--e]=a[e]+u[e]+n)/ee|0,a[e]=ee===a[e]?0:a[e]%ee;return n&&(a=[n].concat(a),++o),B(t,a,o)},l.precision=l.sd=function(t,e){var r,i,n,s=this;if(null!=t&&t!==!!t)return ce(t,1,oe),null==e?e=m:ce(e,0,8),I(new k(s),t,e);if(!(r=s.c))return null;if(i=(n=r.length-1)*re+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return t&&s.e+1>i&&(i=s.e+1),i},l.shiftedBy=function(t){return ce(t,-9007199254740991,ie),this.times("1e"+t)},l.squareRoot=l.sqrt=function(){var t,e,i,n,s,o=this,a=o.c,u=o.s,h=o.e,c=p+4,f=new k("0.5");if(1!==u||!a||!a[0])return new k(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+R(o)))||u==1/0?(((e=ue(a)).length+h)%2==0&&(e+="0"),u=Math.sqrt(+e),h=ae((h+1)/2)-(h<0||h%2),i=new k(e=u==1/0?"5e"+h:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+h)):i=new k(u+""),i.c[0])for((u=(h=i.e)+c)<3&&(u=0);;)if(s=i,i=f.times(s.plus(r(o,s,c,1))),ue(s.c).slice(0,u)===(e=ue(i.c)).slice(0,u)){if(i.e<h&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(n||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(I(i,i.e+p+2,1),t=!i.times(i).eq(o));break}if(!n&&(I(s,s.e+p+2,0),s.times(s).eq(o))){i=s;break}c+=4,u+=4,n=1}return I(i,i.e+p+1,m,t)},l.toExponential=function(t,e){return null!=t&&(ce(t,0,oe),t++),x(this,t,e,1)},l.toFixed=function(t,e){return null!=t&&(ce(t,0,oe),t=t+this.e+1),x(this,t,e)},l.toFormat=function(t,e,r){var i,n=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=S;else if("object"!=typeof r)throw Error(Qt+"Argument not an object: "+r);if(i=n.toFixed(t,e),n.c){var s,o=i.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,h=r.groupSeparator||"",c=o[0],f=o[1],l=n.s<0,d=l?c.slice(1):c,p=d.length;if(u&&(s=a,a=u,u=s,p-=s),a>0&&p>0){for(s=p%a||a,c=d.substr(0,s);s<p;s+=a)c+=h+d.substr(s,a);u>0&&(c+=h+d.slice(s)),l&&(c="-"+c)}i=f?c+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):c}return(r.prefix||"")+i+(r.suffix||"")},l.toFraction=function(t){var e,i,n,s,o,a,u,h,c,f,l,p,g=this,y=g.c;if(null!=t&&(!(u=new k(t)).isInteger()&&(u.c||1!==u.s)||u.lt(d)))throw Error(Qt+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+R(u));if(!y)return new k(g);for(e=new k(d),c=i=new k(d),n=h=new k(d),p=ue(y),o=e.e=p.length-g.e-1,e.c[0]=ne[(a=o%re)<0?re+a:a],t=!t||u.comparedTo(e)>0?o>0?e:c:u,a=w,w=1/0,u=new k(p),h.c[0]=0;f=r(u,e,0,1),1!=(s=i.plus(f.times(n))).comparedTo(t);)i=n,n=s,c=h.plus(f.times(s=c)),h=s,e=u.minus(f.times(s=e)),u=s;return s=r(t.minus(i),n,0,1),h=h.plus(s.times(c)),i=i.plus(s.times(n)),h.s=c.s=g.s,l=r(c,n,o*=2,m).minus(g).abs().comparedTo(r(h,i,o,m).minus(g).abs())<1?[c,n]:[h,i],w=a,l},l.toNumber=function(){return+R(this)},l.toPrecision=function(t,e){return null!=t&&ce(t,1,oe),x(this,t,e,2)},l.toString=function(t){var e,r=this,n=r.s,s=r.e;return null===s?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=s<=g||s>=y?le(ue(r.c),s):de(ue(r.c),s,"0"):10===t&&A?e=de(ue((r=I(new k(r),p+s+1,m)).c),r.e,"0"):(ce(t,2,E.length,"Base"),e=i(de(ue(r.c),s,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},l.valueOf=l.toJSON=function(){return R(this)},l._isBigNumber=!0,l[Symbol.toStringTag]="BigNumber",l[Symbol.for("nodejs.util.inspect.custom")]=l.valueOf,null!=e&&k.set(e),k}();const me=pe;me.set({DECIMAL_PLACES:50});const ge=t=>new Promise((e=>setTimeout(e,t)));class ye{api;token;tokenConfig;arbundles;constructor(t,e,r){this.api=t,this.token=e,this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(t,e,r){if(t?.status&&!(r??[]).includes(t.status)&&200!=t.status)throw new Error(`HTTP Error: ${e}: ${t.status} ${"string"!=typeof t.data?t.statusText:t.data}`)}async getNonce(){const t=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return ye.checkAndThrow(t,"Getting withdrawal nonce"),t.data}async getBalance(t){const e=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${t}`);return ye.checkAndThrow(e,"Getting balance"),new me(e.data.balance)}async getBundlerAddress(t){const e=await this.api.get("/info");ye.checkAndThrow(e,"Getting Bundler address");const r=e.data.addresses[t];if(!r)throw new Error(`Specified bundler does not support token ${t}`);return r}async getPrice(t,e){const r=await this.api.get(`/price/${t}/${e}`);return ye.checkAndThrow(r,"Getting storage cost"),new me(r.data)}async estimateFolderPrice(t){Array.isArray(t)&&(t={fileCount:t.length,totalBytes:t.reduce(((t,e)=>t+e),0)});const e=t.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,r=(await this.getPrice(this.tokenConfig.name,e)).multipliedBy(t.fileCount);return(await this.getPrice(this.tokenConfig.name,t.totalBytes)).plus(r).decimalPlaces(0)}toAtomic(t){return new me(t).multipliedBy(this.tokenConfig.base[1])}fromAtomic(t){return new me(t).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(t,e=30){if(this.tokenConfig.isSlow)return;let r,i;e<0&&(e=0);const n=await Promise.race([(async()=>(await ge(1e3*e),i=!0,"RACE"))(),(async()=>{for(;!i;){if(await this.tokenConfig.getTx(t).then((t=>t?.confirmed)).catch((t=>(r=t,!1))))return!0;await ge(1e3)}return!1})()]);return"RACE"===n?(console.warn(`Tx ${t} didn't finalize after ${e} seconds ${r?` - ${r}`:""}`),r):n}unitConverter(t){return new me(t).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(t){return ye.verifyReceipt(this.arbundles,t)}static async verifyReceipt(t,e){const{id:r,deadlineHeight:i,timestamp:n,public:s,signature:o,version:a}=e,u=await t.deepHash([t.stringToBuffer("Bundlr"),t.stringToBuffer(a),t.stringToBuffer(r),t.stringToBuffer(i.toString()),t.stringToBuffer(n.toString())]);return await t.getCryptoDriver().verify(s,u,Jt.toBuffer(o))}async getReceipt(t){const e=`query {\n      transactions(ids: ["${t}"]) {\n        edges {\n          node {\n            receipt {\n              signature\n              timestamp\n              version\n              deadlineHeight\n            }\n          }\n        }\n      }\n    }`,r=await $t((async()=>await this.api.post("/graphql",{query:e},{headers:{"content-type":"application/json"},validateStatus:t=>200===t}))),i=r?.data?.data?.transactions?.edges?.at(0)?.node?.receipt;if(!i)throw new Error(`Missing required receipt data from node for tx: ${t}`);const n={public:(await this.api.get("/public")).data,version:i.version,id:t,timestamp:i.timestamp,validatorSignatures:[],signature:i.signature,deadlineHeight:i.deadlineHeight,verify:async()=>!1};return n.verify=async()=>this.verifyReceipt(n),n}}var be=__webpack_require__(8764).Buffer,we=__webpack_require__(2830);class ve{queryVars={};queryFields;queryInfo;_query;url;config;resultTracker={numPages:0,numResults:0,done:!1};constructor({url:t,retryConfig:e,query:r,queryName:i,opts:n}){if(!t)throw new Error("URL is required");if(this.url=new URL(t),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...e}},!1===r)return this;if(!r)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...r},this.queryFields=r.query,i.includes("arweave")&&"node1.bundlr.network"===this.url.host&&(this.url=new URL("https://arweave.net/graphql")),!n?.skipVariableSetters)for(const t of Object.keys(r.vars)){if(this[t])throw new Error(`Field setter ${t} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[t]=e=>(this.queryVars[t]=e,this)}return this}buildQuery(){if(this.config.userProvided)return this;const t=t=>JSON.stringify(t,((t,e)=>e instanceof Array?e[0]:"object"==typeof e?e:!1!==e?"":void 0)).replaceAll(":","").replaceAll('"',"").replaceAll(",","\n          "),e=t(this.queryFields),r=t({pageInfo:{[this.queryInfo.paging?.hasNextPage??"hasNextPage"]:void 0}}).slice(1,-1),i=this.queryInfo.enumValues,n={...this.queryInfo.vars,...this.queryVars};for(const[t,e]of Object.entries(this.queryInfo.remapVars??{}))if(void 0!==n?.[t]){if("function"==typeof e){const r=e(t,n[t],n);if(!r)continue;const[i,s]=r;if(n[i]=s,i===t)continue}else n[e]=n[t];n[t]=void 0}const s=JSON.stringify(n,(function(t,e){return void 0===e||e instanceof Array||"object"==typeof e||"number"==typeof e||i?.includes(t)?e:`'${e}'`})).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!this?.queryInfo?.name)throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {\n      ${this.queryInfo.name}(\n        ${s}\n      ) {\n        edges {\n          cursor\n          node ${e}\n        }\n        ${r}\n      }\n    }`:`query {\n    ${this.queryInfo.name}(\n      ${s}\n    ) \n    ${e}\n  }`;return this._query=o,this}async getPage(){if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let t;try{t=await $t((async t=>{const e=await Kt(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(e.data.errors)throw e;return e}),this.config.retryOpts)}catch(t){throw new Error(`Error running query\n ${this._query} - ${t.message?t.message+" -":""} (${JSON.stringify(t?.data?.errors.map((t=>t.message))??t?.errors??t)}) `)}if(this.config.userProvided)return this.trimmer([t.data.data].flat(20));const e=t.data.data[this.queryInfo.name];if(this.queryInfo.paging){const t=e.pageInfo[this.queryInfo.paging.hasNextPage]?e.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=t,this.trimmer(e.edges.map((t=>t.node)))}return this.trimmer([e].flat(20))}trimmer(t){const e=++this.resultTracker.numPages,r=this.resultTracker.numResults+=t.length;if(0===t.length)return this.resultTracker.done=!0,t;if(e>=this?.config?.numPages&&(this.resultTracker.done=!0),r>=this?.config?.numResults){this.resultTracker.done=!0;const e=this.config.numResults-(r-t.length);return t.slice(0,e)}return t}async first(){const t=await this.getPage();return t?.at(0)??void 0}maxPages(t){return this.config.numPages=t,this}limit(t){return this.config.numResults=t,this}async all(){const t=[];do{const e=await this.getPage();if(!e)break;t.push(...e)}while(this.queryVars.after);return t}async*generator(){do{const t=await this.getPage();if(!t)return;for(const e of t)yield e}while(this.queryVars.after)}stream(){return we.Readable.from(this.generator())}query(t){return this._query=t,this.config.userProvided=!0,this}fields(t,e=!1){const r=(t,e,i)=>{for(const n of Object.keys(i)){let s=e[n];Array.isArray(s)&&(s=s[0]);const o=i[n];if(void 0===s)throw new Error(`Illegal field ${t}${n}`);"object"==typeof o&&r(t+n+".",s,o)}};return e||r("",this.queryFields,t),this.queryFields=t,this}variables(t){return this.queryVars={...this.queryVars,...t},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(t,e){return this.all().then(t,e)}async catch(t){return this.then().catch(t)}async finally(t){return this.then().finally(t)}}const _e={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,from:new Date(e).getTime()},r.fromTimestamp=void 0},toTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,to:new Date(e).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:{id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(t,e)=>[t,"ASC"===e?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.block={...r.block,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.block={...r.block,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":{name:"blocks",query:{id:"",timestamp:0,height:"",previous:""},vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(t,e)=>[t,"ASC"===e?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.height={...r.height,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.height={...r.height,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}}};class Me{opts;constructor(t={url:new URL("https://node1.bundlr.network/graphql")}){if(!t.url)throw new Error("URL is required");t.url=new URL(t.url),this.opts=t}search(t,e){const r=e?.query??_e[t];return new ve({...this.opts,query:r,queryName:t})}}class Se{api;utils;uploader;funder;address;token;tokenConfig;provenance;transactions;_readyPromise;url;arbundles;IrysTransaction;static VERSION="0.0.2";constructor({url:t,arbundles:e}){this.url=t,this.arbundles=e,this.IrysTransaction=function(t){class e extends t.arbundles.DataItem{Irys;signer;constructor(t,e,r){super(!0===r?.dataIsRawTransaction?Gt.from(t):e.arbundles.createData(t,e.tokenConfig.getSigner(),{...r,anchor:r?.anchor??Wt.randomBytes(32).toString("base64").slice(0,32)}).getRaw()),this.Irys=e,this.signer=e.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(t){return(await this.Irys.uploader.uploadTransaction(this,{...t,getReceiptSignature:!0})).data}async upload(t){return(await this.Irys.uploader.uploadTransaction(this,t)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return t.arbundles.DataItem.verify(this.getRaw())}}return e}(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const t=new Me({url:new URL("/graphql",this.url)});return t.search.bind(t)}query(t){return new Me(t??{url:this.url})}async withdrawBalance(t){return async function(t,e,r){const i=t.tokenConfig,{deepHash:n,stringToBuffer:s}=i.irys.arbundles,o={publicKey:await i.getPublicKey(),currency:t.token,amount:new me(r).toString(),nonce:await t.getNonce(),signature:"",sigType:i.getSigner().signatureType},a=await n([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);be.isBuffer(o.publicKey)||(o.publicKey=be.from(o.publicKey));const u=await i.sign(a),h=await i.verify(o.publicKey,a,u);o.publicKey=Jt.encode(o.publicKey),o.signature=Jt.encode(be.from(u));const c=Jt.toBuffer(o.publicKey),f=Jt.toBuffer(o.signature),l=await n([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),d=await i.verify(c,l,f),p=i.ownerToAddress("arweave"==i.name?Jt.decode(o.publicKey):Jt.toBuffer(o.publicKey))===i.address;if(!(h||d||p))throw new Error(`Internal withdrawal validation failed - please report this!\nDebug Info:${JSON.stringify(o)}`);const m=await e.post("/account/withdraw",o);if(202===m.status){const e=m.data.tx_id,r=await t.confirmationPoll(e);if(!0!==r)throw new Error(`Unable to confirm withdrawal tx ${e} ${r?r?.toString():""}`)}else ye.checkAndThrow(m,"Withdrawing balance");return m.data}(this.utils,this.api,t)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(t){return this.utils.getBalance(t)}async fund(t,e){return this.funder.fund(t,e)}async getPrice(t){return this.utils.getPrice(this.token,t)}async verifyReceipt(t){return ye.verifyReceipt(this.arbundles,t)}createTransaction(t,e){return new this.IrysTransaction(t,this,e)}getSigner(){return this.tokenConfig.getSigner()}async upload(t,e){return this.uploader.uploadData(t,e)}async uploadWithReceipt(t,e){return this.uploader.uploadData(t,{...e,upload:{getReceiptSignature:!0}})}async ready(){return!this.tokenConfig.ready||await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const t=this;return{fromRaw:e=>new t.IrysTransaction(e,t,{dataIsRawTransaction:!0})}}}class Ee{_instance;cookieMap=new Map;config;constructor(t){t&&this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(t){const e=this.cookieMap.get(new URL(t.baseURL??"").host);return e&&(t.headers.cookie=e),t}async responseInterceptor(t){const e=t.headers?.["set-cookie"];return e&&this.cookieMap.set(t.request.host,e),t}mergeDefaults(t){return{url:t.url,timeout:t.timeout??2e4,logging:t.logging??!1,logger:t.logger??console.log,headers:{...t.headers,"x-irys-js-sdk-version":Se.VERSION},withCredentials:t.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(t,e){try{return await this.request(t,{...e,method:"GET"})}catch(t){if(t.response?.status)return t.response;throw t}}async post(t,e,r){try{return await this.request(t,{data:e,...r,method:"POST"})}catch(t){if(t.response?.status)return t.response;throw t}}get instance(){if(this._instance)return this._instance;const t=Kt.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(t.interceptors.request.use(this.requestInterceptor.bind(this)),t.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(t.interceptors.request.use((t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t))),t.interceptors.response.use((t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t)))),this._instance=t}async request(t,e){const r=this.instance,i=e?.url??new URL(t,this.config.url).toString();return $t((t=>r({...e,url:i})),{...this.config.retry,...e?.retry})}}class Ae{utils;constructor(t){this.utils=t}async fund(t,e=1){const r=new me(t);if(!r.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,n=await this.utils.getBundlerAddress(this.utils.token);let s;if(i.needsFee){const t=await i.getFee("winston"===i.base[0]?0:r,n);s=me.isBigNumber(t)?t.multipliedBy(e).integerValue(me.ROUND_CEIL):t}const o=await i.createTx(r,n,s);let a;try{a=await i.sendTx(o.tx)}catch(t){throw t}if(o.txId??=a,!o.txId)throw new Error("Undefined transaction ID");ye.checkAndThrow(a,`Sending transaction to the ${this.utils.token} network`);let u=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch((t=>{u=t})))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! \n ${u?` - ${u?.message??u}`:""}`);return{reward:me.isBigNumber(s)?s.toString():JSON.stringify(s),target:n,quantity:r.toString(),id:o.txId}}async submitTransaction(t){return await $t((async()=>{const e=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:t});return ye.checkAndThrow(e,`Posting transaction ${t} information to the bundler`,[202]),e}),{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(t){return this.submitTransaction(t)}}var ke=__webpack_require__(3550),xe=__webpack_require__.n(ke);let Te=!1,Be=!1;const Ie={debug:1,default:2,info:2,warning:3,error:4,off:5};let Re=Ie.default,Pe=null;const Ce=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Oe,Ue;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Oe||(Oe={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Ue||(Ue={}));const Ne="0123456789abcdef";class Le{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ie[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Re>Ie[r]||console.log.apply(console,e)}debug(...t){this._log(Le.levels.DEBUG,t)}info(...t){this._log(Le.levels.INFO,t)}warn(...t){this._log(Le.levels.WARNING,t)}makeError(t,e,r){if(Be)return this.makeError("censored error",e,{});e||(e=Le.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Ne[e[t]>>4],r+=Ne[15&e[t]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}})),i.push(`code=${e}`),i.push(`version=${this.version}`);const n=t;let s="";switch(e){case Ue.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Ue.CALL_EXCEPTION:case Ue.INSUFFICIENT_FUNDS:case Ue.MISSING_NEW:case Ue.NONCE_EXPIRED:case Ue.REPLACEMENT_UNDERPRICED:case Ue.TRANSACTION_REPLACED:case Ue.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Le.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Ce&&this.throwError("platform missing String.prototype.normalize",Le.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ce})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Le.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Le.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Le.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Le.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Le.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Pe||(Pe=new Le("logger/5.7.0")),Pe}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Te){if(!t)return;this.globalLogger().throwError("error censorship permanent",Le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Be=!!t,Te=!!e}static setLogLevel(t){const e=Ie[t.toLowerCase()];null!=e?Re=e:Le.globalLogger().warn("invalid log level - "+t)}static from(t){return new Le(t)}}Le.errors=Ue,Le.levels=Oe;const qe=new Le("bytes/5.7.0");function ze(t){return!!t.toHexString}function De(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return De(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function je(t){return Ve(t)&&!(t.length%2)||Fe(t)}function He(t){return"number"==typeof t&&t==t&&t%1==0}function Fe(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!He(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!He(r)||r<0||r>=256)return!1}return!0}function Ke(t,e){if(e||(e={}),"number"==typeof t){qe.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),De(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ze(t)&&(t=t.toHexString()),Ve(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":qe.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return De(new Uint8Array(i))}return Fe(t)?De(new Uint8Array(t)):qe.throwArgumentError("invalid arrayify value","value",t)}function $e(t){const e=t.map((t=>Ke(t))),r=e.reduce(((t,e)=>t+e.length),0),i=new Uint8Array(r);return e.reduce(((t,e)=>(i.set(e,t),t+e.length)),0),De(i)}function We(t){let e=Ke(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Ve(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Ge="0123456789abcdef";function Je(t,e){if(e||(e={}),"number"==typeof t){qe.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Ge[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ze(t))return t.toHexString();if(Ve(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":qe.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Fe(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+=Ge[(240&i)>>4]+Ge[15&i]}return e}return qe.throwArgumentError("invalid hexlify value","value",t)}function Ze(t){if("string"!=typeof t)t=Je(t);else if(!Ve(t)||t.length%2)return null;return(t.length-2)/2}function Xe(t,e,r){return"string"!=typeof t?t=Je(t):(!Ve(t)||t.length%2)&&qe.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ye(t){let e="0x";return t.forEach((t=>{e+=Je(t).substring(2)})),e}function Qe(t,e){for("string"!=typeof t?t=Je(t):Ve(t)||qe.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&qe.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function tr(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(je(t)){let r=Ke(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Je(r.slice(0,32)),e.s=Je(r.slice(32,64))):65===r.length?(e.r=Je(r.slice(0,32)),e.s=Je(r.slice(32,64)),e.v=r[64]):qe.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:qe.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Je(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Ke(t)).length>e&&qe.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),De(r)}(Ke(e._vs),32);e._vs=Je(r);const i=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&qe.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const n=Je(r);null==e.s?e.s=n:e.s!==n&&qe.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?qe.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&qe.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Ve(e.r)?e.r=Qe(e.r,32):qe.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Ve(e.s)?e.s=Qe(e.s,32):qe.throwArgumentError("signature missing or invalid s","signature",t);const r=Ke(e.s);r[0]>=128&&qe.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const i=Je(r);e._vs&&(Ve(e._vs)||qe.throwArgumentError("signature invalid _vs","signature",t),e._vs=Qe(e._vs,32)),null==e._vs?e._vs=i:e._vs!==i&&qe.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function er(t){return Je($e([(t=tr(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var rr=xe().BN;const ir=new Le("bignumber/5.7.0"),nr={},sr=9007199254740991;let or=!1;class ar{constructor(t,e){t!==nr&&ir.throwError("cannot call constructor directly; use BigNumber.from",Le.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return hr(cr(this).fromTwos(t))}toTwos(t){return hr(cr(this).toTwos(t))}abs(){return"-"===this._hex[0]?ar.from(this._hex.substring(1)):this}add(t){return hr(cr(this).add(cr(t)))}sub(t){return hr(cr(this).sub(cr(t)))}div(t){return ar.from(t).isZero()&&fr("division-by-zero","div"),hr(cr(this).div(cr(t)))}mul(t){return hr(cr(this).mul(cr(t)))}mod(t){const e=cr(t);return e.isNeg()&&fr("division-by-zero","mod"),hr(cr(this).umod(e))}pow(t){const e=cr(t);return e.isNeg()&&fr("negative-power","pow"),hr(cr(this).pow(e))}and(t){const e=cr(t);return(this.isNegative()||e.isNeg())&&fr("unbound-bitwise-result","and"),hr(cr(this).and(e))}or(t){const e=cr(t);return(this.isNegative()||e.isNeg())&&fr("unbound-bitwise-result","or"),hr(cr(this).or(e))}xor(t){const e=cr(t);return(this.isNegative()||e.isNeg())&&fr("unbound-bitwise-result","xor"),hr(cr(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&fr("negative-width","mask"),hr(cr(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&fr("negative-width","shl"),hr(cr(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&fr("negative-width","shr"),hr(cr(this).shrn(t))}eq(t){return cr(this).eq(cr(t))}lt(t){return cr(this).lt(cr(t))}lte(t){return cr(this).lte(cr(t))}gt(t){return cr(this).gt(cr(t))}gte(t){return cr(this).gte(cr(t))}isNegative(){return"-"===this._hex[0]}isZero(){return cr(this).isZero()}toNumber(){try{return cr(this).toNumber()}catch(t){fr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ir.throwError("this platform does not support BigInt",Le.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?or||(or=!0,ir.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ir.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Le.errors.UNEXPECTED_ARGUMENT,{}):ir.throwError("BigNumber.toString does not accept parameters",Le.errors.UNEXPECTED_ARGUMENT,{})),cr(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ar)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new ar(nr,ur(t)):t.match(/^-?[0-9]+$/)?new ar(nr,ur(new rr(t))):ir.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&fr("underflow","BigNumber.from",t),(t>=sr||t<=-sr)&&fr("overflow","BigNumber.from",t),ar.from(String(t));const e=t;if("bigint"==typeof e)return ar.from(e.toString());if(Fe(e))return ar.from(Je(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return ar.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Ve(t)||"-"===t[0]&&Ve(t.substring(1))))return ar.from(t)}return ir.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function ur(t){if("string"!=typeof t)return ur(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ir.throwArgumentError("invalid hex","value",t),"0x00"===(t=ur(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function hr(t){return ar.from(ur(t))}function cr(t){const e=ar.from(t).toHexString();return"-"===e[0]?new rr("-"+e.substring(3),16):new rr(e.substring(2),16)}function fr(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),ir.throwError(t,Le.errors.NUMERIC_FAULT,i)}class lr{publicKey;signatureType;signatureLength;ownerLength;pem;static verify(t,e,r,i){throw new Error("You must implement verify method on child")}}var dr;!function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"}(dr||(dr={}));const pr={[dr.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[dr.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[dr.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[dr.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[dr.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[dr.MULTIAPTOS]:{sigLength:2052,pubLength:1025,sigName:"multiAptos"},[dr.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},mr=BigInt(0),gr=BigInt(1),yr=BigInt(2),br=BigInt(8),wr=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),vr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:wr,n:wr,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),_r=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Mr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Sr=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),Er=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ar=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),kr=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class xr{constructor(t,e,r,i){this.x=t,this.y=e,this.z=r,this.t=i}static fromAffine(t){if(!(t instanceof Or))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Or.ZERO)?xr.ZERO:new xr(t.x,t.y,gr,Wr(t.x*t.y))}static toAffineBatch(t){const e=function(t,e=vr.P){const r=new Array(t.length),i=Vr(t.reduce(((t,i,n)=>i===mr?t:(r[n]=t,Wr(t*i,e))),gr),e);return t.reduceRight(((t,i,n)=>i===mr?t:(r[n]=Wr(t*r[n],e),Wr(t*i,e))),i),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Br(t);const{x:e,y:r,z:i}=this,{x:n,y:s,z:o}=t,a=Wr(e*o),u=Wr(n*i),h=Wr(r*o),c=Wr(s*i);return a===u&&h===c}negate(){return new xr(Wr(-this.x),this.y,this.z,Wr(-this.t))}double(){const{x:t,y:e,z:r}=this,{a:i}=vr,n=Wr(t*t),s=Wr(e*e),o=Wr(yr*Wr(r*r)),a=Wr(i*n),u=t+e,h=Wr(Wr(u*u)-n-s),c=a+s,f=c-o,l=a-s,d=Wr(h*f),p=Wr(c*l),m=Wr(h*l),g=Wr(f*c);return new xr(d,p,g,m)}add(t){Br(t);const{x:e,y:r,z:i,t:n}=this,{x:s,y:o,z:a,t:u}=t,h=Wr((r-e)*(o+s)),c=Wr((r+e)*(o-s)),f=Wr(c-h);if(f===mr)return this.double();const l=Wr(i*yr*u),d=Wr(n*yr*a),p=d+l,m=c+h,g=d-l,y=Wr(p*f),b=Wr(m*g),w=Wr(p*g),v=Wr(f*m);return new xr(y,b,v,w)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,r=[];let i=this,n=i;for(let s=0;s<e;s++){n=i,r.push(n);for(let e=1;e<2**(t-1);e++)n=n.add(i),r.push(n);i=n.double()}return r}wNAF(t,e){!e&&this.equals(xr.BASE)&&(e=Or.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&Cr.get(e);i||(i=this.precomputeWindow(r),e&&1!==r&&(i=xr.normalizeZ(i),Cr.set(e,i)));let n=xr.ZERO,s=xr.BASE;const o=1+256/r,a=2**(r-1),u=BigInt(2**r-1),h=2**r,c=BigInt(r);for(let e=0;e<o;e++){const r=e*a;let o=Number(t&u);t>>=c,o>a&&(o-=h,t+=gr);const f=r,l=r+Math.abs(o)-1,d=e%2!=0,p=o<0;0===o?s=s.add(Tr(d,i[f])):n=n.add(Tr(p,i[l]))}return xr.normalizeZ([n,s])[0]}multiply(t,e){return this.wNAF(Qr(t,vr.l),e)}multiplyUnsafe(t){let e=Qr(t,vr.l,!1);const r=xr.BASE,i=xr.ZERO;if(e===mr)return i;if(this.equals(i)||e===gr)return this;if(this.equals(r))return this.wNAF(e);let n=i,s=this;for(;e>mr;)e&gr&&(n=n.add(s)),s=s.double(),e>>=gr;return n}isSmallOrder(){return this.multiplyUnsafe(vr.h).equals(xr.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(vr.l/yr).double();return vr.l%yr&&(t=t.add(this)),t.equals(xr.ZERO)}toAffine(t){const{x:e,y:r,z:i}=this,n=this.equals(xr.ZERO);null==t&&(t=n?br:Vr(i));const s=Wr(e*t),o=Wr(r*t),a=Wr(i*t);if(n)return Or.ZERO;if(a!==gr)throw new Error("invZ was invalid");return new Or(s,o)}fromRistrettoBytes(){Rr()}toRistrettoBytes(){Rr()}fromRistrettoHash(){Rr()}}function Tr(t,e){const r=e.negate();return t?r:e}function Br(t){if(!(t instanceof xr))throw new TypeError("ExtendedPoint expected")}function Ir(t){if(!(t instanceof Pr))throw new TypeError("RistrettoPoint expected")}function Rr(){throw new Error("Legacy method: switch to RistrettoPoint")}xr.BASE=new xr(vr.Gx,vr.Gy,gr,Wr(vr.Gx*vr.Gy)),xr.ZERO=new xr(mr,gr,gr,mr);class Pr{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=vr,r=Wr(Mr*t*t),i=Wr((r+gr)*Ar);let n=BigInt(-1);const s=Wr((n-e*r)*Wr(r+e));let{isValid:o,value:a}=Jr(i,s),u=Wr(a*t);Hr(u)||(u=Wr(-u)),o||(a=u),o||(n=r);const h=Wr(n*(r-gr)*kr-s),c=a*a,f=Wr((a+a)*s),l=Wr(h*Sr),d=Wr(gr-c),p=Wr(gr+c);return new xr(Wr(f*p),Wr(d*l),Wr(l*p),Wr(f*d))}static hashToCurve(t){const e=$r((t=Yr(t,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(e),i=$r(t.slice(32,64)),n=this.calcElligatorRistrettoMap(i);return new Pr(r.add(n))}static fromHex(t){t=Yr(t,32);const{a:e,d:r}=vr,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",n=$r(t);if(!function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}(jr(n),t)||Hr(n))throw new Error(i);const s=Wr(n*n),o=Wr(gr+e*s),a=Wr(gr-e*s),u=Wr(o*o),h=Wr(a*a),c=Wr(e*r*u-h),{isValid:f,value:l}=Zr(Wr(c*h)),d=Wr(l*a),p=Wr(l*d*c);let m=Wr((n+n)*d);Hr(m)&&(m=Wr(-m));const g=Wr(o*p),y=Wr(m*g);if(!f||Hr(y)||g===mr)throw new Error(i);return new Pr(new xr(m,g,gr,y))}toRawBytes(){let{x:t,y:e,z:r,t:i}=this.ep;const n=Wr(Wr(r+e)*Wr(r-e)),s=Wr(t*e),o=Wr(s*s),{value:a}=Zr(Wr(n*o)),u=Wr(a*n),h=Wr(a*s),c=Wr(u*h*i);let f;if(Hr(i*c)){let r=Wr(e*Mr),i=Wr(t*Mr);t=r,e=i,f=Wr(u*Er)}else f=h;Hr(t*c)&&(e=Wr(-e));let l=Wr((r-e)*f);return Hr(l)&&(l=Wr(-l)),jr(l)}toHex(){return qr(this.toRawBytes())}toString(){return this.toHex()}equals(t){Ir(t);const e=this.ep,r=t.ep,i=Wr(e.x*r.y)===Wr(e.y*r.x),n=Wr(e.y*r.y)===Wr(e.x*r.x);return i||n}add(t){return Ir(t),new Pr(this.ep.add(t.ep))}subtract(t){return Ir(t),new Pr(this.ep.subtract(t.ep))}multiply(t){return new Pr(this.ep.multiply(t))}multiplyUnsafe(t){return new Pr(this.ep.multiplyUnsafe(t))}}Pr.BASE=new Pr(xr.BASE),Pr.ZERO=new Pr(xr.ZERO);const Cr=new WeakMap;class Or{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Cr.delete(this)}static fromHex(t,e=!0){const{d:r,P:i}=vr,n=(t=Yr(t,32)).slice();n[31]=-129&t[31];const s=Fr(n);if(e&&s>=i)throw new Error("Expected 0 < hex < P");if(!e&&s>=_r)throw new Error("Expected 0 < hex < 2**256");const o=Wr(s*s),a=Wr(o-gr),u=Wr(r*o+gr);let{isValid:h,value:c}=Jr(a,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");const f=(c&gr)===gr;return 0!=(128&t[31])!==f&&(c=Wr(-c)),new Or(c,s)}static async fromPrivateKey(t){return(await ei(t)).point}toRawBytes(){const t=jr(this.y);return t[31]|=this.x&gr?128:0,t}toHex(){return qr(this.toRawBytes())}toX25519(){const{y:t}=this;return jr(Wr((gr+t)*Vr(gr-t)))}isTorsionFree(){return xr.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Or(Wr(-this.x),this.y)}add(t){return xr.fromAffine(this).add(xr.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return xr.fromAffine(this).multiply(t,this).toAffine()}}Or.BASE=new Or(vr.Gx,vr.Gy),Or.ZERO=new Or(mr,gr);class Ur{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=Yr(t,64),r=Or.fromHex(e.slice(0,32),!1),i=Fr(e.slice(32,64));return new Ur(r,i)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof Or))throw new Error("Expected Point instance");return Qr(e,vr.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(jr(this.s),32),t}toHex(){return qr(this.toRawBytes())}}function Nr(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,i=0;e<t.length;e++){const n=t[e];r.set(n,i),i+=n.length}return r}const Lr=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function qr(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Lr[t[r]];return e}function zr(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const i=2*r,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function Dr(t){return zr(t.toString(16).padStart(64,"0"))}function jr(t){return Dr(t).reverse()}function Hr(t){return(Wr(t)&gr)===gr}function Fr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+qr(Uint8Array.from(t).reverse()))}const Kr=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $r(t){return Wr(Fr(t)&Kr)}function Wr(t,e=vr.P){const r=t%e;return r>=mr?r:e+r}function Vr(t,e=vr.P){if(t===mr||e<=mr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Wr(t,e),i=e,n=mr,s=gr,o=gr,a=mr;for(;r!==mr;){const t=i/r,e=i%r,u=n-o*t,h=s-a*t;i=r,r=e,n=o,s=a,o=u,a=h}if(i!==gr)throw new Error("invert: does not exist");return Wr(n,e)}function Gr(t,e){const{P:r}=vr;let i=t;for(;e-- >mr;)i*=i,i%=r;return i}function Jr(t,e){const r=Wr(e*e*e),i=Wr(r*r*e);let n=Wr(t*r*function(t){const{P:e}=vr,r=BigInt(5),i=BigInt(10),n=BigInt(20),s=BigInt(40),o=BigInt(80),a=t*t%e*t%e,u=Gr(a,yr)*a%e,h=Gr(u,gr)*t%e,c=Gr(h,r)*h%e,f=Gr(c,i)*c%e,l=Gr(f,n)*f%e,d=Gr(l,s)*l%e,p=Gr(d,o)*d%e,m=Gr(p,o)*d%e,g=Gr(m,i)*c%e;return{pow_p_5_8:Gr(g,yr)*t%e,b2:a}}(t*i).pow_p_5_8);const s=Wr(e*n*n),o=n,a=Wr(n*Mr),u=s===t,h=s===Wr(-t),c=s===Wr(-t*Mr);return u&&(n=o),(h||c)&&(n=a),Hr(n)&&(n=Wr(-n)),{isValid:u||h,value:n}}function Zr(t){return Jr(gr,t)}function Xr(t){return Wr(Fr(t),vr.l)}function Yr(t,e){const r=t instanceof Uint8Array?Uint8Array.from(t):zr(t);if("number"==typeof e&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Qr(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if("number"==typeof t&&Number.isSafeInteger(t)&&(t=BigInt(t)),"bigint"==typeof t&&t<e)if(r){if(mr<t)return t}else if(mr<=t)return t;throw new TypeError("Expected valid scalar: 0 < scalar < max")}let ti;async function ei(t){return function(t){const e=function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}(t.slice(0,32)),r=t.slice(32,64),i=Xr(e),n=Or.BASE.multiply(i),s=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:s}}(await ni.sha512(function(t){if(32!==(t="bigint"==typeof t||"number"==typeof t?Dr(Qr(t,_r)):Yr(t)).length)throw new Error("Expected 32 bytes");return t}(t)))}async function ri(t,e,r){const{r:i,SB:n,msg:s,pub:o}=function(t,e,r){e=Yr(e),r instanceof Or||(r=Or.fromHex(r,!1));const{r:i,s:n}=t instanceof Ur?t.assertValidity():Ur.fromHex(t);return{r:i,s:n,SB:xr.BASE.multiplyUnsafe(n),pub:r,msg:e}}(t,e,r),a=await ni.sha512(i.toRawBytes(),o.toRawBytes(),s);return function(t,e,r,i){const n=Xr(i),s=xr.fromAffine(t).multiplyUnsafe(n);return xr.fromAffine(e).add(s).subtract(r).multiplyUnsafe(vr.h).equals(xr.ZERO)}(o,i,n,a)}Or.BASE._setWindowSize(8);const ii={node:Vt,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ni={bytesToHex:qr,hexToBytes:zr,concatBytes:Nr,getExtendedPublicKey:ei,mod:Wr,invert:Vr,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if((t=Yr(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Wr(Fr(t),vr.l-gr)+gr},randomBytes:(t=32)=>{if(ii.web)return ii.web.getRandomValues(new Uint8Array(t));if(ii.node){const{randomBytes:e}=ii.node;return new Uint8Array(e(t).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ni.randomBytes(32),sha512:async(...t)=>{const e=Nr(...t);if(ii.web){const t=await ii.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(ii.node)return Uint8Array.from(ii.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=Or.BASE){const r=e.equals(Or.BASE)?e:new Or(e.x,e.y);return r._setWindowSize(t),r.multiply(yr),r},sha512Sync:void 0};Object.defineProperties(ni,{sha512Sync:{configurable:!1,get:()=>ti,set(t){ti||(ti=t)}}});var si=__webpack_require__(8764).Buffer;class oi{_key;pk;ownerLength=pr[2].pubLength;signatureLength=pr[2].sigLength;_publicKey;get publicKey(){return this._publicKey}signatureType=2;constructor(t,e){this._key=t,this.pk=e}get key(){throw new Error("You must implement `key`")}sign(t){return async function(t,e){t=Yr(t);const{prefix:r,scalar:i,pointBytes:n}=await ei(e),s=Xr(await ni.sha512(r,t)),o=Or.BASE.multiply(s),a=Wr(s+Xr(await ni.sha512(o.toRawBytes(),n,t))*i,vr.l);return new Ur(o,a).toRawBytes()}(si.from(t),si.from(this.key))}static async verify(t,e,r){let i=t;return"string"==typeof t&&(i=Jt.toBuffer(t)),ri(si.from(r),si.from(e),si.from(i))}}var ai=__webpack_require__(9742);function ui(t){let e=0;for(const r of t)e+=r.byteLength;const r=new Uint8Array(e);let i=0;r.set(new Uint8Array(t[0]),i),i+=t[0].byteLength;for(let e=1;e<t.length;e++)r.set(new Uint8Array(t[e]),i),i+=t[e].byteLength;return r}function hi(t){return ci(di(t))}function ci(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function fi(t){return(new TextEncoder).encode(t)}function li(t){return mi(fi(t))}function di(t){return new Uint8Array((0,ai.toByteArray)(yi(t)))}function pi(t){return(0,ai.fromByteArray)(new Uint8Array(t))}function mi(t){return gi(pi(t))}function gi(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function yi(t){let e;return e=(t=t.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-t.length%4,t.concat("=".repeat(e))}function bi(t){return new me(t).shiftedBy(-12)}function wi(t){return new me(t).shiftedBy(12)}class vi{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){this.driver=crypto?.subtle}async generateJWK(){const t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),e=await this.driver.exportKey("jwk",t.privateKey);return{kty:e.kty,e:e.e,n:e.n,d:e.d,p:e.p,q:e.q,dp:e.dp,dq:e.dq,qi:e.qi}}async sign(t,e,{saltLength:r}={saltLength:32}){const i=await this.driver.sign({name:"RSA-PSS",saltLength:r},await this.jwkToCryptoKey(t),e);return new Uint8Array(i)}async hash(t,e="SHA-256"){const r=await this.driver.digest(e,t);return new Uint8Array(r)}async verify(t,e,r){const i={kty:"RSA",e:"AQAB",n:t},n=await this.jwkToPublicCryptoKey(i),s=await this.driver.digest("SHA-256",e),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},n,r,e),a=await this.driver.verify({name:"RSA-PSS",saltLength:32},n,r,e),u=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((n.algorithm.modulusLength-1)/8)-s.byteLength-2},n,r,e);return o||a||u}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(t,e,r){const i=await this.driver.importKey("raw","string"==typeof e?fi(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),n=await this.driver.deriveKey({name:"PBKDF2",salt:fi(r||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);return crypto.getRandomValues(s),ui([s,await this.driver.encrypt({name:"AES-CBC",iv:s},n,t)])}async decrypt(t,e,r){const i=await this.driver.importKey("raw","string"==typeof e?fi(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),n=await this.driver.deriveKey({name:"PBKDF2",salt:fi(r||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=t.slice(0,16);return ui([await this.driver.decrypt({name:"AES-CBC",iv:s},n,t.slice(16))])}}async function _i(t){if("function"==typeof t[Symbol.asyncIterator]){const e=t,r=(0,Wt.createHash)("sha384");let i=0;for await(const t of e)i+=t.byteLength,r.update(t);const n=ui([fi("blob"),fi(i.toString())]),s=ui([await Qi().hash(n,"SHA-384"),r.digest()]);return await Qi().hash(s,"SHA-384")}if(Array.isArray(t)){const e=ui([fi("list"),fi(t.length.toString())]);return await Mi(t,await Qi().hash(e,"SHA-384"))}const e=t,r=ui([fi("blob"),fi(e.byteLength.toString())]),i=ui([await Qi().hash(r,"SHA-384"),await Qi().hash(e,"SHA-384")]);return await Qi().hash(i,"SHA-384")}async function Mi(t,e){if(t.length<1)return e;const r=ui([e,await _i(t[0])]),i=await Qi().hash(r,"SHA-384");return await Mi(t.slice(1),i)}class Si extends Error{type;response;constructor(t,e={}){e.message?super(e.message):super(),this.type=t,this.response=e.response}getType(){return this.type}}function Ei(t){let e=t.data;if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(t){}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch(t){}return e?e.error||e:t.statusText||"unknown"}class Ai{api;network;constructor(t,e){this.api=t,this.network=e}async getByHash(t){const e=await this.api.get(`block/hash/${t}`);if(200===e.status)return e.data;throw 404===e.status?new Si("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${e}`)}async getByHeight(t){const e=await this.api.get(`block/height/${t}`);if(200===e.status)return e.data;throw 404===e.status?new Si("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${e}`)}async getCurrent(){const{current:t}=await this.network.getInfo();return await this.getByHash(t)}}var ki=__webpack_require__(8764).Buffer;const xi=262144;function Ti(t){const e=[];return t.forEach((t=>{Array.isArray(t)?e.push(...Ti(t)):e.push(t)})),e}function Bi(t){const e=new Uint8Array(32);for(let r=e.length-1;r>=0;r--){const i=t%256;e[r]=i,t=(t-i)/256}return e}function Ii(t){let e=0;for(let r=0;r<t.length;r++)e*=256,e+=t[r];return e}const Ri=(t,e)=>t.every(((t,r)=>e[r]===t)),Pi=class{crypto;constructor(t){this.crypto=t.deps.crypto}async chunkData(t){const e=[];let r=t,i=0;for(;r.byteLength>=xi;){let t=xi;const n=r.byteLength-xi;n>0&&n<32768&&(t=Math.ceil(r.byteLength/2));const s=r.slice(0,t),o=await this.crypto.hash(s);i+=s.byteLength,e.push({dataHash:o,minByteRange:i-s.byteLength,maxByteRange:i}),r=r.slice(t)}return e.push({dataHash:await this.crypto.hash(r),minByteRange:i,maxByteRange:i+r.byteLength}),e}async generateLeaves(t){return Promise.all(t.map((async({dataHash:t,minByteRange:e,maxByteRange:r})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(t),this.hash(Bi(r))])),dataHash:t,minByteRange:e,maxByteRange:r}))))}async computeRootHash(t){return(await this.generateTree(t)).id}async generateTree(t){return await this.buildLayers(await this.generateLeaves(await this.chunkData(t)))}async generateTransactionChunks(t){const e=await this.chunkData(t),r=await this.generateLeaves(e),i=await this.buildLayers(r),n=await this.generateProofs(i),s=e.slice(-1)[0];return s.maxByteRange-s.minByteRange==0&&(e.splice(e.length-1,1),n.splice(n.length-1,1)),{data_root:i.id,chunks:e,proofs:n}}async buildLayers(t,e=0){if(t.length<2)return t[0];const r=[];for(let e=0;e<t.length;e+=2)r.push(await this.hashBranch(t[e],t[e+1]));return this.buildLayers(r,e+1)}generateProofs(t){const e=this.resolveBranchProofs(t);return Array.isArray(e)?Ti(e):[e]}resolveBranchProofs(t,e=new Uint8Array,r=0){if("leaf"==t.type)return{offset:t.maxByteRange-1,proof:ui([e,t.dataHash,Bi(t.maxByteRange)])};if("branch"==t.type){const i=ui([e,t.leftChild.id,t.rightChild.id,Bi(t.byteRange)]);return[this.resolveBranchProofs(t.leftChild,i,r+1),this.resolveBranchProofs(t.rightChild,i,r+1)]}throw new Error("Unexpected node type")}async validatePath(t,e,r,i,n){if(i<=0)return!1;if(e>=i)return this.validatePath(t,0,i-1,i,n);if(e<0)return this.validatePath(t,0,0,i,n);if(64==n.length){const e=n.slice(0,32),s=n.slice(e.length,e.length+32),o=await this.hash([await this.hash(e),await this.hash(s)]);return!!Ri(t,o)&&{offset:i-1,leftBound:r,rightBound:i,chunkSize:i-r}}const s=n.slice(0,32),o=n.slice(s.length,s.length+32),a=n.slice(s.length+o.length,s.length+o.length+32),u=Ii(a),h=n.slice(s.length+o.length+a.length),c=await this.hash([await this.hash(s),await this.hash(o),await this.hash(a)]);return!!Ri(t,c)&&(e<u?await this.validatePath(s,e,r,Math.min(i,u),h):await this.validatePath(o,e,Math.max(r,u),i,h))}async hashBranch(t,e){return e?{type:"branch",id:await this.hash([await this.hash(t.id),await this.hash(e.id),await this.hash(Bi(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}:t}async hash(t){return Array.isArray(t)&&(t=Gi.utils.concatBuffers(t)),new Uint8Array(await this.crypto.hash(t))}async debug(t,e=""){if(t.byteLength<1)return e;const r=t.slice(0,32),i=t.slice(r.length,r.length+32),n=t.slice(r.length+i.length,r.length+i.length+32),s=Ii(n),o=t.slice(r.length+i.length+n.length),a=await this.hash([await this.hash(r),await this.hash(i),await this.hash(n)]),u=`${e}\n${JSON.stringify(ki.from(r))},${JSON.stringify(ki.from(i))},${s} => ${JSON.stringify(a)}`;return this.debug(o,u)}};class Ci{api;constructor(t){this.api=t}async getTransactionMetadata(t){const e=await this.api.get(`tx/${t}/offset`);if(200===e.status)return e.data;throw new Error(`Unable to get transaction offset: ${Ei(e)}`)}async getChunk(t){const e=await this.api.get(`chunk/${t}`);if(200===e.status)return e.data;throw new Error(`Unable to get chunk: ${Ei(e)}`)}async getChunkData(t){return di((await this.getChunk(t)).chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t,e){const r=await this.getTransactionMetadata(t),i=parseInt(r.size),n=new Uint8Array(i);let s=0;for await(const r of this.concurrentChunkDownloader(t,e))n.set(r,s),s+=r.length;return n}async*concurrentChunkDownloader(t,e){const r={concurrency:10,...e},i=await this.getTransactionMetadata(t),n=new me(i.offset),s=new me(i.size),o=n.minus(s).plus(1);let a=0;const u=t=>this.getChunkData(t.toString()).then((t=>(a+=t.length,t))),h=[],c=Math.ceil(s.dividedBy(xi).toNumber())-2,f=Math.min(c,r.concurrency);let l=0;for(let t=0;t<f;t++)h.push(u(o.plus(xi*l++)));for(;l<c;)h.push(u(o.plus(xi*l++))),yield h.shift();for(;h.length>0;)yield h.shift();if(yield u(o.plus(xi*l++)),s.isGreaterThan(a)&&(yield u(o.plus(xi*l++))),!s.isEqualTo(a))throw new Error(`got ${a}B, expected ${s.toString()}B`)}}class Oi{crypto;utils;constructor({deps:t}){this.crypto=t.crypto,this.utils=t.utils}async deepHash(t){if(Array.isArray(t)){const e=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(t.length.toString())]);return await this.deepHashChunks(t,await this.crypto.hash(e,"SHA-384"))}const e=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(t.byteLength.toString())]),r=this.utils.concatBuffers([await this.crypto.hash(e,"SHA-384"),await this.crypto.hash(t,"SHA-384")]);return await this.crypto.hash(r,"SHA-384")}async deepHashChunks(t,e){if(t.length<1)return e;const r=this.utils.concatBuffers([e,await this.deepHash(t[0])]),i=await this.crypto.hash(r,"SHA-384");return await this.deepHashChunks(t.slice(1),i)}}class Ui{_instance;cookieMap=new Map;config;constructor(t){t&&this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(t){const e=this.cookieMap.get(new URL(t.baseURL??"").host);return e&&(t.headers.cookie=e),t}async responseInterceptor(t){const e=t.headers?.["set-cookie"];return e&&this.cookieMap.set(t.request.host,e),t}mergeDefaults(t){return t.headers??={},t.network&&!Object.keys(t.headers).includes("x-network")&&(t.headers["x-network"]=t.network),{url:t.url,timeout:t.timeout??2e4,logging:t.logging??!1,logger:t.logger??console.log,headers:{...t.headers,"x-irys-arweave-version":Gi.VERSION},withCredentials:t.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(t,e){try{return await this.request(t,{...e,method:"GET"})}catch(t){if(t.response?.status)return t.response;throw t}}async post(t,e,r){try{return await this.request(t,{data:e,...r,method:"POST"})}catch(t){if(t.response?.status)return t.response;throw t}}get instance(){if(this._instance)return this._instance;const t=Kt.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(t.interceptors.request.use(this.requestInterceptor.bind(this)),t.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(t.interceptors.request.use((t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t))),t.interceptors.response.use((t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t)))),this._instance=t}async request(t,e){const r=this.instance,i=e?.url??new URL(t,this.config.url).toString();return $t((t=>r({...e,url:i})),{...this.config.retry,...e?.retry})}}const Ni=t=>"string"!=typeof t&&"url"in t,Li={maxAttempts:15,randomlySelect:!0},qi=class{minerInstances=[];globalConfig;gatewayInstances=[];constructor({gateways:t,miners:e,opts:r}){this.globalConfig=r?.globalConfig??{},e&&this.addMiners(e),t&&this.addGateways(t)}async addPeersFrom(t,e){const r=(await this.get("",{url:new URL("/peers",t).toString()})).data;this.addMiners(r.slice(0,e?.limit).map((t=>`http://${t}`)))}addMiners(t){t.forEach((t=>this.minerInstances.push(new Ui(Ni(t)?t:{url:new URL(t),...this.globalConfig}))))}addGateways(t){t.forEach((t=>this.gatewayInstances.push(new Ui(Ni(t)?t:{url:new URL(t),...this.globalConfig}))))}async get(t,e){return this.request(t,{...e,method:"GET"})}async post(t,e,r){return this.request(t,{data:e,...r,method:"POST"})}async request(t,e){const r={...Li,...e?.fallback};let i=0;const n=[],s=e?.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(r?.maxAttempts,1),s.length),a=r?.onFallback;if(0===s.length)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<o;){const u=s.at(r?.randomlySelect?Math.floor(Math.random()*s.length):i-1);if(u)try{return await u.request(t,{...e})}catch(t){if(a?.(t,u),n.push(t),i>=o)throw t}}throw new Error("unreachable")}};class zi{get(t,e){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);if(this[t]instanceof Uint8Array)return e&&e.decode&&e.string?ci(this[t]):e&&e.decode&&!e.string?this[t]:mi(this[t]);if(this[t]instanceof Array){if(void 0!==e?.decode||void 0!==e?.string)throw"tags"===t&&console.warn("Did you mean to use 'transaction[\"tags\"]' ?"),new Error("Cannot decode or stringify an array.");return this[t]}return e&&1==e.decode?e&&e.string?hi(this[t]):di(this[t]):this[t]}}class Di extends zi{name;value;constructor(t,e){super(),this.name=t,this.value=e}}class ji extends zi{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";merkle;deepHash;chunks;constructor({attributes:t,deps:e}){super(),this.merkle=e.merkle,this.deepHash=e.deepHash,Object.assign(this,t),"string"==typeof this.data&&(this.data=di(this.data)),t.tags&&(this.tags=t.tags)}addTag(t,e){this.tags.push({name:li(t),value:li(e)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:mi(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:e,reward:r,tags:i,signature:n}){this.id=t,this.owner=e,r&&(this.reward=r),i&&(this.tags=i),this.signature=n}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(t),this.data_root=mi(this.chunks.data_root)),this.chunks||0!==t.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,e){if(!this.chunks)throw new Error("Chunks have not been prepared");const r=this.chunks.proofs[t],i=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:mi(r.proof),offset:r.offset.toString(),chunk:mi(e.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const t=this.tags.reduce(((t,e)=>ui([t,di(e.name),di(e.value)])),new Uint8Array);return ui([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),fi(this.quantity),fi(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);const e=this.tags.map((t=>[di(t.name),di(t.value)]));return await this.deepHash.deepHash([fi(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),fi(this.quantity),fi(this.reward),this.get("last_tx",{decode:!0,string:!1}),e,fi(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class Hi{api;constructor(t){this.api=t}getInfo(){return this.api.get("info").then((t=>t.data))}getPeers(){return this.api.get("peers").then((t=>t.data))}}const Fi=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class Ki{chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}crypto;api;merkle;deepHash;constructor({deps:t,transaction:e}){if(!e.id)throw new Error("Transaction is not signed");if(!e.chunks)throw new Error("Transaction chunks not prepared");this.api=t.api,this.crypto=t.crypto,this.merkle=t.merkle,this.deepHash=t.deepHash,this.data=e.data,this.transaction=new ji({attributes:Object.assign({},e,{data:new Uint8Array(0)}),deps:{merkle:t.merkle,deepHash:t.deepHash}})}async uploadChunk(t){if(this.isComplete)throw new Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let e=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(e>0&&(e-=e*Math.random()*.3,await new Promise((t=>setTimeout(t,e)))),this.lastResponseError="",!this.txPosted)return void await this.postTransaction();t&&(this.chunkIndex=t);const r=this.transaction.getChunk(t||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(r.offset),0,parseInt(r.data_size),di(r.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const i=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch((t=>(console.error(t.message),{status:-1,data:{error:t.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=i.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=Ei(i),Fi.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:t,data:e,deps:r}){if(!t||"number"!=typeof t.chunkIndex||"object"!=typeof t.transaction)throw new Error("Serialized object does not match expected format.");const i=new ji(t.transaction);i.chunks||await i.prepareChunks(e);const n=new Ki({deps:r,transaction:i});if(n.chunkIndex=t.chunkIndex,n.lastRequestTimeEnd=t.lastRequestTimeEnd,n.lastResponseError=t.lastResponseError,n.lastResponseStatus=t.lastResponseStatus,n.txPosted=t.txPosted,n.data=e,n.transaction.data_root!==t.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return n}static async fromTransactionId(t,e){const r=await t.get(`tx/${e}`);if(200!==r.status)throw new Error(`Tx ${e} not found: ${r.status}`);const i=r.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;const t=await this.api.post("tx",this.transaction).catch((t=>(console.error(t),{status:-1,data:{error:t.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,this.transaction.data=new Uint8Array(0),t.status>=200&&t.status<300)return this.txPosted=!0,void(this.chunkIndex=1);throw this.lastResponseError=Ei(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=Ei(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}class $i{api;crypto;chunks;merkle;deepHash;constructor({deps:t}){this.api=t.api,this.crypto=t.crypto,this.chunks=t.chunks,this.merkle=t.merkle,this.deepHash=t.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then((t=>t.data))}getPrice(t,e){const r=e?`price/${t}/${e}`:`price/${t}`;return this.api.get(r,{transformResponse:[function(t){return t}]}).then((t=>t.data))}async get(t){const e=await this.api.get(`tx/${t}`);if(200==e.status){const r=parseInt(e.data.data_size);if(e.data.format>=2&&r>0&&r<=12582912){const r=await this.getData(t);return new ji({attributes:{...e.data,data:r},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new ji({attributes:{...e.data,format:e.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}if(404===e.status)throw new Si("TX_NOT_FOUND");if(410===e.status)throw new Si("TX_FAILED");throw new Si("TX_INVALID")}fromRaw(t){return new ji({attributes:t,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(t){return this.api.get(`tx/${t}/status`).then((t=>200===t.status?{status:200,confirmed:t.data}:{status:t.status,confirmed:null}))}async getData(t){let e;try{e=(await this.api.get(`/${t}`,{responseType:"arraybuffer"})).data}catch(e){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(e)}if(!e){console.warn(`Falling back to chunks for ${t}`);try{e=await this.chunks.downloadChunkedData(t)}catch(e){console.error(`Error while trying to download chunked data for ${t}`),console.error(e)}}if(!e)throw new Error(`${t} data was not found!`);return e}async getDataStream(t){let e;try{const r=(await this.api.get(`/${t}`,{responseType:"arraybuffer"})).data;e=async function*(){yield r}()}catch(e){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(e)}if(!e){console.warn(`Falling back to chunks for ${t}`);try{e=this.chunks.concurrentChunkDownloader(t)}catch(e){console.error(`Error while trying to download chunked data for ${t}`),console.error(e)}}if(!e)throw new Error(`${t} data was not found!`);return e}async sign(t,e,r){const i="object"==typeof e&&(t=>{let e=!0;return["n","e","d","p","q","dp","dq","qi"].map((r=>!(r in t)&&(e=!1))),e})(e),n="object"==typeof arweaveWallet;if(!i&&!n)throw new Error("No valid JWK or external wallet found to sign transaction.");if(n){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}t.tags=t.tags.map((t=>new Di(t.name,t.value)));const e=await arweaveWallet.sign(t,r);t.setSignature({id:e.id,owner:e.owner,reward:e.reward,tags:e.tags,signature:e.signature})}else{if(!i)throw new Error("An error occurred while signing. Check wallet is valid");{t.setOwner(e.n);const i=await t.getSignatureData(),n=await this.crypto.sign(e,i,r),s=await this.crypto.hash(n);t.setSignature({id:mi(s),owner:e.n,signature:mi(n)})}}}async verify(t){const e=await t.getSignatureData(),r=t.get("signature",{decode:!0,string:!1}),i=mi(await this.crypto.hash(r));if(t.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,e,r)}async post(t){if("string"==typeof t?t=new ji({attributes:JSON.parse(t),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"function"==typeof t.readInt32BE?t=new ji({attributes:JSON.parse(t.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"object"!=typeof t||t instanceof ji||(t=new ji({attributes:t,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(t instanceof ji))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);const e=await this.getUploader(t,t.data);try{for(;!e.isComplete;)await e.uploadChunk()}catch(t){if(e.lastResponseStatus>0)return{status:e.lastResponseStatus,statusText:e.lastResponseError,data:{error:e.lastResponseError}};throw t}return{status:200,statusText:"OK",data:{}}}async getUploader(t,e){let r;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t instanceof ji){if(e||(e=t.data),!(e instanceof Uint8Array))throw new Error("Data format is invalid");t.chunks||await t.prepareChunks(e),r=new Ki({transaction:t,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),r.data&&0!==r.data.length||(r.data=e)}else{if("string"==typeof t&&(t=await Ki.fromTransactionId(this.api,t)),!(e&&e instanceof Uint8Array))throw new Error("Must provide data when resuming upload");r=await Ki.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:t,data:e})}return r}async*upload(t,e){const r=await this.getUploader(t,e);for(;!r.isComplete;)await r.uploadChunk(),yield r;return r}}class Wi{api;crypto;constructor(t,e){this.api=t,this.crypto=e}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(t){return t}]}).then((t=>t.data))}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then((t=>t.data))}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return t&&"use_wallet"!==t?this.getAddress(t):this.getAddress()}async getAddress(t){if(t&&"use_wallet"!==t)return this.ownerToAddress(t.n);try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}async ownerToAddress(t){return mi(await this.crypto.hash(di(t)))}}class Vi{config;api;wallets;transactions;network;blocks;chunks;static init;static utils=t;crypto;deepHash;merkle;static VERSION="0.0.1";constructor(t){if(this.config=t,!t.crypto)throw new Error("config.crypto is required");this.crypto=function(t,e){const r=t;return r.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:fi,concatBuffers:ui},crypto:t}}),r}(t.crypto,{deepHash:Oi}),this.deepHash=this.crypto.deepHash;const e=t.gateways?Array.isArray(t.gateways)?t.gateways:[t.gateways]:void 0;this.api=new qi({gateways:e,miners:t.miners}),this.wallets=new Wi(this.api,this.crypto),this.chunks=new Ci(this.api),this.network=new Hi(this.api),this.blocks=new Ai(this.api,this.network),this.merkle=new Pi({deps:{crypto:this.crypto}}),this.transactions=new $i({deps:{api:this.api,crypto:t.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return Vi.utils}getConfig(){return this.config}async createTransaction(t,e){const r={};if(Object.assign(r,t),!(t.data||t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(null==t.owner&&e&&"use_wallet"!==e&&(r.owner=e.n),null==t.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor()),"string"==typeof t.data&&(t.data=fi(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(null==t.reward){const e=t.data?t.data.byteLength:0;r.reward=await this.transactions.getPrice(e,r.target)}r.data_root="",r.data_size=t.data?t.data.byteLength.toString():"0",r.data=t.data||new Uint8Array(0);const i=new ji({attributes:r,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}}const Gi=Vi;class Ji extends Vi{constructor(t,e){super({crypto:e?.crypto??new vi,...e,gateways:t??"https://arweave.net"})}static init(t){return new Ji(t)}}const Zi=vi.default?vi.default:vi;class Xi extends Zi{getPublicKey(t){throw new Error("Unimplemented")}}let Yi;function Qi(){return Yi??=new Xi}var tn=__webpack_require__(8764).Buffer;class en{_key;pk;signatureType=1;ownerLength=pr[1].pubLength;signatureLength=pr[1].sigLength;_publicKey;get publicKey(){return this._publicKey}constructor(t,e){this._key=t,this.pk=e,e||(this.pk=Qi().getPublicKey(JSON.parse(t)))}sign(t){return(0,Wt.createSign)("sha256").update(t).sign({key:this._key,padding:Wt.constants.RSA_PKCS1_PSS_PADDING})}static async verify(t,e,r){return await Qi().verify(tn.isBuffer(t)?Jt.encode(t):t,e,r)}}var rn=__webpack_require__(2500),nn=__webpack_require__(8764).Buffer;const sn=rn.define,on=sn("RSAPublicKey",(function(){this.seq().obj(this.key("n").int(),this.key("e").int())})),an=sn("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),un=(sn("PublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(an),this.key("publicKey").bitstr())})),sn("Version",(function(){this.int({0:"two-prime",1:"multi"})}))),hn=sn("OtherPrimeInfos",(function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())})),cn=sn("RSAPrivateKey",(function(){this.seq().obj(this.key("version").use(un),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(hn))}));function fn(t){return/^[0-9]+$/.test(t)?new ke(t,10):function(t){return new ke(nn.from(t,"base64"))}(t)}sn("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").use(un),this.key("algorithm").use(an),this.key("privateKey").bitstr())}));class ln extends en{jwk;constructor(t){super(function(t){const e=function(t){return{n:fn(t.n),e:fn(t.e),d:t.d&&fn(t.d),p:t.p&&fn(t.p),q:t.q&&fn(t.q),dp:t.dp&&fn(t.dp),dq:t.dq&&fn(t.dq),qi:t.qi&&fn(t.qi)}}(t),r=!!e.d,i=r?"PRIVATE":"PUBLIC",n="-----BEGIN RSA "+i+" KEY-----\n",s="\n-----END RSA "+i+" KEY-----\n";let o=nn.alloc(0);return r?(e.version="two-prime",o=cn.encode(e,"der")):o=on.encode(e,"der"),n+o.toString("base64").match(/.{1,64}/g).join("\n")+s}(t),t.n),this.jwk=t}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return Jt.toBuffer(this.pk)}sign(t){return Qi().sign(this.jwk,t)}static async verify(t,e,r){return await Qi().verify(t,e,r)}}var dn=__webpack_require__(8764).Buffer;class pn{_publicKey;ownerLength=pr[2].pubLength;signatureLength=pr[2].sigLength;signatureType=2;pem;provider;constructor(t){if(this.provider=t,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(t){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(t)}static async verify(t,e,r){let i=t;return"string"==typeof t&&(i=Jt.toBuffer(t)),ri(dn.from(r),dn.from(e),dn.from(i))}}var mn=__webpack_require__(1094),gn=__webpack_require__.n(mn);function yn(t){return"0x"+gn().keccak_256(Ke(t))}const bn=new Le("strings/5.7.0");var wn,vn;function _n(t,e,r,i,n){if(t===vn.BAD_PREFIX||t===vn.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===vn.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(wn||(wn={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(vn||(vn={}));const Mn=Object.freeze({error:function(t,e,r,i,n){return bn.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:_n,replace:function(t,e,r,i,n){return t===vn.OVERLONG?(i.push(n),0):(i.push(65533),_n(t,e,r))}});function Sn(t,e=wn.current){e!=wn.current&&(bn.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const s=65536+((1023&i)<<10)+(1023&n);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return Ke(r)}function En(t,e){return function(t,e){null==e&&(e=Mn.error),t=Ke(t);const r=[];let i=0;for(;i<t.length;){const n=t[i++];if(n>>7==0){r.push(n);continue}let s=null,o=null;if(192==(224&n))s=1,o=127;else if(224==(240&n))s=2,o=2047;else{if(240!=(248&n)){i+=e(128==(192&n)?vn.UNEXPECTED_CONTINUE:vn.BAD_PREFIX,i-1,t,r);continue}s=3,o=65535}if(i-1+s>=t.length){i+=e(vn.OVERRUN,i-1,t,r);continue}let a=n&(1<<8-s-1)-1;for(let n=0;n<s;n++){let n=t[i];if(128!=(192&n)){i+=e(vn.MISSING_CONTINUE,i,t,r),a=null;break}a=a<<6|63&n,i++}null!==a&&(a>1114111?i+=e(vn.OUT_OF_RANGE,i-1-s,t,r,a):a>=55296&&a<=57343?i+=e(vn.UTF16_SURROGATE,i-1-s,t,r,a):a<=o?i+=e(vn.OVERLONG,i-1-s,t,r,a):r.push(a))}return r}(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function An(t){return"string"==typeof t&&(t=Sn(t)),yn($e([Sn("Ethereum Signed Message:\n"),Sn(String(t.length)),t]))}var kn=__webpack_require__(3715),xn=__webpack_require__.n(kn);function Tn(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self&&self;var Bn=In;function In(t,e){if(!t)throw new Error(e||"Assertion failed")}In.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Rn=Tn((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16));else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),Pn=Tn((function(t,e){var r=e;r.assert=Bn,r.toArray=Rn.toArray,r.zero2=Rn.zero2,r.toHex=Rn.toHex,r.encode=Rn.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,u=s.andln(n-1);s.isOdd()?(a=u>(n>>1)-1?(n>>1)-u:u,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,u=t.andln(3)+n&3,h=e.andln(3)+s&3;3===u&&(u=-1),3===h&&(h=-1),o=0==(1&u)?0:3!=(i=t.andln(7)+n&7)&&5!==i||2!==h?u:-u,r[0].push(o),a=0==(1&h)?0:3!=(i=e.andln(7)+s&7)&&5!==i||2!==u?h:-h,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(xe())(t,"hex","le")}})),Cn=Pn.getNAF,On=Pn.getJSF,Un=Pn.assert;function Nn(t,e){this.type=t,this.p=new(xe())(e.p,16),this.red=e.prime?xe().red(e.prime):xe().mont(this.p),this.zero=new(xe())(0).toRed(this.red),this.one=new(xe())(1).toRed(this.red),this.two=new(xe())(2).toRed(this.red),this.n=e.n&&new(xe())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ln=Nn;function qn(t,e){this.curve=t,this.type=e,this.precomputed=null}Nn.prototype.point=function(){throw new Error("Not implemented")},Nn.prototype.validate=function(){throw new Error("Not implemented")},Nn.prototype._fixedNafMul=function(t,e){Un(t.precomputed);var r=t._getDoubles(),i=Cn(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var s,o,a=[];for(s=0;s<i.length;s+=r.step){o=0;for(var u=s+r.step-1;u>=s;u--)o=(o<<1)+i[u];a.push(o)}for(var h=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=n;f>0;f--){for(s=0;s<a.length;s++)(o=a[s])===f?c=c.mixedAdd(r.points[s]):o===-f&&(c=c.mixedAdd(r.points[s].neg()));h=h.add(c)}return h.toP()},Nn.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=Cn(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var u=0;a>=0&&0===s[a];a--)u++;if(a>=0&&u++,o=o.dblp(u),a<0)break;var h=s[a];Un(0!==h),o="affine"===t.type?h>0?o.mixedAdd(n[h-1>>1]):o.mixedAdd(n[-h-1>>1].neg()):h>0?o.add(n[h-1>>1]):o.add(n[-h-1>>1].neg())}return"affine"===t.type?o.toP():o},Nn.prototype._wnafMulAdd=function(t,e,r,i,n){var s,o,a,u=this._wnafT1,h=this._wnafT2,c=this._wnafT3,f=0;for(s=0;s<i;s++){var l=(a=e[s])._getNAFPoints(t);u[s]=l.wnd,h[s]=l.points}for(s=i-1;s>=1;s-=2){var d=s-1,p=s;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=On(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),o=0;o<f;o++){var b=0|y[0][o],w=0|y[1][o];c[d][o]=g[3*(b+1)+(w+1)],c[p][o]=0,h[d]=m}}else c[d]=Cn(r[d],u[d],this._bitLength),c[p]=Cn(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var v=this.jpoint(null,null,null),_=this._wnafT4;for(s=f;s>=0;s--){for(var M=0;s>=0;){var S=!0;for(o=0;o<i;o++)_[o]=0|c[o][s],0!==_[o]&&(S=!1);if(!S)break;M++,s--}if(s>=0&&M++,v=v.dblp(M),s<0)break;for(o=0;o<i;o++){var E=_[o];0!==E&&(E>0?a=h[o][E-1>>1]:E<0&&(a=h[o][-E-1>>1].neg()),v="affine"===a.type?v.mixedAdd(a):v.add(a))}}for(s=0;s<i;s++)h[s]=null;return n?v:v.toP()},Nn.BasePoint=qn,qn.prototype.eq=function(){throw new Error("Not implemented")},qn.prototype.validate=function(){return this.curve.validate(this)},Nn.prototype.decodePoint=function(t,e){t=Pn.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Un(t[t.length-1]%2==0):7===t[0]&&Un(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},qn.prototype.encodeCompressed=function(t){return this.encode(t,!0)},qn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},qn.prototype.encode=function(t,e){return Pn.encode(this._encode(e),t)},qn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},qn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},qn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},qn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},qn.prototype._getBeta=function(){return null},qn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var zn=Tn((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Dn=Pn.assert;function jn(t){Ln.call(this,"short",t),this.a=new(xe())(t.a,16).toRed(this.red),this.b=new(xe())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}zn(jn,Ln);var Hn=jn;function Fn(t,e,r,i){Ln.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(xe())(e,16),this.y=new(xe())(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Kn(t,e,r,i){Ln.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(xe())(0)):(this.x=new(xe())(e,16),this.y=new(xe())(r,16),this.z=new(xe())(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}jn.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(xe())(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new(xe())(t.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))?r=n[0]:(r=n[1],Dn(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(xe())(t.a,16),b:new(xe())(t.b,16)}})):this._getEndoBasis(r)}}},jn.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:xe().mont(t),r=new(xe())(2).toRed(e).redInvm(),i=r.redNeg(),n=new(xe())(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},jn.prototype._getEndoBasis=function(t){for(var e,r,i,n,s,o,a,u,h,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,l=this.n.clone(),d=new(xe())(1),p=new(xe())(0),m=new(xe())(0),g=new(xe())(1),y=0;0!==f.cmpn(0);){var b=l.div(f);u=l.sub(b.mul(f)),h=m.sub(b.mul(d));var w=g.sub(b.mul(p));if(!i&&u.cmp(c)<0)e=a.neg(),r=d,i=u.neg(),n=h;else if(i&&2==++y)break;a=u,l=f,f=u,m=d,d=h,g=p,p=w}s=u.neg(),o=h;var v=i.sqr().add(n.sqr());return s.sqr().add(o.sqr()).cmp(v)>=0&&(s=e,o=r),i.negative&&(i=i.neg(),n=n.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:n},{a:s,b:o}]},jn.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),u=n.mul(r.b),h=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:u.add(h).neg()}},jn.prototype.pointFromX=function(t,e){(t=new(xe())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},jn.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},jn.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[2*s]=a,i[2*s+1]=u,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var h=this._wnafMulAdd(1,i,n,2*s,r),c=0;c<2*s;c++)i[c]=null,n[c]=null;return h},zn(Fn,Ln.BasePoint),jn.prototype.point=function(t,e,r){return new Fn(this,t,e,r)},jn.prototype.pointFromJSON=function(t,e){return Fn.fromJSON(this,t,e)},Fn.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},Fn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Fn.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},Fn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Fn.prototype.isInfinity=function(){return this.inf},Fn.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Fn.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Fn.prototype.getX=function(){return this.x.fromRed()},Fn.prototype.getY=function(){return this.y.fromRed()},Fn.prototype.mul=function(t){return t=new(xe())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Fn.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Fn.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Fn.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Fn.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},Fn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},zn(Kn,Ln.BasePoint),jn.prototype.jpoint=function(t,e,r){return new Kn(this,t,e,r)},Kn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},Kn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Kn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),c=h.redMul(a),f=i.redMul(h),l=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},Kn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),c=r.redMul(u),f=a.redSqr().redIAdd(h).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(n.redMul(h)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},Kn.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),h=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=h.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(u)),p=s.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(l);var b=h.redMul(a);e+1<t&&(u=u.redMul(l)),s=m,a=b,h=y}return this.curve.jpoint(s,h.redMul(n),a)},Kn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Kn.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),u=a.redSqr().redISub(o).redISub(o),h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),t=u,e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Kn.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);t=u;var h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Kn.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),u=e.redAdd(e),h=(u=u.redIAdd(u)).redMul(o),c=a.redSqr().redISub(h.redAdd(h)),f=h.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(c,d,p)},Kn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=i.redIAdd(i);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),c=e.redMul(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},Kn.prototype.mul=function(t,e){return t=new(xe())(t,e),this.curve._wnafMul(this,t)},Kn.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},Kn.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},Kn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Kn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var $n=Tn((function(t,e){var r=e;r.base=Ln,r.short=Hn,r.mont=null,r.edwards=null})),Wn=Tn((function(t,e){var r,i=e,n=Pn.assert;function s(t){"short"===t.type?this.curve=new $n.short(t):"edwards"===t.type?this.curve=new $n.edwards(t):this.curve=new $n.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xn().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Vn(t){if(!(this instanceof Vn))return new Vn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Rn.toArray(t.entropy,t.entropyEnc||"hex"),r=Rn.toArray(t.nonce,t.nonceEnc||"hex"),i=Rn.toArray(t.pers,t.persEnc||"hex");Bn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var Gn=Vn;Vn.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Vn.prototype._hmac=function(){return new(xn().hmac)(this.hash,this.K)},Vn.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Vn.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=Rn.toArray(t,e),r=Rn.toArray(r,i),Bn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Vn.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=Rn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,t);return this._update(r),this._reseed++,Rn.encode(s,e)};var Jn=Pn.assert;function Zn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Xn=Zn;Zn.fromPublic=function(t,e,r){return e instanceof Zn?e:new Zn(t,{pub:e,pubEnc:r})},Zn.fromPrivate=function(t,e,r){return e instanceof Zn?e:new Zn(t,{priv:e,privEnc:r})},Zn.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Zn.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Zn.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Zn.prototype._importPrivate=function(t,e){this.priv=new(xe())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Zn.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Jn(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Jn(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Zn.prototype.derive=function(t){return t.validate()||Jn(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Zn.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Zn.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Zn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Yn=Pn.assert;function Qn(t,e){if(t instanceof Qn)return t;this._importDER(t,e)||(Yn(t.r&&t.s,"Signature without r or s"),this.r=new(xe())(t.r,16),this.s=new(xe())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ts=Qn;function es(){this.place=0}function rs(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function is(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function ns(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Qn.prototype._importDER=function(t,e){t=Pn.toArray(t,e);var r=new es;if(48!==t[r.place++])return!1;var i=rs(t,r);if(!1===i)return!1;if(i+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var n=rs(t,r);if(!1===n)return!1;var s=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var o=rs(t,r);if(!1===o)return!1;if(t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(xe())(s),this.s=new(xe())(a),this.recoveryParam=null,!0},Qn.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=is(e),r=is(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];ns(i,e.length),(i=i.concat(e)).push(2),ns(i,r.length);var n=i.concat(r),s=[48];return ns(s,n.length),s=s.concat(n),Pn.encode(s,t)};var ss=function(){throw new Error("unsupported")},os=Pn.assert;function as(t){if(!(this instanceof as))return new as(t);"string"==typeof t&&(os(Object.prototype.hasOwnProperty.call(Wn,t),"Unknown curve "+t),t=Wn[t]),t instanceof Wn.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var us=as;as.prototype.keyPair=function(t){return new Xn(this,t)},as.prototype.keyFromPrivate=function(t,e){return Xn.fromPrivate(this,t,e)},as.prototype.keyFromPublic=function(t,e){return Xn.fromPublic(this,t,e)},as.prototype.genKeyPair=function(t){t||(t={});for(var e=new Gn({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||ss(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new(xe())(2));;){var n=new(xe())(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},as.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},as.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(xe())(t,16));for(var n=this.n.byteLength(),s=e.getPrivate().toArray("be",n),o=t.toArray("be",n),a=new Gn({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new(xe())(1)),h=0;;h++){var c=i.k?i.k(h):new(xe())(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var l=f.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new ts({r:d,s:p,recoveryParam:m})}}}}}},as.prototype.verify=function(t,e,r,i){t=this._truncateToN(new(xe())(t,16)),r=this.keyFromPublic(r,i);var n=(e=new ts(e,"hex")).r,s=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),u=a.mul(t).umod(this.n),h=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),h)).isInfinity()&&o.eqXToP(n):!(o=this.g.mulAdd(u,r.getPublic(),h)).isInfinity()&&0===o.getX().umod(this.n).cmp(n)},as.prototype.recoverPubKey=function(t,e,r,i){os((3&r)===r,"The recovery param is more than two bits"),e=new ts(e,i);var n=this.n,s=new(xe())(t),o=e.r,a=e.s,u=1&r,h=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");o=h?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var c=e.r.invm(n),f=n.sub(s).mul(c).umod(n),l=a.mul(c).umod(n);return this.g.mulAdd(f,o,l)},as.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new ts(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch(t){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var hs=Tn((function(t,e){var r=e;r.version="6.5.4",r.utils=Pn,r.rand=function(){throw new Error("unsupported")},r.curve=$n,r.curves=Wn,r.ec=us,r.eddsa=null})),cs=hs.ec,fs=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};const ls=new Le("properties/5.7.0");function ds(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ps(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ms(t){return fs(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function gs(t){const e={};for(const r in t)e[r]=t[r];return e}const ys={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function bs(t){if(null==t||ys[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let i=null;try{i=t[e[r]]}catch(t){continue}if(!bs(i))return!1}return!0}return ls.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function ws(t){if(bs(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>vs(t))));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&ds(e,r,vs(i))}return e}return ls.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function vs(t){return ws(t)}class _s{constructor(t){for(const e in t)this[e]=vs(t[e])}}const Ms=new Le("signing-key/5.7.0");let Ss=null;function Es(){return Ss||(Ss=new cs("secp256k1")),Ss}class As{constructor(t){ds(this,"curve","secp256k1"),ds(this,"privateKey",Je(t)),32!==Ze(this.privateKey)&&Ms.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Es().keyFromPrivate(Ke(this.privateKey));ds(this,"publicKey","0x"+e.getPublic(!1,"hex")),ds(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),ds(this,"_isSigningKey",!0)}_addPoint(t){const e=Es().keyFromPublic(Ke(this.publicKey)),r=Es().keyFromPublic(Ke(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Es().keyFromPrivate(Ke(this.privateKey)),r=Ke(t);32!==r.length&&Ms.throwArgumentError("bad digest length","digest",t);const i=e.sign(r,{canonical:!0});return tr({recoveryParam:i.recoveryParam,r:Qe("0x"+i.r.toString(16),32),s:Qe("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const e=Es().keyFromPrivate(Ke(this.privateKey)),r=Es().keyFromPublic(Ke(xs(t)));return Qe("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function ks(t,e){const r=tr(e),i={r:Ke(r.r),s:Ke(r.s)};return"0x"+Es().recoverPubKey(Ke(t),i,r.recoveryParam).encode("hex",!1)}function xs(t,e){const r=Ke(t);if(32===r.length){const t=new As(r);return e?"0x"+Es().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Je(r):"0x"+Es().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Es().keyFromPublic(r).getPublic(!0,"hex"):Je(r):Ms.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Ts=new Le("rlp/5.7.0");function Bs(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Is(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Is(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Bs(e.length);return r.unshift(247+r.length),r.concat(e)}je(t)||Ts.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Ke(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Bs(e.length);return r.unshift(183+r.length),r.concat(e)}function Rs(t){return Je(Is(t))}const Ps=new Le("address/5.7.0");function Cs(t){Ve(t,20)||Ps.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=Ke(yn(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Os={};for(let t=0;t<10;t++)Os[String(t)]=String(t);for(let t=0;t<26;t++)Os[String.fromCharCode(65+t)]=String(10+t);const Us=Math.floor((Ns=9007199254740991,Math.log10?Math.log10(Ns):Math.log(Ns)/Math.LN10));var Ns;function Ls(t){let e=null;if("string"!=typeof t&&Ps.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Cs(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ps.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Os[t])).join("");for(;e.length>=Us;){let t=e.substring(0,Us);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Ps.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new rr(r,36).toString(16);e.length<40;)e="0"+e;e=Cs("0x"+e)}else Ps.throwArgumentError("invalid address","address",t);var r;return e}const qs=new Le("transactions/5.7.0");var zs;!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(zs||(zs={}));const Ds=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],js={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Hs(t){return Ls(Xe(yn(Xe(xs(t),1)),12))}function Fs(t,e){return Hs(ks(Ke(t),e))}function Ks(t,e){const r=We(ar.from(t).toHexString());return r.length>32&&qs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function $s(t,e){return{address:Ls(t),storageKeys:(e||[]).map(((e,r)=>(32!==Ze(e)&&qs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Ws(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&qs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),$s(t[0],t[1])):$s(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return $s(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Vs(t){return Ws(t).map((t=>[t.address,t.storageKeys]))}function Gs(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&qs.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),function(t,e){var r,i;i=js,(r=t)&&"object"==typeof r||ls.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((t=>{i[t]||ls.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)}));const n=[];Ds.forEach((function(e){let r=t[e.name]||[];const i={};e.numeric&&(i.hexPad="left"),r=Ke(Je(r,i)),e.length&&r.length!==e.length&&r.length>0&&qs.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r),e.maxLength&&(r=We(r),r.length>e.maxLength&&qs.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r)),n.push(Je(r))}));let s=0;if(null!=t.chainId?(s=t.chainId,"number"!=typeof s&&qs.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!je(e)&&e.v>28&&(s=Math.floor((e.v-35)/2)),0!==s&&(n.push(Je(s)),n.push("0x"),n.push("0x")),!e)return Rs(n);const o=tr(e);let a=27+o.recoveryParam;return 0!==s?(n.pop(),n.pop(),n.pop(),a+=2*s+8,o.v>28&&o.v!==a&&qs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==a&&qs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(Je(a)),n.push(We(Ke(o.r))),n.push(We(Ke(o.s))),Rs(n)}(t,e);switch(t.type){case 1:return function(t,e){const r=[Ks(t.chainId||0,"chainId"),Ks(t.nonce||0,"nonce"),Ks(t.gasPrice||0,"gasPrice"),Ks(t.gasLimit||0,"gasLimit"),null!=t.to?Ls(t.to):"0x",Ks(t.value||0,"value"),t.data||"0x",Vs(t.accessList||[])];if(e){const t=tr(e);r.push(Ks(t.recoveryParam,"recoveryParam")),r.push(We(t.r)),r.push(We(t.s))}return Ye(["0x01",Rs(r)])}(t,e);case 2:return function(t,e){if(null!=t.gasPrice){const e=ar.from(t.gasPrice),r=ar.from(t.maxFeePerGas||0);e.eq(r)||qs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Ks(t.chainId||0,"chainId"),Ks(t.nonce||0,"nonce"),Ks(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ks(t.maxFeePerGas||0,"maxFeePerGas"),Ks(t.gasLimit||0,"gasLimit"),null!=t.to?Ls(t.to):"0x",Ks(t.value||0,"value"),t.data||"0x",Vs(t.accessList||[])];if(e){const t=tr(e);r.push(Ks(t.recoveryParam,"recoveryParam")),r.push(We(t.r)),r.push(We(t.s))}return Ye(["0x02",Rs(r)])}(t,e)}return qs.throwError(`unsupported transaction type: ${t.type}`,Le.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}const Js=new Le("abstract-provider/5.7.0");class Zs{constructor(){Js.checkAbstract(new.target,Zs),ds(this,"_isProvider",!0)}getFeeData(){return t=this,e=void 0,i=function*(){const{block:t,gasPrice:e}=yield ms({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,i=null,n=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,n=ar.from("1500000000"),i=t.baseFeePerGas.mul(2).add(n)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:n,gasPrice:e}},new((r=void 0)||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}));var t,e,r,i}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var Xs=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};const Ys=new Le("abstract-signer/5.7.0"),Qs=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],to=[Le.errors.INSUFFICIENT_FUNDS,Le.errors.NONCE_EXPIRED,Le.errors.REPLACEMENT_UNDERPRICED];class eo{constructor(){Ys.checkAbstract(new.target,eo),ds(this,"_isSigner",!0)}getBalance(t){return Xs(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Xs(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Xs(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield ms(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Xs(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield ms(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Xs(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Xs(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Xs(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Xs(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Xs(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===Qs.indexOf(e)&&Ys.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=gs(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Ys.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Xs(this,void 0,void 0,(function*(){const e=yield ms(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Xs(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Ys.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Ys.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Ys.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Ys.throwError("network does not support EIP-1559",Le.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Ys.throwError("failed to get consistent fee data",Le.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(to.indexOf(t.code)>=0)throw t;return Ys.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Le.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Ys.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield ms(e)}))}_checkProvider(t){this.provider||Ys.throwError("missing provider",Le.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class ro extends eo{constructor(t,e){super(),ds(this,"address",t),ds(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{Ys.throwError(t,Le.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new ro(this.address,t)}}function io(t){return yn(Sn(t))}const no=new Le("hash/5.7.0"),so=new Uint8Array(32);so.fill(0);const oo=ar.from(-1),ao=ar.from(0),uo=ar.from(1),ho=ar.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),co=Qe(uo.toHexString(),32),fo=Qe(ao.toHexString(),32),lo={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},po=["name","version","chainId","verifyingContract","salt"];function mo(t){return function(e){return"string"!=typeof e&&no.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const go={name:mo("name"),version:mo("version"),chainId:function(t){try{return ar.from(t).toString()}catch(t){}return no.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ls(t).toLowerCase()}catch(t){}return no.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ke(t);if(32!==e.length)throw new Error("bad length");return Je(e)}catch(t){}return no.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function yo(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],i=parseInt(e[2]||"256");(i%8!=0||i>256||e[2]&&e[2]!==String(i))&&no.throwArgumentError("invalid numeric width","type",t);const n=ho.mask(r?i-1:i),s=r?n.add(uo).mul(oo):ao;return function(e){const r=ar.from(e);return(r.lt(s)||r.gt(n))&&no.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),Qe(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&no.throwArgumentError("invalid bytes width","type",t),function(e){return Ke(e).length!==r&&no.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Ke(t),r=e.length%32;return r?Ye([e,so.slice(r)]):Je(e)}(e)}}}switch(t){case"address":return function(t){return Qe(Ls(t),32)};case"bool":return function(t){return t?co:fo};case"bytes":return function(t){return yn(t)};case"string":return function(t){return io(t)}}return null}function bo(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class wo{constructor(t){ds(this,"types",Object.freeze(vs(t))),ds(this,"_encoderCache",{}),ds(this,"_types",{});const e={},r={},i={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],i[t]={}}));for(const i in t){const n={};t[i].forEach((s=>{n[s.name]&&no.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(i)}`,"types",t),n[s.name]=!0;const o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===i&&no.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),yo(o)||(r[o]||no.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",t),r[o].push(i),e[i][o]=!0)}))}const n=Object.keys(r).filter((t=>0===r[t].length));0===n.length?no.throwArgumentError("missing primary type","types",t):n.length>1&&no.throwArgumentError(`ambiguous primary types or unused types: ${n.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),ds(this,"primaryType",n[0]),function n(s,o){o[s]&&no.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),o[s]=!0,Object.keys(e[s]).forEach((t=>{r[t]&&(n(t,o),Object.keys(o).forEach((e=>{i[e][t]=!0})))})),delete o[s]}(this.primaryType,{});for(const e in i){const r=Object.keys(i[e]);r.sort(),this._types[e]=bo(e,t[e])+r.map((e=>bo(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=yo(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),i=parseInt(e[3]);return e=>{i>=0&&e.length!==i&&no.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let n=e.map(r);return this._types[t]&&(n=n.map(yn)),yn(Ye(n))}}const r=this.types[t];if(r){const e=io(this._types[t]);return t=>{const i=r.map((({name:e,type:r})=>{const i=this.getEncoder(r)(t[e]);return this._types[r]?yn(i):i}));return i.unshift(e),Ye(i)}}return no.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||no.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return yn(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(yo(t))return r(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const t=i[1],n=parseInt(i[3]);return n>=0&&e.length!==n&&no.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const n=this.types[t];return n?n.reduce(((t,{name:i,type:n})=>(t[i]=this._visit(n,e[i],r),t)),{}):no.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new wo(t)}static getPrimaryType(t){return wo.from(t).primaryType}static hashStruct(t,e,r){return wo.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const i=lo[r];i||no.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:i})}return e.sort(((t,e)=>po.indexOf(t.name)-po.indexOf(e.name))),wo.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Ye(["0x1901",wo.hashDomain(t),wo.from(e).hash(r)])}static hash(t,e,r){return yn(wo.encode(t,e,r))}static resolveNames(t,e,r,i){return n=this,s=void 0,a=function*(){t=gs(t);const n={};t.verifyingContract&&!Ve(t.verifyingContract,20)&&(n[t.verifyingContract]="0x");const s=wo.from(e);s.visit(r,((t,e)=>("address"!==t||Ve(e,20)||(n[e]="0x"),e)));for(const t in n)n[t]=yield i(t);return t.verifyingContract&&n[t.verifyingContract]&&(t.verifyingContract=n[t.verifyingContract]),r=s.visit(r,((t,e)=>"address"===t&&n[e]?n[e]:e)),{domain:t,value:r}},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{u(a.next(t))}catch(t){e(t)}}function i(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(r,i)}u((a=a.apply(n,s||[])).next())}));var n,s,o,a}static getPayload(t,e,r){wo.hashDomain(t);const i={},n=[];po.forEach((e=>{const r=t[e];null!=r&&(i[e]=go[e](r),n.push({name:e,type:lo[e]}))}));const s=wo.from(e),o=gs(e);return o.EIP712Domain?no.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):o.EIP712Domain=n,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Je(Ke(e));if(t.match(/^u?int/))return ar.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&no.throwArgumentError("invalid string","value",e),e}return no.throwArgumentError("unsupported type","type",t)}))}}}class vo{constructor(t){ds(this,"alphabet",t),ds(this,"base",t.length),ds(this,"_alphabetMap",{}),ds(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Ke(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let i=e[t];for(let t=0;t<r.length;++t)i+=r[t]<<8,r[t]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}let i="";for(let t=0;0===e[t]&&t<e.length-1;++t)i+=this._leader;for(let t=r.length-1;t>=0;--t)i+=this.alphabet[r[t]];return i}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let i=this._alphabetMap[t[r]];if(void 0===i)throw new Error("Non-base"+this.base+" character");let n=i;for(let t=0;t<e.length;++t)n+=e[t]*this.base,e[t]=255&n,n>>=8;for(;n>0;)e.push(255&n),n>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Ke(new Uint8Array(e.reverse()))}}new vo("abcdefghijklmnopqrstuvwxyz234567");const _o=new vo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Mo;!function(t){t.sha256="sha256",t.sha512="sha512"}(Mo||(Mo={}));const So=new Le("sha2/5.7.0");function Eo(t){return"0x"+xn().sha256().update(Ke(t)).digest("hex")}function Ao(t,e,r){return Mo[t]||So.throwError("unsupported algorithm "+t,Le.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+xn().hmac(xn()[t],Ke(e)).update(Ke(r)).digest("hex")}function ko(t,e,r,i,n){let s;t=Ke(t),e=Ke(e);let o=1;const a=new Uint8Array(i),u=new Uint8Array(e.length+4);let h,c;u.set(e);for(let f=1;f<=o;f++){u[e.length]=f>>24&255,u[e.length+1]=f>>16&255,u[e.length+2]=f>>8&255,u[e.length+3]=255&f;let l=Ke(Ao(n,t,u));s||(s=l.length,c=new Uint8Array(s),o=Math.ceil(i/s),h=i-(o-1)*s),c.set(l);for(let e=1;e<r;e++){l=Ke(Ao(n,t,l));for(let t=0;t<s;t++)c[t]^=l[t]}const d=(f-1)*s,p=f===o?h:s;a.set(Ke(c).slice(0,p),d)}return Je(a)}const xo=new Le("wordlists/5.7.0");class To{constructor(t){xo.checkAbstract(new.target,To),ds(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const i=t.getWord(r);if(r!==t.getWordIndex(i))return"0x";e.push(i)}return io(e.join("\n")+"\n")}static register(t,e){e||(e=t.locale)}}let Bo=null;function Io(t){if(null==Bo&&(Bo="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==To.check(t)))throw Bo=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Ro=new class extends To{constructor(){super("en")}getWord(t){return Io(this),Bo[t]}getWordIndex(t){return Io(this),Bo.indexOf(t)}};To.register(Ro);const Po={en:Ro},Co=new Le("hdnode/5.7.0"),Oo=ar.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Uo=Sn("Bitcoin seed"),No=2147483648;function Lo(t){return(1<<t)-1<<8-t}function qo(t){return Qe(Je(t),32)}function zo(t){return _o.encode($e([t,Xe(Eo(Eo(t)),0,4)]))}function Do(t){if(null==t)return Po.en;if("string"==typeof t){const e=Po[t];return null==e&&Co.throwArgumentError("unknown locale","wordlist",t),e}return t}const jo={},Ho="m/44'/60'/0'/0/0";class Fo{constructor(t,e,r,i,n,s,o,a){if(t!==jo)throw new Error("HDNode constructor cannot be called directly");if(e){const t=new As(e);ds(this,"privateKey",t.privateKey),ds(this,"publicKey",t.compressedPublicKey)}else ds(this,"privateKey",null),ds(this,"publicKey",Je(r));var u;ds(this,"parentFingerprint",i),ds(this,"fingerprint",Xe((u=Eo(this.publicKey),"0x"+xn().ripemd160().update(Ke(u)).digest("hex")),0,4)),ds(this,"address",Hs(this.publicKey)),ds(this,"chainCode",n),ds(this,"index",s),ds(this,"depth",o),null==a?(ds(this,"mnemonic",null),ds(this,"path",null)):"string"==typeof a?(ds(this,"mnemonic",null),ds(this,"path",a)):(ds(this,"mnemonic",a),ds(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return zo($e([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Je(this.depth),this.parentFingerprint,Qe(Je(this.index),4),this.chainCode,null!=this.privateKey?$e(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Fo(jo,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let e=this.path;e&&(e+="/"+(2147483647&t));const r=new Uint8Array(37);if(t&No){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Ke(this.privateKey),1),e&&(e+="'")}else r.set(Ke(this.publicKey));for(let e=24;e>=0;e-=8)r[33+(e>>3)]=t>>24-e&255;const i=Ke(Ao(Mo.sha512,this.chainCode,r)),n=i.slice(0,32),s=i.slice(32);let o=null,a=null;this.privateKey?o=qo(ar.from(n).add(this.privateKey).mod(Oo)):a=new As(Je(n))._addPoint(this.publicKey);let u=e;const h=this.mnemonic;return h&&(u=Object.freeze({phrase:h.phrase,path:e,locale:h.locale||"en"})),new Fo(jo,o,a,this.fingerprint,qo(s),t,this.depth+1,u)}derivePath(t){const e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();let r=this;for(let t=0;t<e.length;t++){const i=e[t];if(i.match(/^[0-9]+'$/)){const t=parseInt(i.substring(0,i.length-1));if(t>=No)throw new Error("invalid path index - "+i);r=r._derive(No+t)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);{const t=parseInt(i);if(t>=No)throw new Error("invalid path index - "+i);r=r._derive(t)}}}return r}static _fromSeed(t,e){const r=Ke(t);if(r.length<16||r.length>64)throw new Error("invalid seed");const i=Ke(Ao(Mo.sha512,Uo,r));return new Fo(jo,qo(i.slice(0,32)),null,"0x00000000",qo(i.slice(32)),0,0,e)}static fromMnemonic(t,e,r){return t=$o(Ko(t,r=Do(r)),r),Fo._fromSeed(function(t,e){e||(e="");const r=Sn("mnemonic"+e,wn.NFKD);return ko(Sn(t,wn.NFKD),r,2048,64,"sha512")}(t,e),{phrase:t,path:"m",locale:r.locale})}static fromSeed(t){return Fo._fromSeed(t,null)}static fromExtendedKey(t){const e=_o.decode(t);82===e.length&&zo(e.slice(0,78))===t||Co.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=e[4],i=Je(e.slice(5,9)),n=parseInt(Je(e.slice(9,13)).substring(2),16),s=Je(e.slice(13,45)),o=e.slice(45,78);switch(Je(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Fo(jo,null,Je(o),i,s,n,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new Fo(jo,Je(o.slice(1)),null,i,s,n,r,null)}return Co.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Ko(t,e){e=Do(e),Co.checkNormalize();const r=e.split(t);if(r.length%3!=0)throw new Error("invalid mnemonic");const i=Ke(new Uint8Array(Math.ceil(11*r.length/8)));let n=0;for(let t=0;t<r.length;t++){let s=e.getWordIndex(r[t].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)s&1<<10-t&&(i[n>>3]|=1<<7-n%8),n++}const s=32*r.length/3,o=Lo(r.length/3);if((Ke(Eo(i.slice(0,s/8)))[0]&o)!=(i[i.length-1]&o))throw new Error("invalid checksum");return Je(i.slice(0,s/8))}function $o(t,e){if(e=Do(e),(t=Ke(t)).length%4!=0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let i=11;for(let e=0;e<t.length;e++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=t[e],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=t[e]>>8-i,r.push(t[e]&(1<<8-i)-1),i+=3);const n=t.length/4,s=Ke(Eo(t))[0]&Lo(n);return r[r.length-1]<<=n,r[r.length-1]|=s>>8-n,e.join(r.map((t=>e.getWord(t))))}const Wo=new Le("random/5.7.0"),Vo=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}();let Go=Vo.crypto||Vo.msCrypto;function Jo(t){(t<=0||t>1024||t%1||t!=t)&&Wo.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Go.getRandomValues(e),Ke(e)}Go&&Go.getRandomValues||(Wo.warn("WARNING: Missing strong random number source"),Go={getRandomValues:function(t){return Wo.throwError("no secure random source avaialble",Le.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Zo=__webpack_require__(8709),Xo=__webpack_require__.n(Zo),Yo=__webpack_require__(7635),Qo=__webpack_require__.n(Yo);function ta(t){return"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ke(t)}function ea(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function ra(t){return"string"==typeof t?Sn(t,wn.NFKC):Ke(t)}function ia(t,e){let r=t;const i=e.toLowerCase().split("/");for(let t=0;t<i.length;t++){let e=null;for(const n in r)if(n.toLowerCase()===i[t]){e=r[n];break}if(null===e)return null;r=e}return r}function na(t){const e=Ke(t);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const r=Je(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const sa="json-wallets/5.7.0";const oa=new Le(sa);function aa(t){return null!=t&&t.mnemonic&&t.mnemonic.phrase}class ua extends _s{isKeystoreAccount(t){return!(!t||!t._isKeystoreAccount)}}function ha(t,e){const r=ta(ia(t,"crypto/ciphertext"));if(Je(yn($e([e.slice(16,32),r]))).substring(2)!==ia(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=function(t,e,r){if("aes-128-ctr"===ia(t,"crypto/cipher")){const i=ta(ia(t,"crypto/cipherparams/iv")),n=new(Xo().Counter)(i);return Ke(new(Xo().ModeOfOperation.ctr)(e,n).decrypt(r))}return null}(t,e.slice(0,16),r);i||oa.throwError("unsupported cipher",Le.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const n=e.slice(32,64),s=Hs(i);if(t.address){let e=t.address.toLowerCase();if("0x"!==e.substring(0,2)&&(e="0x"+e),Ls(e)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:Je(i)};if("0.1"===ia(t,"x-ethers/version")){const e=ta(ia(t,"x-ethers/mnemonicCiphertext")),r=ta(ia(t,"x-ethers/mnemonicCounter")),i=new(Xo().Counter)(r),s=new(Xo().ModeOfOperation.ctr)(n,i),a=ia(t,"x-ethers/path")||Ho,u=ia(t,"x-ethers/locale")||"en",h=Ke(s.decrypt(e));try{const t=$o(h,u),e=Fo.fromMnemonic(t,null,u).derivePath(a);if(e.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=e.mnemonic}catch(t){if(t.code!==Le.errors.INVALID_ARGUMENT||"wordlist"!==t.argument)throw t}}return new ua(o)}function ca(t,e,r,i,n){return Ke(ko(t,e,r,i,n))}function fa(t,e,r,i,n){return Promise.resolve(ca(t,e,r,i,n))}function la(t,e,r,i,n){const s=ra(e),o=ia(t,"crypto/kdf");if(o&&"string"==typeof o){const e=function(t,e){return oa.throwArgumentError("invalid key-derivation function parameters",t,e)};if("scrypt"===o.toLowerCase()){const r=ta(ia(t,"crypto/kdfparams/salt")),a=parseInt(ia(t,"crypto/kdfparams/n")),u=parseInt(ia(t,"crypto/kdfparams/r")),h=parseInt(ia(t,"crypto/kdfparams/p"));a&&u&&h||e("kdf",o),0!=(a&a-1)&&e("N",a);const c=parseInt(ia(t,"crypto/kdfparams/dklen"));return 32!==c&&e("dklen",c),i(s,r,a,u,h,64,n)}if("pbkdf2"===o.toLowerCase()){const i=ta(ia(t,"crypto/kdfparams/salt"));let n=null;const o=ia(t,"crypto/kdfparams/prf");"hmac-sha256"===o?n="sha256":"hmac-sha512"===o?n="sha512":e("prf",o);const a=parseInt(ia(t,"crypto/kdfparams/c")),u=parseInt(ia(t,"crypto/kdfparams/dklen"));return 32!==u&&e("dklen",u),r(s,i,a,u,n)}}return oa.throwArgumentError("unsupported key-derivation function","kdf",o)}const da=new Le(sa);class pa extends _s{isCrowdsaleAccount(t){return!(!t||!t._isCrowdsaleAccount)}}function ma(t,e){const r=JSON.parse(t);e=ra(e);const i=Ls(ia(r,"ethaddr")),n=ta(ia(r,"encseed"));n&&n.length%16==0||da.throwArgumentError("invalid encseed","json",t);const s=Ke(ko(e,e,2e3,32,"sha256")).slice(0,16),o=n.slice(0,16),a=n.slice(16),u=new(Xo().ModeOfOperation.cbc)(s,o),h=Xo().padding.pkcs7.strip(Ke(u.decrypt(a)));let c="";for(let t=0;t<h.length;t++)c+=String.fromCharCode(h[t]);const f=yn(Sn(c));return new pa({_isCrowdsaleAccount:!0,address:i,privateKey:f})}function ga(t){let e=null;try{e=JSON.parse(t)}catch(t){return!1}return e.encseed&&e.ethaddr}function ya(t){let e=null;try{e=JSON.parse(t)}catch(t){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}function ba(t,e,r){if(ga(t)){r&&r(0);const i=ma(t,e);return r&&r(1),Promise.resolve(i)}return ya(t)?function(t,e,r){return i=this,n=void 0,o=function*(){const i=JSON.parse(t);return ha(i,yield la(i,e,fa,Qo().scrypt,r))},new((s=void 0)||(s=Promise))((function(t,e){function r(t){try{u(o.next(t))}catch(t){e(t)}}function a(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(r,a)}u((o=o.apply(i,n||[])).next())}));var i,n,s,o}(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}var wa=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};const va=new Le("wallet/5.7.0");class _a extends eo{constructor(t,e){if(super(),null!=(r=t)&&Ve(r.privateKey,32)&&null!=r.address){const e=new As(t.privateKey);if(ds(this,"_signingKey",(()=>e)),ds(this,"address",Hs(this.publicKey)),this.address!==Ls(t.address)&&va.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(t){const e=t.mnemonic;return e&&e.phrase}(t)){const e=t.mnemonic;ds(this,"_mnemonic",(()=>({phrase:e.phrase,path:e.path||Ho,locale:e.locale||"en"})));const r=this.mnemonic;Hs(Fo.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&va.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ds(this,"_mnemonic",(()=>null))}else{if(As.isSigningKey(t))"secp256k1"!==t.curve&&va.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ds(this,"_signingKey",(()=>t));else{"string"==typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);const e=new As(t);ds(this,"_signingKey",(()=>e))}ds(this,"_mnemonic",(()=>null)),ds(this,"address",Hs(this.publicKey))}var r;e&&!Zs.isProvider(e)&&va.throwArgumentError("invalid provider","provider",e),ds(this,"provider",e||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(t){return new _a(this,t)}signTransaction(t){return ms(t).then((e=>{null!=e.from&&(Ls(e.from)!==this.address&&va.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete e.from);const r=this._signingKey().signDigest(yn(Gs(e)));return Gs(e,r)}))}signMessage(t){return wa(this,void 0,void 0,(function*(){return er(this._signingKey().signDigest(An(t)))}))}_signTypedData(t,e,r){return wa(this,void 0,void 0,(function*(){const i=yield wo.resolveNames(t,e,r,(t=>(null==this.provider&&va.throwError("cannot resolve ENS names without a provider",Le.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:t}),this.provider.resolveName(t))));return er(this._signingKey().signDigest(wo.hash(i.domain,e,i.value)))}))}encrypt(t,e,r){if("function"!=typeof e||r||(r=e,e={}),r&&"function"!=typeof r)throw new Error("invalid callback");return e||(e={}),function(t,e,r,i){try{if(Ls(t.address)!==Hs(t.privateKey))throw new Error("address/privateKey mismatch");if(aa(t)){const e=t.mnemonic;if(Fo.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||Ho).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(t){return Promise.reject(t)}"function"!=typeof r||i||(i=r,r={}),r||(r={});const n=Ke(t.privateKey),s=ra(e);let o=null,a=null,u=null;if(aa(t)){const e=t.mnemonic;o=Ke(Ko(e.phrase,e.locale||"en")),a=e.path||Ho,u=e.locale||"en"}let h=r.client;h||(h="ethers.js");let c=null;c=r.salt?Ke(r.salt):Jo(32);let f=null;if(r.iv){if(f=Ke(r.iv),16!==f.length)throw new Error("invalid iv")}else f=Jo(16);let l=null;if(r.uuid){if(l=Ke(r.uuid),16!==l.length)throw new Error("invalid uuid")}else l=Jo(16);let d=1<<17,p=8,m=1;return r.scrypt&&(r.scrypt.N&&(d=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Qo().scrypt(s,c,d,p,m,64,i).then((e=>{const r=(e=Ke(e)).slice(0,16),i=e.slice(16,32),s=e.slice(32,64),g=new(Xo().Counter)(f),y=Ke(new(Xo().ModeOfOperation.ctr)(r,g).encrypt(n)),b=yn($e([i,y])),w={address:t.address.substring(2).toLowerCase(),id:na(l),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Je(f).substring(2)},ciphertext:Je(y).substring(2),kdf:"scrypt",kdfparams:{salt:Je(c).substring(2),n:d,dklen:32,p:m,r:p},mac:b.substring(2)}};if(o){const t=Jo(16),e=new(Xo().Counter)(t),r=Ke(new(Xo().ModeOfOperation.ctr)(s,e).encrypt(o)),i=new Date,n=i.getUTCFullYear()+"-"+ea(i.getUTCMonth()+1,2)+"-"+ea(i.getUTCDate(),2)+"T"+ea(i.getUTCHours(),2)+"-"+ea(i.getUTCMinutes(),2)+"-"+ea(i.getUTCSeconds(),2)+".0Z";w["x-ethers"]={client:h,gethFilename:"UTC--"+n+"--"+w.address,mnemonicCounter:Je(t).substring(2),mnemonicCiphertext:Je(r).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(w)}))}(this,t,e,r)}static createRandom(t){let e=Jo(16);t||(t={}),t.extraEntropy&&(e=Ke(Xe(yn($e([e,t.extraEntropy])),0,16)));const r=$o(e,t.locale);return _a.fromMnemonic(r,t.path,t.locale)}static fromEncryptedJson(t,e,r){return ba(t,e,r).then((t=>new _a(t)))}static fromEncryptedJsonSync(t,e){return new _a(function(t,e){if(ga(t))return ma(t,e);if(ya(t))return function(t,e){const r=JSON.parse(t);return ha(r,la(r,e,ca,Qo().syncScrypt))}(t,e);throw new Error("invalid JSON wallet")}(t,e))}static fromMnemonic(t,e,r){return e||(e=Ho),new _a(Fo.fromMnemonic(t,null,r).derivePath(e))}}function Ma(t,e,r,i){return Fs(wo.hash(t,e,r),i)}var Sa=__webpack_require__(8764).Buffer;class Ea{signer;publicKey;ownerLength=pr[dr.ETHEREUM].pubLength;signatureLength=pr[dr.ETHEREUM].sigLength;signatureType=dr.ETHEREUM;constructor(t){this.signer=t.getSigner()}async setPublicKey(){const t="sign this message to connect to Bundlr.Network",e=await this.signer.signMessage(t),r=ks(Ke(await An(t)),e);this.publicKey=Sa.from(Ke(r))}async sign(t){this.publicKey||await this.setPublicKey();const e=await this.signer.signMessage(t);return Sa.from(e.slice(2),"hex")}static verify(t,e,r){const i=Hs(t);return function(t,e){return Fs(An(t),e)}(e,r)===i}}var Aa=__webpack_require__(3581);class ka extends oi{get publicKey(){return Aa.decode(this.pk)}get key(){return Aa.decode(this._key)}constructor(t){const e=Aa.decode(t);super(Aa.encode(e.subarray(0,32)),Aa.encode(e.subarray(32,64)))}}var xa=__webpack_require__(7221),Ta=__webpack_require__(8764),Ba=__webpack_require__(5811);function Ia(t){return t=Ra(t),Ba("keccak256").update(t).digest()}function Ra(t){if(!Ta.Buffer.isBuffer(t))if(Array.isArray(t))t=Ta.Buffer.from(t);else if("string"==typeof t)t=Pa(t)?Ta.Buffer.from(Ca(Oa(t)),"hex"):Ta.Buffer.from(t);else if("number"==typeof t)t=Na(t);else if(null==t)t=Ta.Buffer.allocUnsafe(0);else if(ke.isBN(t))t=t.toArrayLike(Ta.Buffer);else{if(!t.toArray)throw new Error("invalid type");t=Ta.Buffer.from(t.toArray())}return t}function Pa(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Ca(t){if("string"!=typeof t)throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function Oa(t){return"string"!=typeof t?t:Ua(t)?t.slice(2):t}function Ua(t){if("string"!=typeof t)throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function Na(t){const e=La(t);return Ta.Buffer.from(Ca(e.slice(2)),"hex")}function La(t){return`0x${t.toString(16)}`}"undefined"!=typeof window&&(window.keccak256=Ia);const qa=Ia,za={intToBuffer:Na,intToHex:La,isHexPrefixed:Ua,stripHexPrefix:Oa,padToEven:Ca,isHexString:Pa,toBuffer:Ra};var Da=__webpack_require__(8764).Buffer;class ja{_key;ownerLength=pr[dr.ETHEREUM].pubLength;signatureLength=pr[dr.ETHEREUM].sigLength;signatureType=dr.ETHEREUM;pk;constructor(t,e){this._key=t,this.pk=e.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Da.from(this._key,"hex")}static async verify(t,e,r){let i=t;"string"==typeof t&&(i=Jt.toBuffer(t));let n=!1;try{n=xa.ecdsaVerify(r,qa(Da.from(e)),i)}catch(t){}return n}async sign(t){return xa.ecdsaSign(qa(Da.from(t)),Da.from(this.key)).signature}}var Ha=__webpack_require__(8764).Buffer;class Fa extends ja{get publicKey(){return Ha.from(this.pk,"hex")}constructor(t){t.startsWith("0x")&&(t=t.slice(2));const e=Ha.from(t,"hex"),r=xa.publicKeyCreate(e,!1);super(t,Ha.from(r))}async sign(t){return new _a(this._key).signMessage(t).then((t=>Ha.from(t.slice(2),"hex")))}static async verify(t,e,r){return xa.ecdsaVerify(65===r.length?r.slice(0,-1):r,Ke(An(e)),"string"==typeof t?Jt.toBuffer(t):t)}}class Ka extends Fa{}class $a extends ka{constructor(t){super(t.replace("ed25519:",""))}}var Wa=__webpack_require__(8764).Buffer;class Va extends oi{get publicKey(){return Wa.from(this.pk)}get key(){return Wa.from(this._key)}constructor(t,e){super(t.subarray(0,32),e)}}var Ga=__webpack_require__(8764).Buffer;class Ja extends pn{signatureType=4;constructor(t){super(t)}async sign(t){return super.sign(Ga.from(Ga.from(t).toString("hex")))}static async verify(t,e,r){return super.verify(t,Ga.from(Ga.from(e).toString("hex")),r)}}var Za=__webpack_require__(8764).Buffer;class Xa extends ka{signatureType=4;constructor(t){super(t)}async sign(t){return super.sign(Za.from(Za.from(t).toString("hex")))}static async verify(t,e,r){return super.verify(t,Za.from(Za.from(e).toString("hex")),r)}}var Ya=__webpack_require__(8764).Buffer;class Qa extends oi{constructor(t,e){super(t,e)}get publicKey(){return Ya.from(this.pk.slice(2),"hex")}get key(){return Ya.from(this._key.slice(2),"hex")}}var tu=__webpack_require__(8764).Buffer;class eu{_publicKey;ownerLength=pr[dr.INJECTEDAPTOS].pubLength;signatureLength=pr[dr.INJECTEDAPTOS].sigLength;signatureType=dr.INJECTEDAPTOS;pem;provider;constructor(t,e){this.provider=t,this._publicKey=e}get publicKey(){return this._publicKey}async sign(t){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const e=await this.provider.signMessage({message:tu.from(t).toString("hex"),nonce:"bundlr"});return tu.from(e.signature,"hex")}static async verify(t,e,r){const i=t;return ri(tu.from(r),tu.from(`APTOS\nmessage: ${tu.from(e).toString("hex")}\nnonce: bundlr`),tu.from(i))}}var ru=__webpack_require__(8764).Buffer;class iu{_publicKey;ownerLength=pr[dr.MULTIAPTOS].pubLength;signatureLength=pr[dr.MULTIAPTOS].sigLength;signatureType=dr.MULTIAPTOS;collectSignatures;provider;constructor(t,e){this._publicKey=t,this.collectSignatures=e}get publicKey(){return this._publicKey}async sign(t){const{signatures:e,bitmap:r}=await this.collectSignatures(t),i=new Uint8Array([0,0,0,0]),n=new Set;r.forEach((t=>{if(t>=32)throw new Error(`Invalid bit value ${t}.`);if(n.has(t))throw new Error("Duplicated bits detected.");n.add(t);const e=Math.floor(t/8);let r=i[e];r|=128>>t%8,i[e]=r}));const s=ru.alloc(this.signatureLength);let o=0;for(let t=0;t<32;t++)i.includes(t)&&s.set(e[o++],64*t);return s.set(i,this.signatureLength-4),s}static async verify(t,e,r){const i=pr[dr.MULTIAPTOS].sigLength-4,n=r.slice(0,i),s=r.slice(i);let o=!1;for(let r=0;r<32;r++){const i=Math.floor(r/8),a=r-8*i;if(0!=(s[i]&128>>a)){const i=n.slice(64*r,64*(r+1)),s=t.slice(32*r,32*(r+1));await ri(ru.from(i),ru.from(e),ru.from(s))||(o=!0)}}return!o}}var nu=__webpack_require__(8764).Buffer;class su extends Fa{ownerLength=pr[dr.TYPEDETHEREUM].pubLength;signatureLength=pr[dr.TYPEDETHEREUM].sigLength;signatureType=dr.TYPEDETHEREUM;address;signer;constructor(t){super(t),this.address="0x"+qa(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new _a(t)}get publicKey(){return nu.from(this.address)}async sign(t){const e=await this.signer._signTypedData(ou,au,{address:this.address,"Transaction hash":t});return nu.from(e.slice(2),"hex")}static async verify(t,e,r){const i=t.toString(),n=Ma(ou,au,{address:i,"Transaction hash":e},r);return i.toLowerCase()===n.toLowerCase()}}const ou={name:"Bundlr",version:"1"},au={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]};var uu=__webpack_require__(8764).Buffer;class hu{ownerLength=pr[dr.TYPEDETHEREUM].pubLength;signatureLength=pr[dr.TYPEDETHEREUM].sigLength;signatureType=dr.TYPEDETHEREUM;address;signer;publicKey;constructor(t){this.signer=t.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=uu.from(this.address)}async sign(t){const e=await this.signer._signTypedData(ou,au,{address:this.address,"Transaction hash":t});return uu.from(e.slice(2),"hex")}static verify(t,e,r){const i=t.toString(),n=Ma(ou,au,{address:i,"Transaction hash":e},r);return i.toLowerCase()===n.toLowerCase()}}class cu{signer;publicKey;ownerLength=pr[dr.ARWEAVE].pubLength;signatureLength=pr[dr.ARWEAVE].sigLength;signatureType=dr.ARWEAVE;arweave;constructor(t,e){this.signer=t,this.arweave=e}async setPublicKey(){const t=await this.signer.getActivePublicKey();this.publicKey=Jt.toBuffer(t)}async sign(t){this.publicKey||await this.setPublicKey();const e=await this.signer.signature(t,{name:"RSA-PSS",saltLength:32});return new Uint8Array(Object.values(e).map((t=>+t)))}static async verify(t,e,r){return await Qi().verify(t,e,r)}}const fu={1:ln,2:oi,3:Fa,4:Ja,5:eu,6:iu,7:su},lu=async function(t){return _i([fi("dataitem"),fi("1"),fi(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])};function du(t,e){const r=new Uint8Array(t);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(8*t)-1)throw new Error(`Number ${e} is too large for an array of ${t} bytes`);for(let t=0;t<r.length;t++){const i=255&e;r[t]=i,e=(e-i)/256}return r}function pu(t){return du(8,t)}function mu(t){return du(2,t)}function gu(t){return du(16,t)}function yu(t){return du(32,t)}function bu(t){let e=0;for(let r=t.length-1;r>=0;r--)e=256*e+t[r];return e}var wu=__webpack_require__(8764).Buffer;class vu{buf;pos;constructor(t=wu.alloc(Eu),e=0){this.buf=t,this.pos=e}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");const e=t.length;let r;if(e)for(this.writeLong(e),r=0;r<e;r++){const e=t[r];if("string"!=typeof e?.name||"string"!=typeof e?.value)throw new Error(`Invalid tag format for ${e}, expected {name:string, value: string}`);this.writeString(e.name),this.writeString(e.value)}this.writeLong(0)}toBuffer(){const t=wu.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}writeLong(t){const e=this.buf;let r,i;if(t>=-1073741824&&t<1073741824){i=t>=0?t<<1:~t<<1|1;do{e[this.pos]=127&i,i>>=7}while(i&&(e[this.pos++]|=128))}else{r=t>=0?2*t:2*-t-1;do{e[this.pos]=127&r,r/=128}while(r>=1&&(e[this.pos++]|=128))}this.pos++,this.buf=e}writeString(t){const e=wu.byteLength(t),r=this.buf;this.writeLong(e);let i=this.pos;if(this.pos+=e,!(this.pos>r.length)){if(e>64)this.buf.write(t,this.pos-e,e,"utf8");else{let n,s,o,a;for(n=0,s=e;n<s;n++)o=t.charCodeAt(n),o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=63&o|128):55296==(64512&o)&&56320==(64512&(a=t.charCodeAt(n+1)))?(o=65536+((1023&o)<<10)+(1023&a),n++,r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=63&o|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=63&o|128)}this.buf=r}}readLong(){let t=0,e=0;const r=this.buf;let i,n,s,o;do{i=r[this.pos++],n=128&i,t|=(127&i)<<e,e+=7}while(n&&e<28);if(n){s=t,o=268435456;do{i=r[this.pos++],s+=(127&i)*o,o*=128}while(128&i);return(s%2?-(s+1):s)/2}return t>>1^-(1&t)}skipLong(){const t=this.buf;for(;128&t[this.pos++];);}readTags(){const t=[];let e;for(;e=this.readLong();)for(e<0&&(e=-e,this.skipLong());e--;){const e=this.readString(),r=this.readString();t.push({name:e,value:r})}return t}readString(){const t=this.readLong(),e=this.pos,r=this.buf;if(this.pos+=t,this.pos>r.length)throw new Error("TAP Position out of range");return this.buf.slice(e,e+t).toString()}}function _u(t){if(0===t?.length)return wu.allocUnsafe(0);const e=new vu;return e.writeTags(t),e.toBuffer()}function Mu(t){return new vu(t).readTags()}const Su=80,Eu=4096;class Au{binary;_id;constructor(t){this.binary=t}static isDataItem(t){return void 0!==t.binary}get signatureType(){const t=bu(this.binary.subarray(0,2));if(void 0!==dr?.[t])return t;throw new Error("Unknown signature type: "+t)}async isValid(){return Au.verify(this.binary)}get id(){return Jt.encode(this.rawId)}set id(t){this._id=Jt.toBuffer(t)}get rawId(){return(0,Wt.createHash)("sha256").update(this.rawSignature).digest()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return Jt.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return pr[this.signatureType].sigLength}get owner(){return Jt.encode(this.rawOwner)}get ownerLength(){return pr[this.signatureType].pubLength}get rawTarget(){const t=this.getTargetStart();return 1==this.binary[t]?this.binary.subarray(t+1,t+33):Ta.Buffer.alloc(0)}get target(){return Jt.encode(this.rawTarget)}get rawAnchor(){const t=this.getAnchorStart();return 1==this.binary[t]?this.binary.subarray(t+1,t+33):Ta.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const t=this.getTagsStart(),e=bu(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+e)}get tags(){const t=this.getTagsStart();if(0==bu(this.binary.subarray(t,t+8)))return[];const e=bu(this.binary.subarray(t+8,t+16));return Mu(Ta.Buffer.from(this.binary.subarray(t+16,t+16+e)))}get tagsB64Url(){return this.tags.map((t=>({name:Jt.encode(t.name),value:Jt.encode(t.value)})))}getStartOfData(){const t=this.getTagsStart();return t+16+bu(this.binary.subarray(t+8,t+16))}get rawData(){const t=this.getTagsStart(),e=t+16+bu(this.binary.subarray(t+8,t+16));return this.binary.subarray(e,this.binary.length)}get data(){return Jt.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await Uu(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=Ta.Buffer.from(await Qi().hash(t))}isSigned(){return(this._id?.length??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map((t=>({name:Jt.encode(t.name),value:Jt.encode(t.value)}))),data:this.data}}static async verify(t){if(t.byteLength<Su)return!1;const e=new Au(t),r=e.signatureType,i=e.getTagsStart(),n=bu(t.subarray(i,i+8)),s=bu(t.subarray(i+8,i+16));if(s>Eu)return!1;if(n>0)try{if(Mu(Ta.Buffer.from(t.subarray(i+16,i+16+s))).length!==n)return!1}catch(t){return!1}const o=fu[r],a=await lu(e);return await o.verify(e.rawOwner,a,e.rawSignature)}async getSignatureData(){return lu(this)}getTagsStart(){const t=this.getTargetStart();let e=t+(1==this.binary[t]?33:1);return e+=1==this.binary[e]?33:1,e}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1;return t+=1==this.binary[this.getTargetStart()]?32:0,t}}const ku=Au;var xu=__webpack_require__(8764).Buffer;const Tu=32;class Bu{length;items;binary;constructor(t){this.binary=t,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(t){if("number"==typeof t){if(t>=this.length)throw new RangeError("Index out of range");return this.getByIndex(t)}return this.getById(t)}getSizes(){const t=[];for(let e=Tu;e<Tu+64*this.length;e+=64)t.push(bu(this.binary.subarray(e,e+32)));return t}getIds(){const t=[];for(let e=Tu;e<Tu+64*this.length;e+=64){const r=this.binary.subarray(e+32,e+64);if(0===r.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");t.push(Jt.encode(r))}return t}getIdBy(t){if(t>this.length-1)throw new RangeError("Index of bundle out of range");const e=64+64*t;return Jt.encode(this.binary.subarray(e,e+32))}async toTransaction(t,e,r){const i=await e.createTransaction({data:this.binary,...t},r);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(const t of this.items){const e=await t.isValid(),r=Jt((0,Wt.createHash)("sha256").update(t.rawSignature).digest());if(!e||t.id!==r)return!1}return!0}getOffset(t){let e=0;for(let r=Tu;r<Tu+64*this.length;r+=64){const i=bu(this.binary.subarray(r,r+32));e+=i;const n=this.binary.subarray(r+32,r+64);if(0===xu.compare(n,t))return{startOffset:e,size:i}}return{startOffset:-1,size:-1}}getByIndex(t){let e=0;const r=this.getBundleStart();let i,n,s=0;for(let r=Tu;r<Tu+64*this.length;r+=64){if(i=bu(this.binary.subarray(r,r+32)),s++===t){n=this.binary.subarray(r+32,r+64);break}e+=i}const o=r+e,a=this.binary.subarray(o,o+i),u=new ku(a);return u.rawId=n,u}getById(t){const e=Jt.toBuffer(t),r=this.getOffset(e);if(-1===r.startOffset)throw new Error("Transaction not found");const i=this.getBundleStart()+r.startOffset;return new ku(this.binary.subarray(i,i+r.size))}getDataItemCount(){return bu(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const t=new Array(this.length);let e=0;const r=this.getBundleStart();let i=0;for(let n=Tu;n<Tu+64*this.length;n+=64){const s=bu(this.binary.subarray(n,n+32)),o=this.binary.subarray(n+32,n+64);if(0===o.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");const a=r+e,u=this.binary.subarray(a,a+s);e+=s;const h=new ku(u);h.rawId=o,t[i]=h,i++}return t}}const Iu=Bu;var Ru=__webpack_require__(8764).Buffer;function Pu(t){return new Iu(t)}async function Cu(t,e){const r=new Uint8Array(64*t.length),i=await Promise.all(t.map((async(t,i)=>{const n=t.isSigned()?t.rawId:await Uu(t,e),s=new Uint8Array(64);return s.set(yu(t.getRaw().byteLength),0),s.set(n,32),r.set(s,64*i),t.getRaw()}))).then((t=>Ru.concat(t))),n=Ru.concat([Ru.from(yu(t.length)),Ru.from(r),i]);return new Iu(n)}async function Ou(t,e){const r=await lu(t),i=await e.sign(r),n=await Qi().hash(i);return{signature:Ru.from(i),id:Ru.from(n)}}async function Uu(t,e){const{signature:r,id:i}=await Ou(t,e);return t.getRaw().set(r,2),i}var Nu=__webpack_require__(8764).Buffer;function Lu(t,e,r){const i=e.publicKey,n=r?.target?Jt.toBuffer(r.target):null,s=1+(n?.byteLength??0),o=r?.anchor?Nu.from(r.anchor):null,a=1+(o?.byteLength??0),u=(r?.tags?.length??0)>0?_u(r?.tags):null,h=16+(u?u.byteLength:0),c=Nu.from(t),f=c.byteLength,l=2+e.signatureLength+e.ownerLength+s+a+h+f,d=Nu.alloc(l);if(d.set(mu(e.signatureType),0),d.set(new Uint8Array(e.signatureLength).fill(0),2),i.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${i.byteLength}`);d.set(i,2+e.signatureLength);const p=2+e.signatureLength+e.ownerLength;if(d[p]=n?1:0,n){if(32!==n.byteLength)throw new Error(`Target must be 32 bytes but was incorrectly ${n.byteLength}`);d.set(n,p+1)}const m=p+s;let g=m+1;if(d[m]=o?1:0,o){if(g+=o.byteLength,32!==o.byteLength)throw new Error("Anchor must be 32 bytes");d.set(o,m+1)}d.set(pu(r?.tags?.length??0),g);const y=pu(u?.byteLength??0);d.set(y,g+8),u&&d.set(u,g+16);const b=g+h;return d.set(c,b),new ku(d)}class qu{signatureType;rawSignature;signature;signatureLength;rawOwner;owner;ownerLength;rawTarget;target;rawAnchor;anchor;rawTags;tags;rawData;data;static async verify(...t){throw new Error("You must implement `verify`")}}var zu=__webpack_require__(8764).Buffer;async function Du(t){const e=Fu(t);let r=(await e.next()).value;r=await Hu(e,r,32);const i=bu(r.subarray(0,32));r=r.subarray(32);const n=64*i;r=await Hu(e,r,n);const s=new Array(i);for(let t=0;t<n;t+=64)s[t/64]=[bu(r.subarray(t,t+32)),Jt(zu.from(r.subarray(t+32,t+64)))];r=r.subarray(n);let o=32+n;const a=[];for(const[t,i]of s){r=await Hu(e,r,Su),r=await Hu(e,r,2);const n=bu(r.subarray(0,2));r=r.subarray(2);const{sigLength:s,pubLength:u,sigName:h}=pr[n];r=await Hu(e,r,s);const c=r.subarray(0,s);r=r.subarray(s),r=await Hu(e,r,u);const f=r.subarray(0,u);r=r.subarray(u),r=await Hu(e,r,1);const l=1===r[0];l&&(r=await Hu(e,r,33));const d=l?r.subarray(1,33):zu.allocUnsafe(0);r=r.subarray(l?33:1),r=await Hu(e,r,1);const p=1===r[0];p&&(r=await Hu(e,r,33));const m=p?r.subarray(1,33):zu.allocUnsafe(0);r=r.subarray(p?33:1),r=await Hu(e,r,8);const g=bu(r.subarray(0,8));r=r.subarray(8),r=await Hu(e,r,8);const y=bu(r.subarray(0,8));r=r.subarray(8),r=await Hu(e,r,y);const b=r.subarray(0,y),w=0!==g&&0!==y?Mu(zu.from(b)):[];if(w.length!==g)throw new Error("Tags lengths don't match");r=r.subarray(y);const v=new we.Transform;v._transform=function(t,e,r){this.push(t),r()};const _=_i([fi("dataitem"),fi("1"),fi(n.toString()),f,d,m,b,v]),M=2+s+u+(l?33:1)+(p?33:1)+16+y,S=t-M;if(r.byteLength>S)v.write(r.subarray(0,S)),r=r.subarray(S);else{let t=r.byteLength;for(v.write(r);S>t;){if(r=(await e.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${S} received: ${t}`);t+=r.byteLength,t>S?v.write(r.subarray(0,r.byteLength-(t-S))):v.write(r)}r=r.subarray(r.byteLength-(t-S))}if(v.end(),i!==Jt((0,Wt.createHash)("sha256").update(c).digest()))throw new Error("ID doesn't match signature");const E=fu[n];if(!await E.verify(f,await _,c))throw new Error("Invalid signature");a.push({id:i,sigName:h,signature:Jt(zu.from(c)),target:Jt(zu.from(d)),anchor:Jt(zu.from(m)),owner:Jt(zu.from(f)),tags:w,dataOffset:o+M,dataSize:S}),o+=M+S}return a}async function ju(t,e,r,i){const n=Lu("",r,i),s=new we.PassThrough,o=[fi("dataitem"),fi("1"),fi(n.signatureType.toString()),n.rawOwner,n.rawTarget,n.rawAnchor,n.rawTags,t],a=await _i(o),u=zu.from(await r.sign(a));return n.setSignature(u),s.write(n.getRaw()),e.pipe(s)}async function Hu(t,e,r){if(e.byteLength>=r)return e;const{done:i,value:n}=await t.next();if(i&&!n)throw new Error("Invalid buffer");return Hu(t,zu.concat([zu.from(e),zu.from(n)]),r)}async function*Fu(t){for await(const e of t)yield e}const Ku=Du,$u={readBytes:Hu,getReader:Fu},Wu={...e,stream:r};globalThis.arbundles??=Wu;var Vu=__webpack_require__(8764).Buffer;class Gu{base;wallet;_address;providerUrl;providerInstance;ticker;name;irys;minConfirm=5;isSlow=!1;needsFee=!0;inheritsRPC=!1;constructor(t){Object.assign(this,t)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(t){return Jt.encode(Vu.from(await Qi().hash(await t.rawSignature())))}async price(){return Ju(this.ticker)}}async function Ju(t){const e=await Kt.get(`https://api.redstone.finance/prices?symbol=${t}&provider=redstone&limit=1`);return await ye.checkAndThrow(e,"Getting price data"),e.data[0].value}const Zu=hu;class Xu extends Gu{signer;w3signer;inheritsRPC=!0;constructor(t){super(t),this.base=["wei",1e18]}async getTx(t){const e=this.providerInstance,r=await e.getTransaction(t);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new me(r.blockNumber):void 0,amount:new me(r.value.toHexString(),16),pending:!r.blockNumber,confirmed:r.confirmations>=this.minConfirm}}ownerToAddress(t){return t.toString().toLowerCase()}async sign(t){return(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new hu(this.wallet)),this.signer}async verify(t,e,r){return Zu.verify(t,e,r)}async getCurrentHeight(){const t=this.providerInstance,e=await t.send("eth_blockNumber",[]);return new me(e,16)}async getFee(t,e){const r=this.providerInstance,i={to:e,from:this.address,value:"0x"+new me(t).toString(16)},n=await r.estimateGas(i),s=await r.getGasPrice();return new me(n.mul(s).toString())}async sendTx(t){const e=this.w3signer,r=await e.sendTransaction(t);return r?r.hash:void 0}async createTx(t,e,r){const i=ar.from(new me(t).toFixed()),n=this.w3signer,s=await n.estimateGas({to:e,from:this.address,value:i.toHexString()});let o=await n.getGasPrice();return"matic"===this.name&&(o=ar.from(new me(o.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await n.populateTransaction({to:e,from:this.address,value:i.toHexString(),gasPrice:o,gasLimit:s})}}async getPublicKey(){return this.address}async ready(){this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await(this.providerInstance?._ready?.())}}var Yu=__webpack_require__(58),Qu=__webpack_require__(3508),th=__webpack_require__(8652),eh=__webpack_require__(7191),rh=__webpack_require__(5532),ih=__webpack_require__(2023),nh=__webpack_require__(8764).Buffer;class sh extends Gu{keyPair;near;constructor(t){super(t),this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const t=new Qu.X,e=this.wallet.account();if(this.keyPair=await t.getKey(this.wallet._networkId,e.accountId),!this.keyPair){this.keyPair=Yu.KeyPair.fromRandom("ed25519");const r=this.keyPair.getPublicKey().toString();await t.setKey(this.wallet._networkId,e.accountId,this.keyPair),await e.addKey(r)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(t){const e=await this.providerInstance,[r,i]=t.split(":"),n=await e.txStatusReceipts(eh.decode(i),r),s=await e.block(n.transaction_outcome.block_hash),o=(await e.block({finality:"final"})).header.height;if(""!==n.receipts_outcome[0].outcome.status.SuccessValue)throw new Error("Transaction failed!");const a=n.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:r,to:n.transaction.receiver_id,amount:new me(a),blockHeight:new me(s.header.height),pending:!1,confirmed:o-s.header.height>=this.minConfirm}}ownerToAddress(t){const e="string"==typeof t?t:eh.encode(t);return nh.from(eh.decode(e.replace("ed25519:",""))).toString("hex")}async sign(t){return this.getSigner().sign(t)}getSigner(){return new $a(this.keyPair.secretKey)}async verify(t,e,r){return $a.verify(t,e,r)}async getCurrentHeight(){const t=await this.providerInstance.status();return new me(t.sync_info.latest_block_height)}async getFee(t,e){const r=(await this.providerInstance.block({finality:"final"})).header.height,i=await this.providerInstance.gasPrice(r);return new me(i.gas_price).multipliedBy(45e10)}async sendTx(t){const e=await this.providerInstance.sendTransaction(t);return`${this.address}:${e.transaction.hash}`}async createTx(t,e,r){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const i=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),n=++i.nonce,s=nh.from(eh.decode(i.block_hash)),o=[th.actionCreators.transfer(new ke(new me(t).toString()))],a=(0,th.createTransaction)(this.address,this.keyPair.getPublicKey(),e,n,o,s),u=(0,rh.serialize)(th.SCHEMA,a),h=new Uint8Array(ih.sha256.array(u)),c=this.keyPair.sign(h);return{tx:new th.SignedTransaction({transaction:a,signature:new th.Signature({keyType:a.publicKey.keyType,data:c.signature})}),txId:void 0}}async getPublicKey(){return nh.from(this.keyPair.getPublicKey().data)}}function oh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ah(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function uh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hh(t,e){ah(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ch="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,fh=t=>t instanceof Uint8Array,lh=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),dh=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function ph(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function mh(t){if("string"==typeof t&&(t=ph(t)),!fh(t))throw new Error("expected Uint8Array, got "+typeof t);return t}function gh(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!fh(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}class yh{clone(){return this._cloneInto()}}function bh(t){const e=e=>t().update(mh(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function wh(t=32){if(ch&&"function"==typeof ch.getRandomValues)return ch.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class vh extends yh{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=lh(this.buffer)}update(t){uh(this);const{view:e,buffer:r,blockLen:i}=this,n=(t=mh(t)).length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o!==i)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=lh(t);for(;i<=n-s;s+=i)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){uh(this),hh(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:n}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let t=s;t<i;t++)e[t]=0;!function(t,e,r,i){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),u=i?4:0,h=i?0:4;t.setUint32(e+u,o,i),t.setUint32(e+h,a,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);const o=lh(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)o.setUint32(4*t,h[t],n)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=n,t.destroyed=s,i%e&&t.buffer.set(r),t}}const _h=BigInt(2**32-1),Mh=BigInt(32);function Sh(t,e=!1){return e?{h:Number(t&_h),l:Number(t>>Mh&_h)}:{h:0|Number(t>>Mh&_h),l:0|Number(t&_h)}}function Eh(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){const{h:s,l:o}=Sh(t[n],e);[r[n],i[n]]=[s,o]}return[r,i]}const Ah=(t,e,r)=>t<<r|e>>>32-r,kh=(t,e,r)=>e<<r|t>>>32-r,xh=(t,e,r)=>e<<r-32|t>>>64-r,Th=(t,e,r)=>t<<r-32|e>>>64-r,Bh={fromBig:Sh,split:Eh,toBig:(t,e)=>BigInt(t>>>0)<<Mh|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:Ah,rotlSL:kh,rotlBH:xh,rotlBL:Th,add:function(t,e,r,i){const n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:0|n}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,i)=>e+r+i+(t/2**32|0)|0,add4L:(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),add4H:(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0,add5H:(t,e,r,i,n,s)=>e+r+i+n+s+(t/2**32|0)|0,add5L:(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0)},[Ih,Rh]=(()=>Bh.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),Ph=new Uint32Array(80),Ch=new Uint32Array(80);class Oh extends vh{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:u,El:h,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:m}=this;return[t,e,r,i,n,s,o,a,u,h,c,f,l,d,p,m]}set(t,e,r,i,n,s,o,a,u,h,c,f,l,d,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let r=0;r<16;r++,e+=4)Ph[r]=t.getUint32(e),Ch[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|Ph[t-15],r=0|Ch[t-15],i=Bh.rotrSH(e,r,1)^Bh.rotrSH(e,r,8)^Bh.shrSH(e,r,7),n=Bh.rotrSL(e,r,1)^Bh.rotrSL(e,r,8)^Bh.shrSL(e,r,7),s=0|Ph[t-2],o=0|Ch[t-2],a=Bh.rotrSH(s,o,19)^Bh.rotrBH(s,o,61)^Bh.shrSH(s,o,6),u=Bh.rotrSL(s,o,19)^Bh.rotrBL(s,o,61)^Bh.shrSL(s,o,6),h=Bh.add4L(n,u,Ch[t-7],Ch[t-16]),c=Bh.add4H(h,i,a,Ph[t-7],Ph[t-16]);Ph[t]=0|c,Ch[t]=0|h}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:a,Dh:u,Dl:h,Eh:c,El:f,Fh:l,Fl:d,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let t=0;t<80;t++){const e=Bh.rotrSH(c,f,14)^Bh.rotrSH(c,f,18)^Bh.rotrBH(c,f,41),b=Bh.rotrSL(c,f,14)^Bh.rotrSL(c,f,18)^Bh.rotrBL(c,f,41),w=c&l^~c&p,v=f&d^~f&m,_=Bh.add5L(y,b,v,Rh[t],Ch[t]),M=Bh.add5H(_,g,e,w,Ih[t],Ph[t]),S=0|_,E=Bh.rotrSH(r,i,28)^Bh.rotrBH(r,i,34)^Bh.rotrBH(r,i,39),A=Bh.rotrSL(r,i,28)^Bh.rotrBL(r,i,34)^Bh.rotrBL(r,i,39),k=r&n^r&o^n&o,x=i&s^i&a^s&a;g=0|p,y=0|m,p=0|l,m=0|d,l=0|c,d=0|f,({h:c,l:f}=Bh.add(0|u,0|h,0|M,0|S)),u=0|o,h=0|a,o=0|n,a=0|s,n=0|r,s=0|i;const T=Bh.add3L(S,A,x);r=Bh.add3H(T,M,E,k),i=0|T}({h:r,l:i}=Bh.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=Bh.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=Bh.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:h}=Bh.add(0|this.Dh,0|this.Dl,0|u,0|h)),({h:c,l:f}=Bh.add(0|this.Eh,0|this.El,0|c,0|f)),({h:l,l:d}=Bh.add(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:m}=Bh.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=Bh.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,i,n,s,o,a,u,h,c,f,l,d,p,m,g,y)}roundClean(){Ph.fill(0),Ch.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Uh=bh((()=>new Oh)),Nh=(BigInt(0),BigInt(1)),Lh=BigInt(2),qh=t=>t instanceof Uint8Array,zh=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Dh(t){if(!qh(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=zh[t[r]];return e}function jh(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function Hh(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const i=2*e,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[e]=s}return r}function Fh(t){return jh(Dh(t))}function Kh(t){if(!qh(t))throw new Error("Uint8Array expected");return jh(Dh(Uint8Array.from(t).reverse()))}function $h(t,e){return Hh(t.toString(16).padStart(2*e,"0"))}function Wh(t,e){return $h(t,e).reverse()}function Vh(t,e,r){let i;if("string"==typeof e)try{i=Hh(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!qh(e))throw new Error(`${t} must be hex string or Uint8Array`);i=Uint8Array.from(e)}const n=i.length;if("number"==typeof r&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}function Gh(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!qh(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}const Jh=t=>(Lh<<BigInt(t-1))-Nh,Zh=t=>new Uint8Array(t),Xh=t=>Uint8Array.from(t);function Yh(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let i=Zh(t),n=Zh(t),s=0;const o=()=>{i.fill(1),n.fill(0),s=0},a=(...t)=>r(n,i,...t),u=(t=Zh())=>{n=a(Xh([0]),t),i=a(),0!==t.length&&(n=a(Xh([1]),t),i=a())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){i=a();const e=i.slice();r.push(e),t+=i.length}return Gh(...r)};return(t,e)=>{let r;for(o(),u(t);!(r=e(h()));)u();return o(),r}}const Qh={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function tc(t,e,r={}){const i=(e,r,i)=>{const n=Qh[r];if("function"!=typeof n)throw new Error(`Invalid validator "${r}", expected function`);const s=t[e];if(!(i&&void 0===s||n(s,t)))throw new Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(const[t,r]of Object.entries(e))i(t,r,!1);for(const[t,e]of Object.entries(r))i(t,e,!0);return t}const ec=BigInt(0),rc=BigInt(1),ic=BigInt(2),nc=BigInt(3),sc=BigInt(4),oc=BigInt(5),ac=BigInt(8);function uc(t,e){const r=t%e;return r>=ec?r:e+r}function hc(t,e,r){if(r<=ec||e<ec)throw new Error("Expected power/modulo > 0");if(r===rc)return ec;let i=rc;for(;e>ec;)e&rc&&(i=i*t%r),t=t*t%r,e>>=rc;return i}function cc(t,e,r){let i=t;for(;e-- >ec;)i*=i,i%=r;return i}function fc(t,e){if(t===ec||e<=ec)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=uc(t,e),i=e,n=ec,s=rc,o=rc,a=ec;for(;r!==ec;){const t=i/r,e=i%r,u=n-o*t,h=s-a*t;i=r,r=e,n=o,s=a,o=u,a=h}if(i!==rc)throw new Error("invert: does not exist");return uc(n,e)}BigInt(9),BigInt(16);const lc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dc(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function pc(t,e,r=!1,i={}){if(t<=ec)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:n,nByteLength:s}=dc(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=function(t){if(t%sc===nc){const e=(t+rc)/sc;return function(t,r){const i=t.pow(r,e);if(!t.eql(t.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%ac===oc){const e=(t-oc)/ac;return function(t,r){const i=t.mul(r,ic),n=t.pow(i,e),s=t.mul(r,n),o=t.mul(t.mul(s,ic),n),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-rc)/ic;let r,i,n;for(r=t-rc,i=0;r%ic===ec;r/=ic,i++);for(n=ic;n<t&&hc(n,e,t)!==t-rc;n++);if(1===i){const e=(t+rc)/sc;return function(t,r){const i=t.pow(r,e);if(!t.eql(t.sqr(i),r))throw new Error("Cannot find square root");return i}}const s=(r+rc)/ic;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=i,u=t.pow(t.mul(t.ONE,n),r),h=t.pow(o,s),c=t.pow(o,r);for(;!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(c);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(u,rc<<BigInt(a-e-1));u=t.sqr(r),h=t.mul(h,r),c=t.mul(c,u),a=e}return h}}(t)}(t),a=Object.freeze({ORDER:t,BITS:n,BYTES:s,MASK:Jh(n),ZERO:ec,ONE:rc,create:e=>uc(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return ec<=e&&e<t},is0:t=>t===ec,isOdd:t=>(t&rc)===rc,neg:e=>uc(-e,t),eql:(t,e)=>t===e,sqr:e=>uc(e*e,t),add:(e,r)=>uc(e+r,t),sub:(e,r)=>uc(e-r,t),mul:(e,r)=>uc(e*r,t),pow:(t,e)=>function(t,e,r){if(r<ec)throw new Error("Expected power > 0");if(r===ec)return t.ONE;if(r===rc)return e;let i=t.ONE,n=e;for(;r>ec;)r&rc&&(i=t.mul(i,n)),n=t.sqr(n),r>>=rc;return i}(a,t,e),div:(e,r)=>uc(e*fc(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>fc(e,t),sqrt:i.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),i=e.reduce(((e,i,n)=>t.is0(i)?e:(r[n]=e,t.mul(e,i))),t.ONE),n=t.inv(i);return e.reduceRight(((e,i,n)=>t.is0(i)?e:(r[n]=t.mul(e,r[n]),t.mul(e,i))),n),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?Wh(t,s):$h(t,s),fromBytes:t=>{if(t.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?Kh(t):Fh(t)}});return Object.freeze(a)}function mc(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function gc(t){const e=mc(t);return e+Math.ceil(e/2)}const yc=BigInt(0),bc=BigInt(1);function wc(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},i=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let i=t.ZERO,n=e;for(;r>yc;)r&bc&&(i=i.add(n)),n=n.double(),r>>=bc;return i},precomputeWindow(t,e){const{windows:r,windowSize:n}=i(e),s=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<n;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,n,s){const{windows:o,windowSize:a}=i(e);let u=t.ZERO,h=t.BASE;const c=BigInt(2**e-1),f=2**e,l=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let i=Number(s&c);s>>=l,i>a&&(i-=f,s+=bc);const o=e,d=e+Math.abs(i)-1,p=t%2!=0,m=i<0;0===i?h=h.add(r(p,n[o])):u=u.add(r(m,n[d]))}return{p:u,f:h}},wNAFCached(t,e,r,i){const n=t._WINDOW_SIZE||1;let s=e.get(t);return s||(s=this.precomputeWindow(t,n),1!==n&&e.set(t,i(s))),this.wNAF(n,s,r)}}}function vc(t){return tc(t.Fp,lc.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),tc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dc(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const _c=BigInt(0),Mc=BigInt(1),Sc=BigInt(2),Ec=BigInt(8),Ac={zip215:!0};function kc(t){const e=function(t){const e=vc(t);return tc(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n:i,prehash:n,hash:s,randomBytes:o,nByteLength:a,h:u}=e,h=Sc<<BigInt(8*a)-Mc,c=r.create,f=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(t){return{isValid:!1,value:_c}}}),l=e.adjustScalarBytes||(t=>t),d=e.domain||((t,e,r)=>{if(e.length||r)throw new Error("Contexts/pre-hash are not supported");return t}),p=t=>"bigint"==typeof t&&_c<t,m=(t,e)=>p(t)&&p(e)&&t<e,g=t=>t===_c||m(t,h);function y(t,e){if(m(t,e))return t;throw new Error(`Expected valid scalar < ${e}, got ${typeof t} ${t}`)}function b(t){return t===_c?t:y(t,i)}const w=new Map;function v(t){if(!(t instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(t,e,r,i){if(this.ex=t,this.ey=e,this.ez=r,this.et=i,!g(t))throw new Error("x required");if(!g(e))throw new Error("y required");if(!g(r))throw new Error("z required");if(!g(i))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof _)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};if(!g(e)||!g(r))throw new Error("invalid affine point");return new _(e,r,Mc,c(e*r))}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(_.fromAffine)}_setWindowSize(t){this._WINDOW_SIZE=t,w.delete(this)}assertValidity(){const{a:t,d:r}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:i,ey:n,ez:s,et:o}=this,a=c(i*i),u=c(n*n),h=c(s*s),f=c(h*h),l=c(a*t);if(c(h*c(l+u))!==c(f+c(r*c(a*u))))throw new Error("bad point: equation left != right (1)");if(c(i*n)!==c(s*o))throw new Error("bad point: equation left != right (2)")}equals(t){v(t);const{ex:e,ey:r,ez:i}=this,{ex:n,ey:s,ez:o}=t,a=c(e*o),u=c(n*i),h=c(r*o),f=c(s*i);return a===u&&h===f}is0(){return this.equals(_.ZERO)}negate(){return new _(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:t}=e,{ex:r,ey:i,ez:n}=this,s=c(r*r),o=c(i*i),a=c(Sc*c(n*n)),u=c(t*s),h=r+i,f=c(c(h*h)-s-o),l=u+o,d=l-a,p=u-o,m=c(f*d),g=c(l*p),y=c(f*p),b=c(d*l);return new _(m,g,b,y)}add(t){v(t);const{a:r,d:i}=e,{ex:n,ey:s,ez:o,et:a}=this,{ex:u,ey:h,ez:f,et:l}=t;if(r===BigInt(-1)){const t=c((s-n)*(h+u)),e=c((s+n)*(h-u)),r=c(e-t);if(r===_c)return this.double();const i=c(o*Sc*l),d=c(a*Sc*f),p=d+i,m=e+t,g=d-i,y=c(p*r),b=c(m*g),w=c(p*g),v=c(r*m);return new _(y,b,v,w)}const d=c(n*u),p=c(s*h),m=c(a*i*l),g=c(o*f),y=c((n+s)*(u+h)-d-p),b=g-m,w=g+m,M=c(p-r*d),S=c(y*b),E=c(w*M),A=c(y*M),k=c(b*w);return new _(S,E,k,A)}subtract(t){return this.add(t.negate())}wNAF(t){return E.wNAFCached(this,w,t,_.normalizeZ)}multiply(t){const{p:e,f:r}=this.wNAF(y(t,i));return _.normalizeZ([e,r])[0]}multiplyUnsafe(t){let e=b(t);return e===_c?S:this.equals(S)||e===Mc?this:this.equals(M)?this.wNAF(e).p:E.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return E.unsafeLadder(this,i).is0()}toAffine(t){const{ex:e,ey:i,ez:n}=this,s=this.is0();null==t&&(t=s?Ec:r.inv(n));const o=c(e*t),a=c(i*t),u=c(n*t);if(s)return{x:_c,y:Mc};if(u!==Mc)throw new Error("invZ was invalid");return{x:o,y:a}}clearCofactor(){const{h:t}=e;return t===Mc?this:this.multiplyUnsafe(t)}static fromHex(t,i=!1){const{d:n,a:s}=e,o=r.BYTES,a=(t=Vh("pointHex",t,o)).slice(),u=t[o-1];a[o-1]=-129&u;const l=Kh(a);l===_c||y(l,i?h:r.ORDER);const d=c(l*l),p=c(d-Mc),m=c(n*d-s);let{isValid:g,value:b}=f(p,m);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const w=(b&Mc)===Mc,v=0!=(128&u);if(!i&&b===_c&&v)throw new Error("Point.fromHex: x=0 and x_0=1");return v!==w&&(b=c(-b)),_.fromAffine({x:b,y:l})}static fromPrivateKey(t){return x(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),i=Wh(e,r.BYTES);return i[i.length-1]|=t&Mc?128:0,i}toHex(){return Dh(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Mc,c(e.Gx*e.Gy)),_.ZERO=new _(_c,Mc,Mc,_c);const{BASE:M,ZERO:S}=_,E=wc(_,8*a);function A(t){return uc(t,i)}function k(t){return A(Kh(t))}function x(t){const e=a;t=Vh("private key",t,e);const r=Vh("hashed private key",s(t),2*e),i=l(r.slice(0,e)),n=r.slice(e,2*e),o=k(i),u=M.multiply(o),h=u.toRawBytes();return{head:i,prefix:n,scalar:o,point:u,pointBytes:h}}function T(t=new Uint8Array,...e){const r=Gh(...e);return k(s(d(r,Vh("context",t),!!n)))}const B=Ac;return M._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return x(t).pointBytes},sign:function(t,e,i={}){t=Vh("message",t),n&&(t=n(t));const{prefix:s,scalar:o,pointBytes:u}=x(e),h=T(i.context,s,t),c=M.multiply(h).toRawBytes(),f=A(h+T(i.context,c,u,t)*o);return b(f),Vh("result",Gh(c,Wh(f,r.BYTES)),2*a)},verify:function(t,e,i,s=B){const{context:o,zip215:a}=s,u=r.BYTES;t=Vh("signature",t,2*u),e=Vh("message",e),n&&(e=n(e));const h=Kh(t.slice(u,2*u));let c,f,l;try{c=_.fromHex(i,a),f=_.fromHex(t.slice(0,u),a),l=M.multiplyUnsafe(h)}catch(t){return!1}if(!a&&c.isSmallOrder())return!1;const d=T(o,f.toRawBytes(),c.toRawBytes(),e);return f.add(c.multiplyUnsafe(d)).subtract(l).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(r.BYTES),precompute:(t=8,e=_.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const xc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Tc=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Bc=(BigInt(0),BigInt(1)),Ic=BigInt(2),Rc=BigInt(5),Pc=BigInt(10),Cc=BigInt(20),Oc=BigInt(40),Uc=BigInt(80);const Nc=pc(xc,void 0,!0),Lc={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Nc,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Uh,randomBytes:wh,adjustScalarBytes:function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t},uvRatio:function(t,e){const r=xc,i=uc(e*e*e,r),n=uc(i*i*e,r);let s=uc(t*i*function(t){const e=xc,r=t*t%e*t%e,i=cc(r,Ic,e)*r%e,n=cc(i,Bc,e)*t%e,s=cc(n,Rc,e)*n%e,o=cc(s,Pc,e)*s%e,a=cc(o,Cc,e)*o%e,u=cc(a,Oc,e)*a%e,h=cc(u,Uc,e)*u%e,c=cc(h,Uc,e)*u%e,f=cc(c,Pc,e)*s%e;return{pow_p_5_8:cc(f,Ic,e)*t%e,b2:r}}(t*n).pow_p_5_8,r);const o=uc(e*s*s,r),a=s,u=uc(s*Tc,r),h=o===t,c=o===uc(-t,r),f=o===uc(-t*Tc,r);return h&&(s=a),(c||f)&&(s=u),(uc(s,r)&rc)===rc&&(s=uc(-s,r)),{isValid:h||c,value:s}}},qc=kc(Lc);const zc=(Nc.ORDER+BigInt(3))/BigInt(8);Nc.pow(Ic,zc),Nc.sqrt(Nc.neg(Nc.ONE)),Nc.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);t.isOdd(r)&&t.neg(r)}(Nc,Nc.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Dc=__webpack_require__(11),jc=__webpack_require__.n(Dc);const Hc=(t,e,r)=>t&e^t&r^e&r,Fc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$c=new Uint32Array(64);class Wc extends vh{constructor(){super(64,32,8,!1),this.A=0|Kc[0],this.B=0|Kc[1],this.C=0|Kc[2],this.D=0|Kc[3],this.E=0|Kc[4],this.F=0|Kc[5],this.G=0|Kc[6],this.H=0|Kc[7]}get(){const{A:t,B:e,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[t,e,r,i,n,s,o,a]}set(t,e,r,i,n,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)$c[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=$c[t-15],r=$c[t-2],i=dh(e,7)^dh(e,18)^e>>>3,n=dh(r,17)^dh(r,19)^r>>>10;$c[t]=n+$c[t-7]+i+$c[t-16]|0}let{A:r,B:i,C:n,D:s,E:o,F:a,G:u,H:h}=this;for(let t=0;t<64;t++){const e=h+(dh(o,6)^dh(o,11)^dh(o,25))+((c=o)&a^~c&u)+Fc[t]+$c[t]|0,f=(dh(r,2)^dh(r,13)^dh(r,22))+Hc(r,i,n)|0;h=u,u=a,a=o,o=s+e|0,s=n,n=i,i=r,r=e+f|0}var c;r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,n,s,o,a,u,h)}roundClean(){$c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vc=bh((()=>new Wc));var Gc=__webpack_require__(9386),Jc=__webpack_require__(475);class Zc extends TypeError{constructor(t,e){let r;const{message:i,...n}=t,{path:s}=t;super(0===s.length?i:"At path: "+s.join(".")+" -- "+i),Object.assign(this,n),this.name=this.constructor.name,this.failures=()=>{var i;return null!=(i=r)?i:r=[t,...e()]}}}function Xc(t){return"object"==typeof t&&null!=t}function Yc(t){return"string"==typeof t?JSON.stringify(t):""+t}function Qc(t,e,r,i){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:n,branch:s}=e,{type:o}=r,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Yc(i)+"`"}=t;return{value:i,type:o,refinement:a,key:n[n.length-1],path:n,branch:s,...t,message:u}}function*tf(t,e,r,i){(function(t){return Xc(t)&&"function"==typeof t[Symbol.iterator]})(t)||(t=[t]);for(const n of t){const t=Qc(n,e,r,i);t&&(yield t)}}function*ef(t,e,r={}){const{path:i=[],branch:n=[t],coerce:s=!1,mask:o=!1}=r,a={path:i,branch:n};if(s&&(t=e.coercer(t,a),o&&"type"!==e.type&&Xc(e.schema)&&Xc(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let u=!0;for(const r of e.validator(t,a))u=!1,yield[r,void 0];for(let[r,h,c]of e.entries(t,a)){const e=ef(h,c,{path:void 0===r?i:[...i,r],branch:void 0===r?n:[...n,h],coerce:s,mask:o});for(const i of e)i[0]?(u=!1,yield[i[0],void 0]):s&&(h=i[1],void 0===r?t=h:t instanceof Map?t.set(r,h):t instanceof Set?t.add(h):Xc(t)&&(t[r]=h))}if(u)for(const r of e.refiner(t,a))u=!1,yield[r,void 0];u&&(yield[void 0,t])}class rf{constructor(t){const{type:e,schema:r,validator:i,refiner:n,coercer:s=(t=>t),entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=i?(t,e)=>tf(i(t,e),e,this,t):()=>[],this.refiner=n?(t,e)=>tf(n(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=of(t,e);if(r[0])throw r[0]}(t,this)}create(t){return nf(t,this)}is(t){return sf(t,this)}mask(t){return function(t,e){const r=of(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e={}){return of(t,this,e)}}function nf(t,e){const r=of(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function sf(t,e){return!of(t,e)[0]}function of(t,e,r={}){const i=ef(t,e,r),n=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(i);return n[0]?[new Zc(n[0],(function*(){for(const t of i)t[0]&&(yield t[0])})),void 0]:[void 0,n[1]]}function af(t,e){return new rf({type:t,schema:null,validator:e})}function uf(t){return new rf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,i]of e.entries())yield[r,i,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Yc(t)})}function hf(){return af("boolean",(t=>"boolean"==typeof t))}function cf(t){return af("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Yc(e)))}function ff(t){const e=Yc(t),r=typeof t;return new rf({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+Yc(r)})}function lf(t){return new rf({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function df(){return af("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Yc(t)))}function pf(t){return new rf({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function mf(t,e){return new rf({type:"record",schema:null,*entries(r){if(Xc(r))for(const i in r){const n=r[i];yield[i,i,t],yield[i,n,e]}},validator:t=>Xc(t)||"Expected an object, but received: "+Yc(t)})}function gf(){return af("string",(t=>"string"==typeof t||"Expected a string, but received: "+Yc(t)))}function yf(t){const e=af("never",(()=>!1));return new rf({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const i=Math.max(t.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],t[n]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+Yc(t)})}function bf(t){const e=Object.keys(t);return new rf({type:"type",schema:t,*entries(r){if(Xc(r))for(const i of e)yield[i,r[i],t[i]]},validator:t=>Xc(t)||"Expected an object, but received: "+Yc(t)})}function wf(t){const e=t.map((t=>t.type)).join(" | ");return new rf({type:"union",schema:null,validator(r,i){const n=[];for(const e of t){const[...t]=ef(r,e,i),[s]=t;if(!s[0])return[];for(const[e]of t)e&&n.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Yc(r),...n]}})}function vf(){return af("unknown",(()=>!0))}function _f(t,e,r){return new rf({...t,coercer:(i,n)=>sf(i,e)?t.coercer(r(i,n),n):t.coercer(i,n)})}var Mf=__webpack_require__(1198),Sf=__webpack_require__.n(Mf),Ef=__webpack_require__(6855),Af=__webpack_require__(9062);const[kf,xf,Tf]=[[],[],[]],Bf=BigInt(0),If=BigInt(1),Rf=BigInt(2),Pf=BigInt(7),Cf=BigInt(256),Of=BigInt(113);for(let t=0,e=If,r=1,i=0;t<24;t++){[r,i]=[i,(2*r+3*i)%5],kf.push(2*(5*i+r)),xf.push((t+1)*(t+2)/2%64);let n=Bf;for(let t=0;t<7;t++)e=(e<<If^(e>>Pf)*Of)%Cf,e&Rf&&(n^=If<<(If<<BigInt(t))-If);Tf.push(n)}const[Uf,Nf]=Eh(Tf,!0),Lf=(t,e,r)=>r>32?xh(t,e,r):Ah(t,e,r),qf=(t,e,r)=>r>32?Th(t,e,r):kh(t,e,r);class zf extends yh{constructor(t,e,r,i=!1,n=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,oh(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const i=(e+8)%10,n=(e+2)%10,s=r[n],o=r[n+1],a=Lf(s,o,1)^r[i],u=qf(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],n=t[3];for(let r=0;r<24;r++){const i=xf[r],s=Lf(e,n,i),o=qf(e,n,i),a=kf[r];e=t[a],n=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let i=0;i<10;i++)r[i]=t[e+i];for(let i=0;i<10;i++)t[e+i]^=~r[(i+2)%10]&r[(i+4)%10]}t[0]^=Uf[i],t[1]^=Nf[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){uh(this);const{blockLen:e,state:r}=this,i=(t=mh(t)).length;for(let n=0;n<i;){const s=Math.min(e-this.pos,i-n);for(let e=0;e<s;e++)r[this.pos++]^=t[n++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:i}=this;t[r]^=e,0!=(128&e)&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){uh(this,!1),ah(t),this.finish();const e=this.state,{blockLen:r}=this;for(let i=0,n=t.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);t.set(e.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return oh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(hh(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return t||(t=new zf(e,r,i,s,n)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=n,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Df=((t,e,r)=>bh((()=>new zf(e,t,r))))(1,136,32);class jf extends yh{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");oh(t.outputLen),oh(t.blockLen)}(t);const r=mh(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?t.create().update(r).digest():r);for(let t=0;t<n.length;t++)n[t]^=54;this.iHash.update(n),this.oHash=t.create();for(let t=0;t<n.length;t++)n[t]^=106;this.oHash.update(n),n.fill(0)}update(t){return uh(this),this.iHash.update(t),this}digestInto(t){uh(this),ah(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return t.finished=i,t.destroyed=n,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hf=(t,e,r)=>new jf(t,e).update(r).digest();Hf.create=(t,e)=>new jf(t,e);const{bytesToNumberBE:Ff,hexToBytes:Kf}=n,$f={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=$f;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(128&i[0])throw new e("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Ff(i),l:t.subarray(r+2)}},toSig(t){const{Err:e}=$f,r="string"==typeof t?Kf(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:n,l:s}=$f._parseInt(r.subarray(2)),{d:o,l:a}=$f._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s:o}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},i=e(r(t.s)),n=e(r(t.r)),s=i.length/2,o=n.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${n}02${a}${i}`}},Wf=BigInt(0),Vf=BigInt(1),Gf=(BigInt(2),BigInt(3));function Jf(t){const e=function(t){const e=vc(t);return tc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:i}=e,n=r.BYTES+1,s=2*r.BYTES+1;function o(t){return uc(t,i)}function a(t){return fc(t,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:c,isWithinCurveOrder:f}=function(t){const e=function(t){const e=vc(t);tc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,i=e.toBytes||((t,e,i)=>{const n=e.toAffine();return Gh(Uint8Array.from([4]),r.toBytes(n.x),r.toBytes(n.y))}),n=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function s(t){const{a:i,b:n}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,i)),n)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(t){return"bigint"==typeof t&&Wf<t&&t<e.n}function a(t){if(!o(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(t){const{allowedPrivateKeyLengths:r,nByteLength:i,wrapPrivateKey:n,n:s}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=Dh(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*i,"0")}let o;try{o="bigint"==typeof t?t:Fh(Vh("private key",t,i))}catch(e){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof t}`)}return n&&(o=uc(o,s)),a(o),o}const h=new Map;function c(t){if(!(t instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(t,e,i){if(this.px=t,this.py=e,this.pz=i,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==i||!r.isValid(i))throw new Error("z required")}static fromAffine(t){const{x:e,y:i}=t||{};if(!t||!r.isValid(e)||!r.isValid(i))throw new Error("invalid affine point");if(t instanceof f)throw new Error("projective point not allowed");const n=t=>r.eql(t,r.ZERO);return n(e)&&n(i)?f.ZERO:new f(e,i,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(f.fromAffine)}static fromHex(t){const e=f.fromAffine(n(Vh("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return f.BASE.multiply(u(t))}_setWindowSize(t){this._WINDOW_SIZE=t,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:i}=this.toAffine();if(!r.isValid(t)||!r.isValid(i))throw new Error("bad point: x or y not FE");const n=r.sqr(i),o=s(t);if(!r.eql(n,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){c(t);const{px:e,py:i,pz:n}=this,{px:s,py:o,pz:a}=t,u=r.eql(r.mul(e,a),r.mul(s,n)),h=r.eql(r.mul(i,a),r.mul(o,n));return u&&h}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:i}=e,n=r.mul(i,Gf),{px:s,py:o,pz:a}=this;let u=r.ZERO,h=r.ZERO,c=r.ZERO,l=r.mul(s,s),d=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),c=r.mul(s,a),c=r.add(c,c),u=r.mul(t,c),h=r.mul(n,p),h=r.add(u,h),u=r.sub(d,h),h=r.add(d,h),h=r.mul(u,h),u=r.mul(m,u),c=r.mul(n,c),p=r.mul(t,p),m=r.sub(l,p),m=r.mul(t,m),m=r.add(m,c),c=r.add(l,l),l=r.add(c,l),l=r.add(l,p),l=r.mul(l,m),h=r.add(h,l),p=r.mul(o,a),p=r.add(p,p),l=r.mul(p,m),u=r.sub(u,l),c=r.mul(p,d),c=r.add(c,c),c=r.add(c,c),new f(u,h,c)}add(t){c(t);const{px:i,py:n,pz:s}=this,{px:o,py:a,pz:u}=t;let h=r.ZERO,l=r.ZERO,d=r.ZERO;const p=e.a,m=r.mul(e.b,Gf);let g=r.mul(i,o),y=r.mul(n,a),b=r.mul(s,u),w=r.add(i,n),v=r.add(o,a);w=r.mul(w,v),v=r.add(g,y),w=r.sub(w,v),v=r.add(i,s);let _=r.add(o,u);return v=r.mul(v,_),_=r.add(g,b),v=r.sub(v,_),_=r.add(n,s),h=r.add(a,u),_=r.mul(_,h),h=r.add(y,b),_=r.sub(_,h),d=r.mul(p,v),h=r.mul(m,b),d=r.add(h,d),h=r.sub(y,d),d=r.add(y,d),l=r.mul(h,d),y=r.add(g,g),y=r.add(y,g),b=r.mul(p,b),v=r.mul(m,v),y=r.add(y,b),b=r.sub(g,b),b=r.mul(p,b),v=r.add(v,b),g=r.mul(y,v),l=r.add(l,g),g=r.mul(_,v),h=r.mul(w,h),h=r.sub(h,g),g=r.mul(w,y),d=r.mul(_,d),d=r.add(d,g),new f(h,l,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(f.ZERO)}wNAF(t){return d.wNAFCached(this,h,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(f.fromAffine)}))}multiplyUnsafe(t){const i=f.ZERO;if(t===Wf)return i;if(a(t),t===Vf)return this;const{endo:n}=e;if(!n)return d.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:u,k2:h}=n.splitScalar(t),c=i,l=i,p=this;for(;o>Wf||h>Wf;)o&Vf&&(c=c.add(p)),h&Vf&&(l=l.add(p)),p=p.double(),o>>=Vf,h>>=Vf;return s&&(c=c.negate()),u&&(l=l.negate()),l=new f(r.mul(l.px,n.beta),l.py,l.pz),c.add(l)}multiply(t){a(t);let i,n,s=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:u}=o.splitScalar(s);let{p:h,f:c}=this.wNAF(e),{p:l,f:p}=this.wNAF(u);h=d.constTimeNegate(t,h),l=d.constTimeNegate(a,l),l=new f(r.mul(l.px,o.beta),l.py,l.pz),i=h.add(l),n=c.add(p)}else{const{p:t,f:e}=this.wNAF(s);i=t,n=e}return f.normalizeZ([i,n])[0]}multiplyAndAddUnsafe(t,e,r){const i=f.BASE,n=(t,e)=>e!==Wf&&e!==Vf&&t.equals(i)?t.multiply(e):t.multiplyUnsafe(e),s=n(this,e).add(n(t,r));return s.is0()?void 0:s}toAffine(t){const{px:e,py:i,pz:n}=this,s=this.is0();null==t&&(t=s?r.ONE:r.inv(n));const o=r.mul(e,t),a=r.mul(i,t),u=r.mul(n,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===Vf)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===Vf?this:r?r(f,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),i(f,this,t)}toHex(t=!0){return Dh(this.toRawBytes(t))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const l=e.nBitLength,d=wc(f,e.endo?Math.ceil(l/2):l);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}({...e,toBytes(t,e,i){const n=e.toAffine(),s=r.toBytes(n.x),o=Gh;return i?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(n.y))},fromBytes(t){const e=t.length,i=t[0],o=t.subarray(1);if(e!==n||2!==i&&3!==i){if(e===s&&4===i)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${n} compressed bytes or ${s} uncompressed bytes`)}{const t=Fh(o);if(!(Wf<(a=t)&&a<r.ORDER))throw new Error("Point is not on curve");const e=c(t);let n=r.sqrt(e);return 1==(1&i)!=((n&Vf)===Vf)&&(n=r.neg(n)),{x:t,y:n}}var a}}),l=t=>Dh($h(t,e.nByteLength));function d(t){return t>i>>Vf}const p=(t,e,r)=>Fh(t.slice(e,r));class m{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=Vh("compactSignature",t,2*r),new m(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=$f.toSig(Vh("DER",t));return new m(e,r)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new m(this.r,this.s,t)}recoverPublicKey(t){const{r:i,s:n,recovery:s}=this,h=w(Vh("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?i+e.n:i;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0==(1&s)?"02":"03",d=u.fromHex(f+l(c)),p=a(c),m=o(-h*p),g=o(n*p),y=u.BASE.multiplyAndAddUnsafe(d,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Hh(this.toDERHex())}toDERHex(){return $f.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hh(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const g={isValidPrivateKey(t){try{return h(t),!0}catch(t){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const t=gc(e.n);return function(t,e,r=!1){const i=t.length,n=mc(e),s=gc(e);if(i<16||i<s||i>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${i}`);const o=uc(r?Fh(t):Kh(t),e-rc)+rc;return r?Wh(o,n):$h(o,n)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=t instanceof Uint8Array,r="string"==typeof t,i=(e||r)&&t.length;return e?i===n||i===s:r?i===2*n||i===2*s:t instanceof u}const b=e.bits2int||function(t){const r=Fh(t),i=8*t.length-e.nBitLength;return i>0?r>>BigInt(i):r},w=e.bits2int_modN||function(t){return o(b(t))},v=Jh(e.nBitLength);function _(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(Wf<=t&&t<v))throw new Error(`bigint expected < 2^${e.nBitLength}`);return $h(t,e.nByteLength)}const M={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(h(t)).toRawBytes(r)},sign:function(t,i,n=M){const{seed:s,k2sig:c}=function(t,i,n=M){if(["recovered","canonical"].some((t=>t in n)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=e;let{lowS:l,prehash:p,extraEntropy:g}=n;null==l&&(l=!0),t=Vh("msgHash",t),p&&(t=Vh("prehashed msgHash",s(t)));const y=w(t),v=h(i),S=[_(v),_(y)];if(null!=g){const t=!0===g?c(r.BYTES):g;S.push(Vh("extraEntropy",t))}const E=Gh(...S),A=y;return{seed:E,k2sig:function(t){const e=b(t);if(!f(e))return;const r=a(e),i=u.BASE.multiply(e).toAffine(),n=o(i.x);if(n===Wf)return;const s=o(r*o(A+n*v));if(s===Wf)return;let h=(i.x===n?0:2)|Number(i.y&Vf),c=s;return l&&d(s)&&(c=function(t){return d(t)?o(-t):t}(s),h^=1),new m(n,c,h)}}}(t,i,n),l=e;return Yh(l.hash.outputLen,l.nByteLength,l.hmac)(s,c)},verify:function(t,r,i,n=S){const s=t;if(r=Vh("msgHash",r),i=Vh("publicKey",i),"strict"in n)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:c}=n;let f,l;try{if("string"==typeof s||s instanceof Uint8Array)try{f=m.fromDER(s)}catch(t){if(!(t instanceof $f.Err))throw t;f=m.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw new Error("PARSE");{const{r:t,s:e}=s;f=new m(t,e)}}l=u.fromHex(i)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&f.hasHighS())return!1;c&&(r=e.hash(r));const{r:d,s:p}=f,g=w(r),y=a(p),b=o(g*y),v=o(d*y),_=u.BASE.multiplyAndAddUnsafe(l,b,v)?.toAffine();return!!_&&o(_.x)===d},ProjectivePoint:u,Signature:m,utils:g}}function Zf(t){return{hash:t,hmac:(e,...r)=>Hf(t,e,gh(...r)),randomBytes:wh}}BigInt(4);const Xf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qf=BigInt(1),tl=BigInt(2),el=(t,e)=>(t+e/tl)/e;const rl=pc(Xf,void 0,void 0,{sqrt:function(t){const e=Xf,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),h=t*t*t%e,c=h*h*t%e,f=cc(c,r,e)*c%e,l=cc(f,r,e)*c%e,d=cc(l,tl,e)*h%e,p=cc(d,n,e)*d%e,m=cc(p,s,e)*p%e,g=cc(m,a,e)*m%e,y=cc(g,u,e)*g%e,b=cc(y,a,e)*m%e,w=cc(b,r,e)*c%e,v=cc(w,o,e)*p%e,_=cc(v,i,e)*h%e,M=cc(_,tl,e);if(!rl.eql(rl.sqr(M),t))throw new Error("Cannot find square root");return M}}),il=function(t,e){const r=e=>Jf({...t,...Zf(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:rl,n:Yf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Yf,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Qf*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=el(s*t,e),u=el(-i*t,e);let h=uc(t-a*r-u*n,e),c=uc(-a*i-u*s,e);const f=h>o,l=c>o;if(f&&(h=e-h),l&&(c=e-c),h>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:h,k2neg:l,k2:c}}}},Vc);BigInt(0),il.ProjectivePoint,qc.utils.randomPrivateKey;const nl=()=>{const t=qc.utils.randomPrivateKey(),e=sl(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},sl=qc.getPublicKey;function ol(t){try{return qc.ExtendedPoint.fromHex(t),!0}catch{return!1}}const al=(t,e)=>qc.sign(t,e.slice(0,32)),ul=qc.verify,hl=t=>Ta.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ta.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ta.Buffer.from(t);class cl{constructor(t){Object.assign(this,t)}encode(){return Ta.Buffer.from((0,rh.serialize)(fl,this))}static decode(t){return(0,rh.deserialize)(fl,this,t)}static decodeUnchecked(t){return(0,rh.deserializeUnchecked)(fl,this,t)}}const fl=new Map;var ll;let dl;const pl=32;let ml=1;dl=Symbol.toStringTag;class gl extends cl{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=jc().decode(t);if(e.length!=pl)throw new Error("Invalid public key input");this._bn=new(xe())(e)}else this._bn=new(xe())(t);if(this._bn.byteLength()>pl)throw new Error("Invalid public key input")}}static unique(){const t=new gl(ml);return ml+=1,new gl(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return jc().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ta.Buffer);if(t.length===pl)return t;const e=Ta.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[dl](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const i=Ta.Buffer.concat([t.toBuffer(),Ta.Buffer.from(e),r.toBuffer()]),n=Vc(i);return new gl(n)}static createProgramAddressSync(t,e){let r=Ta.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");r=Ta.Buffer.concat([r,hl(t)])})),r=Ta.Buffer.concat([r,e.toBuffer(),Ta.Buffer.from("ProgramDerivedAddress")]);const i=Vc(r);if(ol(i))throw new Error("Invalid seeds, address must fall off the curve");return new gl(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,i=255;for(;0!=i;){try{const n=t.concat(Ta.Buffer.from([i]));r=this.createProgramAddressSync(n,e)}catch(t){if(t instanceof TypeError)throw t;i--;continue}return[r,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return ol(new gl(t).toBytes())}}ll=gl,gl.default=new ll("11111111111111111111111111111111"),fl.set(gl,{kind:"struct",fields:[["_bn","u256"]]}),new gl("BPFLoader1111111111111111111111111111111111");const yl=1232;class bl extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(bl.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class wl extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(wl.prototype,"name",{value:"TransactionExpiredTimeoutError"});class vl extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(vl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class _l{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,r)=>{e.set(t.toBase58(),r)}));const r=t=>{const r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((t=>({programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((t=>r(t.pubkey))),data:t.data})))}}const Ml=(t="publicKey")=>Gc.Ik(32,t),Sl=(t="string")=>{const e=Gc.n_([Gc.Jq("length"),Gc.Jq("lengthPadding"),Gc.Ik(Gc.cv(Gc.Jq(),-8),"chars")],t),r=e.decode.bind(e),i=e.encode.bind(e),n=e;return n.decode=(t,e)=>r(t,e).chars.toString(),n.encode=(t,e,r)=>{const n={chars:Ta.Buffer.from(t,"utf8")};return i(n,e,r)},n.alloc=t=>Gc.Jq().span+Gc.Jq().span+Ta.Buffer.from(t,"utf8").length,n};function El(t,e){const r=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const i=e[t.property];if(Array.isArray(i))return i.length*r(t.elementLayout)}else if("fields"in t)return El({layout:t},e[t.property]);return 0};let i=0;return t.layout.fields.forEach((t=>{i+=r(t)})),i}function Al(t){let e=0,r=0;for(;;){let i=t.shift();if(e|=(127&i)<<7*r,r+=1,0==(128&i))break}return e}function kl(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}function xl(t,e){if(!t)throw new Error(e||"Assertion failed")}class Tl{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,i=t=>{const e=t.toBase58();let i=r.get(e);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,i)),i},n=i(e);n.isSigner=!0,n.isWritable=!0;for(const e of t){i(e.programId).isInvoked=!0;for(const t of e.keys){const e=i(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new Tl(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];xl(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),r=t.filter((([,t])=>t.isSigner&&!t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&t.isWritable)),n=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:n.length};{xl(e.length>0,"Expected at least one writable signer key");const[t]=e[0];xl(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...e.map((([t])=>new gl(t))),...r.map((([t])=>new gl(t))),...i.map((([t])=>new gl(t))),...n.map((([t])=>new gl(t)))]]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[i,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==i.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:r,readonly:n}]}drainKeysFoundInLookupTable(t,e){const r=new Array,i=new Array;for(const[n,s]of this.keyMetaMap.entries())if(e(s)){const e=new gl(n),s=t.findIndex((t=>t.equals(e)));s>=0&&(xl(s<256,"Max lookup table index exceeded"),r.push(s),i.push(e),this.keyMetaMap.delete(n))}return[r,i]}}class Bl{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new gl(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:jc().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new _l(this.staticAccountKeys)}static compile(t){const e=Tl.compile(t.instructions,t.payerKey),[r,i]=e.getMessageComponents(),n=new _l(i).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:jc().encode(t.data)})));return new Bl({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:n})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];kl(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,i=Array.from(jc().decode(t.data));let n=[];kl(n,e.length);let s=[];return kl(s,i.length),{programIdIndex:r,keyIndicesCount:Ta.Buffer.from(n),keyIndices:e,dataLength:Ta.Buffer.from(s),data:i}}));let i=[];kl(i,r.length);let n=Ta.Buffer.alloc(yl);Ta.Buffer.from(i).copy(n);let s=i.length;r.forEach((t=>{const e=Gc.n_([Gc.u8("programIdIndex"),Gc.Ik(t.keyIndicesCount.length,"keyIndicesCount"),Gc.A9(Gc.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Gc.Ik(t.dataLength.length,"dataLength"),Gc.A9(Gc.u8("userdatum"),t.data.length,"data")]).encode(t,n,s);s+=e})),n=n.slice(0,s);const o=Gc.n_([Gc.Ik(1,"numRequiredSignatures"),Gc.Ik(1,"numReadonlySignedAccounts"),Gc.Ik(1,"numReadonlyUnsignedAccounts"),Gc.Ik(e.length,"keyCount"),Gc.A9(Ml("key"),t,"keys"),Ml("recentBlockhash")]),a={numRequiredSignatures:Ta.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ta.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ta.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ta.Buffer.from(e),keys:this.accountKeys.map((t=>hl(t.toBytes()))),recentBlockhash:jc().decode(this.recentBlockhash)};let u=Ta.Buffer.alloc(2048);const h=o.encode(a,u);return n.copy(u,h),u.slice(0,h+n.length)}static from(t){let e=[...t];const r=e.shift();if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=e.shift(),n=e.shift(),s=Al(e);let o=[];for(let t=0;t<s;t++){const t=e.slice(0,pl);e=e.slice(pl),o.push(new gl(Ta.Buffer.from(t)))}const a=e.slice(0,pl);e=e.slice(pl);const u=Al(e);let h=[];for(let t=0;t<u;t++){const t=e.shift(),r=Al(e),i=e.slice(0,r);e=e.slice(r);const n=Al(e),s=e.slice(0,n),o=jc().encode(Ta.Buffer.from(s));e=e.slice(n),h.push({programIdIndex:t,accounts:i,data:o})}const c={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:n},recentBlockhash:jc().encode(Ta.Buffer.from(a)),accountKeys:o,instructions:h};return new Bl(c)}}class Il{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new _l(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return t>=r?t-r<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0):t>=this.header.numRequiredSignatures?t-e<r-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find((t=>t.key.equals(r.accountKey)));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const t of r.writableIndexes){if(!(t<i.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.writable.push(i.state.addresses[t])}for(const t of r.readonlyIndexes){if(!(t<i.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.readonly.push(i.state.addresses[t])}}return e}static compile(t){const e=Tl.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},n=t.addressLookupTableAccounts||[];for(const t of n){const n=e.extractTableLookup(t);if(void 0!==n){const[t,{writable:e,readonly:s}]=n;r.push(t),i.writable.push(...e),i.readonly.push(...s)}}const[s,o]=e.getMessageComponents(),a=new _l(o,i).compileInstructions(t.instructions);return new Il({header:s,staticAccountKeys:o,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const t=Array();kl(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();kl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),n=Array();kl(n,this.addressTableLookups.length);const s=Gc.n_([Gc.u8("prefix"),Gc.n_([Gc.u8("numRequiredSignatures"),Gc.u8("numReadonlySignedAccounts"),Gc.u8("numReadonlyUnsignedAccounts")],"header"),Gc.Ik(t.length,"staticAccountKeysLength"),Gc.A9(Ml(),this.staticAccountKeys.length,"staticAccountKeys"),Ml("recentBlockhash"),Gc.Ik(r.length,"instructionsLength"),Gc.Ik(e.length,"serializedInstructions"),Gc.Ik(n.length,"addressTableLookupsLength"),Gc.Ik(i.length,"serializedAddressTableLookups")]),o=new Uint8Array(yl),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:jc().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(n),serializedAddressTableLookups:i},o);return o.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(yl);for(const r of this.compiledInstructions){const i=Array();kl(i,r.accountKeyIndexes.length);const n=Array();kl(n,r.data.length),t+=Gc.n_([Gc.u8("programIdIndex"),Gc.Ik(i.length,"encodedAccountKeyIndexesLength"),Gc.A9(Gc.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Gc.Ik(n.length,"encodedDataLength"),Gc.Ik(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(n),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(yl);for(const r of this.addressTableLookups){const i=Array();kl(i,r.writableIndexes.length);const n=Array();kl(n,r.readonlyIndexes.length),t+=Gc.n_([Ml("accountKey"),Gc.Ik(i.length,"encodedWritableIndexesLength"),Gc.A9(Gc.u8(),r.writableIndexes.length,"writableIndexes"),Gc.Ik(n.length,"encodedReadonlyIndexesLength"),Gc.A9(Gc.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(n),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=e.shift(),i=127&r;xl(r!==i,"Expected versioned message but received legacy message"),xl(0===i,`Expected versioned message with version 0 but found version ${i}`);const n={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},s=[],o=Al(e);for(let t=0;t<o;t++)s.push(new gl(e.splice(0,pl)));const a=jc().encode(e.splice(0,pl)),u=Al(e),h=[];for(let t=0;t<u;t++){const t=e.shift(),r=Al(e),i=e.splice(0,r),n=Al(e),s=new Uint8Array(e.splice(0,n));h.push({programIdIndex:t,accountKeyIndexes:i,data:s})}const c=Al(e),f=[];for(let t=0;t<c;t++){const t=new gl(e.splice(0,pl)),r=Al(e),i=e.splice(0,r),n=Al(e),s=e.splice(0,n);f.push({accountKey:t,writableIndexes:i,readonlyIndexes:s})}return new Il({header:n,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:h,addressTableLookups:f})}}let Rl=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Pl=Ta.Buffer.alloc(64).fill(0);class Cl{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Ta.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Ol{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Cl(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const i=[],n=[];e.forEach((t=>{t.keys.forEach((t=>{n.push({...t})}));const e=t.programId.toString();i.includes(e)||i.push(e)})),i.forEach((t=>{n.push({pubkey:new gl(t),isSigner:!1,isWritable:!1})}));const s=[];n.forEach((t=>{const e=t.pubkey.toString(),r=s.findIndex((t=>t.pubkey.toString()===e));r>-1?(s[r].isWritable=s[r].isWritable||t.isWritable,s[r].isSigner=s[r].isSigner||t.isSigner):s.push(t)})),s.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((t=>t.pubkey.equals(r)));if(o>-1){const[t]=s.splice(o,1);t.isSigner=!0,t.isWritable=!0,s.unshift(t)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,h=0;const c=[],f=[];s.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(c.push(t.toString()),a+=1,r||(u+=1)):(f.push(t.toString()),r||(h+=1))}));const l=c.concat(f),d=e.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:l.indexOf(r.toString()),accounts:t.keys.map((t=>l.indexOf(t.pubkey.toString()))),data:jc().encode(e)}}));return d.forEach((t=>{xl(t.programIdIndex>=0),t.accounts.forEach((t=>xl(t>=0)))})),new Bl({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h},accountKeys:l,recentBlockhash:t,instructions:d})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(((t,r)=>e[r].equals(t.publicKey)))||(this.signatures=e.map((t=>({signature:null,publicKey:t})))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),r.push(i))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),r.push(i))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=al(r,t.secretKey);this._addSignature(t.publicKey,hl(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){xl(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Ta.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}_verifySignatures(t,e){for(const{signature:r,publicKey:i}of this.signatures)if(null===r){if(e)return!1}else if(!ul(r,t,i.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r&&!this._verifySignatures(i,e))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(t){const{signatures:e}=this,r=[];kl(r,e.length);const i=r.length+64*e.length+t.length,n=Ta.Buffer.alloc(i);return xl(e.length<256),Ta.Buffer.from(r).copy(n,0),e.forEach((({signature:t},e)=>{null!==t&&(xl(64===t.length,"signature has invalid length"),Ta.Buffer.from(t).copy(n,r.length+64*e))})),t.copy(n,r.length+64*e.length),xl(n.length<=yl,`Transaction too large: ${n.length} > 1232`),n}get keys(){return xl(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return xl(1===this.instructions.length),this.instructions[0].programId}get data(){return xl(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Al(e);let i=[];for(let t=0;t<r;t++){const t=e.slice(0,64);e=e.slice(64),i.push(jc().encode(Ta.Buffer.from(t)))}return Ol.populate(Bl.from(e),i)}static populate(t,e=[]){const r=new Ol;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,i)=>{const n={signature:e==jc().encode(Pl)?null:jc().decode(e),publicKey:t.accountKeys[i]};r.signatures.push(n)})),t.instructions.forEach((e=>{const i=e.accounts.map((e=>{const i=t.accountKeys[e];return{pubkey:i,isSigner:r.signatures.some((t=>t.publicKey.toString()===i.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new Cl({keys:i,programId:t.accountKeys[e.programIdIndex],data:jc().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}const Ul=new gl("SysvarC1ock11111111111111111111111111111111"),Nl=(new gl("SysvarEpochSchedu1e111111111111111111111111"),new gl("Sysvar1nstructions1111111111111111111111111"),new gl("SysvarRecentB1ockHashes11111111111111111111")),Ll=new gl("SysvarRent111111111111111111111111111111111"),ql=(new gl("SysvarRewards111111111111111111111111111111"),new gl("SysvarS1otHashes111111111111111111111111111"),new gl("SysvarS1otHistory11111111111111111111111111"),new gl("SysvarStakeHistory1111111111111111111111111"));async function zl(t,e,r,i){const n=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},s=await t.sendTransaction(e,r,n);let o;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)o=(await t.confirmTransaction({abortSignal:i?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:r}=e.nonceInfo,n=r.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:n,nonceValue:e.nonceInfo.nonce,signature:s},i&&i.commitment)).value}else null!=i?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,i&&i.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Dl(t){return new Promise((e=>setTimeout(e,t)))}function jl(t,e){const r=t.layout.span>=0?t.layout.span:El(t,e),i=Ta.Buffer.alloc(r),n=Object.assign({instruction:t.index},e);return t.layout.encode(n,i),i}const Hl=Gc._O("lamportsPerSignature"),Fl=Gc.n_([Gc.Jq("version"),Gc.Jq("state"),Ml("authorizedPubkey"),Ml("nonce"),Gc.n_([Hl],"feeCalculator")]),Kl=Fl.span;class $l{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Fl.decode(hl(t),0);return new $l({authorizedPubkey:new gl(e.authorizedPubkey),nonce:new gl(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Wl=(8,t=>{const e=(0,Gc.Ik)(8,t),{encode:r,decode:i}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),n=e;return n.decode=(t,e)=>{const r=i(t,e);return(0,Jc.oU)(Ta.Buffer.from(r))},n.encode=(t,e,i)=>{const n=(0,Jc.k$)(t,8);return r(n,e,i)},n});const Vl=Object.freeze({Create:{index:0,layout:Gc.n_([Gc.Jq("instruction"),Gc.gM("lamports"),Gc.gM("space"),Ml("programId")])},Assign:{index:1,layout:Gc.n_([Gc.Jq("instruction"),Ml("programId")])},Transfer:{index:2,layout:Gc.n_([Gc.Jq("instruction"),Wl("lamports")])},CreateWithSeed:{index:3,layout:Gc.n_([Gc.Jq("instruction"),Ml("base"),Sl("seed"),Gc.gM("lamports"),Gc.gM("space"),Ml("programId")])},AdvanceNonceAccount:{index:4,layout:Gc.n_([Gc.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Gc.n_([Gc.Jq("instruction"),Gc.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Gc.n_([Gc.Jq("instruction"),Ml("authorized")])},AuthorizeNonceAccount:{index:7,layout:Gc.n_([Gc.Jq("instruction"),Ml("authorized")])},Allocate:{index:8,layout:Gc.n_([Gc.Jq("instruction"),Gc.gM("space")])},AllocateWithSeed:{index:9,layout:Gc.n_([Gc.Jq("instruction"),Ml("base"),Sl("seed"),Gc.gM("space"),Ml("programId")])},AssignWithSeed:{index:10,layout:Gc.n_([Gc.Jq("instruction"),Ml("base"),Sl("seed"),Ml("programId")])},TransferWithSeed:{index:11,layout:Gc.n_([Gc.Jq("instruction"),Wl("lamports"),Sl("seed"),Ml("programId")])},UpgradeNonceAccount:{index:12,layout:Gc.n_([Gc.Jq("instruction")])}});class Gl{constructor(){}static createAccount(t){const e=jl(Vl.Create,{lamports:t.lamports,space:t.space,programId:hl(t.programId.toBuffer())});return new Cl({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;return"basePubkey"in t?(e=jl(Vl.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:hl(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=jl(Vl.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Cl({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;return"basePubkey"in t?(e=jl(Vl.AssignWithSeed,{base:hl(t.basePubkey.toBuffer()),seed:t.seed,programId:hl(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=jl(Vl.Assign,{programId:hl(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Cl({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=jl(Vl.CreateWithSeed,{base:hl(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:hl(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Cl({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Ol;"basePubkey"in t&&"seed"in t?e.add(Gl.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Kl,programId:this.programId})):e.add(Gl.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Kl,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=jl(Vl.InitializeNonceAccount,{authorized:hl(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Nl,isSigner:!1,isWritable:!1},{pubkey:Ll,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new Cl(r)}static nonceAdvance(t){const e=jl(Vl.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Nl,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new Cl(r)}static nonceWithdraw(t){const e=jl(Vl.WithdrawNonceAccount,{lamports:t.lamports});return new Cl({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Nl,isSigner:!1,isWritable:!1},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=jl(Vl.AuthorizeNonceAccount,{authorized:hl(t.newAuthorizedPubkey.toBuffer())});return new Cl({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;return"basePubkey"in t?(e=jl(Vl.AllocateWithSeed,{base:hl(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:hl(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=jl(Vl.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Cl({keys:r,programId:this.programId,data:e})}}Gl.programId=new gl("11111111111111111111111111111111");class Jl{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Jl.chunkSize)+1+1)}static async load(t,e,r,i,n){{const s=await t.getMinimumBalanceForRentExemption(n.length),o=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==n.length&&(a=a||new Ol,a.add(Gl.allocate({accountPubkey:r.publicKey,space:n.length}))),o.owner.equals(i)||(a=a||new Ol,a.add(Gl.assign({accountPubkey:r.publicKey,programId:i}))),o.lamports<s&&(a=a||new Ol,a.add(Gl.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new Ol).add(Gl.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:n.length,programId:i}));null!==a&&await zl(t,a,[e,r],{commitment:"confirmed"})}const s=Gc.n_([Gc.Jq("instruction"),Gc.Jq("offset"),Gc.Jq("bytesLength"),Gc.Jq("bytesLengthPadding"),Gc.A9(Gc.u8("byte"),Gc.cv(Gc.Jq(),-8),"bytes")]),o=Jl.chunkSize;let a=0,u=n,h=[];for(;u.length>0;){const n=u.slice(0,o),c=Ta.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:n,bytesLength:0,bytesLengthPadding:0},c);const f=(new Ol).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:c});if(h.push(zl(t,f,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Dl(1e3/t)}a+=o,u=u.slice(o)}await Promise.all(h);{const n=Gc.n_([Gc.Jq("instruction")]),s=Ta.Buffer.alloc(n.span);n.encode({instruction:1},s);const o=(new Ol).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1}],programId:i,data:s}),a="processed",u=await t.sendTransaction(o,[e,r],{preflightCommitment:a}),{context:h,value:c}=await t.confirmTransaction({signature:u,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},a);if(c.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(c)})`);for(;;){try{if(await t.getSlot({commitment:a})>h.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}function Zl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}Jl.chunkSize=932,new gl("BPFLoader2111111111111111111111111111111111");var Xl=Object.prototype.toString,Yl=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function Ql(t,e){var r,i,n,s,o,a,u;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return Ql(t.toJSON(),e);if("[object Array]"===(u=Xl.call(t))){for(n="[",i=t.length-1,r=0;r<i;r++)n+=Ql(t[r],!0)+",";return i>-1&&(n+=Ql(t[r],!0)),n+"]"}if("[object Object]"===u){for(i=(s=Yl(t).sort()).length,n="",r=0;r<i;)void 0!==(a=Ql(t[o=s[r]],!1))&&(n&&(n+=","),n+=JSON.stringify(o)+":"+a),r++;return"{"+n+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var td=Zl((function(t){var e=Ql(t,!1);if(void 0!==e)return""+e}));function ed(t){let e=0;for(;t>1;)t/=2,e++;return e}class rd{constructor(t,e,r,i,n){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=n}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=ed(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-ed(32)-1;return[r,t-(this.getSlotsInEpoch(r)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+ed(32)):this.slotsPerEpoch}}class id extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class nd extends Error{constructor({code:t,message:e,data:r},i){super(null!=i?`${i}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}var sd=globalThis.fetch;class od extends Ef.Z{constructor(t,e,r){super((t=>{const r=(0,Af.Z)(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class ad{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(ud,t),r=t.length-56;xl(r>=0,"lookup table is invalid"),xl(r%32==0,"lookup table is invalid");const i=r/32,{addresses:n}=Gc.n_([Gc.A9(Ml(),i,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new gl(e.authority[0]):void 0,addresses:n.map((t=>new gl(t)))}}}const ud={index:1,layout:Gc.n_([Gc.Jq("typeIndex"),Wl("deactivationSlot"),Gc._O("lastExtendedSlot"),Gc.u8("lastExtendedStartIndex"),Gc.u8(),Gc.A9(Ml(),Gc.cv(Gc.u8(),-1),"authority")])},hd=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,cd=_f(cf(gl),gf(),(t=>new gl(t))),fd=yf([gf(),ff("base64")]),ld=_f(cf(Ta.Buffer),fd,(t=>Ta.Buffer.from(t[0],"base64")));function dd(t){let e,r;if("string"==typeof t)e=t;else if(t){const{commitment:i,...n}=t;e=i,r=n}return{commitment:e,config:r}}function pd(t){return wf([bf({jsonrpc:ff("2.0"),id:gf(),result:t}),bf({jsonrpc:ff("2.0"),id:gf(),error:bf({code:vf(),message:gf(),data:pf(af("any",(()=>!0)))})})])}const md=pd(vf());function gd(t){return _f(pd(t),md,(e=>"error"in e?e:{...e,result:nf(e.result,t)}))}function yd(t){return gd(bf({context:bf({slot:df()}),value:t}))}function bd(t){return bf({context:bf({slot:df()}),value:t})}function wd(t,e){return 0===t?new Il({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new gl(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:jc().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new Bl(e)}const vd=bf({foundation:df(),foundationTerm:df(),initial:df(),taper:df(),terminal:df()}),_d=gd(uf(lf(bf({epoch:df(),effectiveSlot:df(),amount:df(),postBalance:df(),commission:pf(lf(df()))})))),Md=uf(bf({slot:df(),prioritizationFee:df()})),Sd=bf({total:df(),validator:df(),foundation:df(),epoch:df()}),Ed=bf({epoch:df(),slotIndex:df(),slotsInEpoch:df(),absoluteSlot:df(),blockHeight:pf(df()),transactionCount:pf(df())}),Ad=bf({slotsPerEpoch:df(),leaderScheduleSlotOffset:df(),warmup:hf(),firstNormalEpoch:df(),firstNormalSlot:df()}),kd=mf(gf(),uf(df())),xd=lf(wf([bf({}),gf()])),Td=bf({err:xd}),Bd=ff("receivedSignature"),Id=bf({"solana-core":gf(),"feature-set":pf(df())}),Rd=yd(bf({err:lf(wf([bf({}),gf()])),logs:lf(uf(gf())),accounts:pf(lf(uf(lf(bf({executable:hf(),owner:gf(),lamports:df(),data:uf(gf()),rentEpoch:pf(df())}))))),unitsConsumed:pf(df()),returnData:pf(lf(bf({programId:gf(),data:yf([gf(),ff("base64")])})))})),Pd=yd(bf({byIdentity:mf(gf(),uf(df())),range:bf({firstSlot:df(),lastSlot:df()})})),Cd=gd(vd),Od=gd(Sd),Ud=gd(Md),Nd=gd(Ed),Ld=gd(Ad),qd=gd(kd),zd=gd(df()),Dd=yd(bf({total:df(),circulating:df(),nonCirculating:df(),nonCirculatingAccounts:uf(cd)})),jd=bf({amount:gf(),uiAmount:lf(df()),decimals:df(),uiAmountString:pf(gf())}),Hd=yd(uf(bf({address:cd,amount:gf(),uiAmount:lf(df()),decimals:df(),uiAmountString:pf(gf())}))),Fd=yd(uf(bf({pubkey:cd,account:bf({executable:hf(),owner:cd,lamports:df(),data:ld,rentEpoch:df()})}))),Kd=bf({program:gf(),parsed:vf(),space:df()}),$d=yd(uf(bf({pubkey:cd,account:bf({executable:hf(),owner:cd,lamports:df(),data:Kd,rentEpoch:df()})}))),Wd=yd(uf(bf({lamports:df(),address:cd}))),Vd=bf({executable:hf(),owner:cd,lamports:df(),data:ld,rentEpoch:df()}),Gd=bf({pubkey:cd,account:Vd}),Jd=_f(wf([cf(Ta.Buffer),Kd]),wf([fd,Kd]),(t=>Array.isArray(t)?nf(t,ld):t)),Zd=bf({executable:hf(),owner:cd,lamports:df(),data:Jd,rentEpoch:df()}),Xd=bf({pubkey:cd,account:Zd}),Yd=bf({state:wf([ff("active"),ff("inactive"),ff("activating"),ff("deactivating")]),active:df(),inactive:df()}),Qd=gd(uf(bf({signature:gf(),slot:df(),err:xd,memo:lf(gf()),blockTime:pf(lf(df()))}))),tp=gd(uf(bf({signature:gf(),slot:df(),err:xd,memo:lf(gf()),blockTime:pf(lf(df()))}))),ep=bf({subscription:df(),result:bd(Vd)}),rp=bf({pubkey:cd,account:Vd}),ip=bf({subscription:df(),result:bd(rp)}),np=bf({parent:df(),slot:df(),root:df()}),sp=bf({subscription:df(),result:np}),op=wf([bf({type:wf([ff("firstShredReceived"),ff("completed"),ff("optimisticConfirmation"),ff("root")]),slot:df(),timestamp:df()}),bf({type:ff("createdBank"),parent:df(),slot:df(),timestamp:df()}),bf({type:ff("frozen"),slot:df(),timestamp:df(),stats:bf({numTransactionEntries:df(),numSuccessfulTransactions:df(),numFailedTransactions:df(),maxTransactionsPerEntry:df()})}),bf({type:ff("dead"),slot:df(),timestamp:df(),err:gf()})]),ap=bf({subscription:df(),result:op}),up=bf({subscription:df(),result:bd(wf([Td,Bd]))}),hp=bf({subscription:df(),result:df()}),cp=bf({pubkey:gf(),gossip:lf(gf()),tpu:lf(gf()),rpc:lf(gf()),version:lf(gf())}),fp=bf({votePubkey:gf(),nodePubkey:gf(),activatedStake:df(),epochVoteAccount:hf(),epochCredits:uf(yf([df(),df(),df()])),commission:df(),lastVote:df(),rootSlot:lf(df())}),lp=gd(bf({current:uf(fp),delinquent:uf(fp)})),dp=wf([ff("processed"),ff("confirmed"),ff("finalized")]),pp=bf({slot:df(),confirmations:lf(df()),err:xd,confirmationStatus:pf(dp)}),mp=yd(uf(lf(pp))),gp=gd(df()),yp=bf({accountKey:cd,writableIndexes:uf(df()),readonlyIndexes:uf(df())}),bp=bf({signatures:uf(gf()),message:bf({accountKeys:uf(gf()),header:bf({numRequiredSignatures:df(),numReadonlySignedAccounts:df(),numReadonlyUnsignedAccounts:df()}),instructions:uf(bf({accounts:uf(df()),data:gf(),programIdIndex:df()})),recentBlockhash:gf(),addressTableLookups:pf(uf(yp))})}),wp=bf({pubkey:cd,signer:hf(),writable:hf(),source:pf(wf([ff("transaction"),ff("lookupTable")]))}),vp=bf({accountKeys:uf(wp),signatures:uf(gf())}),_p=bf({parsed:vf(),program:gf(),programId:cd}),Mp=bf({accounts:uf(cd),data:gf(),programId:cd}),Sp=_f(wf([Mp,_p]),wf([bf({parsed:vf(),program:gf(),programId:gf()}),bf({accounts:uf(gf()),data:gf(),programId:gf()})]),(t=>nf(t,"accounts"in t?Mp:_p))),Ep=bf({signatures:uf(gf()),message:bf({accountKeys:uf(wp),instructions:uf(Sp),recentBlockhash:gf(),addressTableLookups:pf(lf(uf(yp)))})}),Ap=bf({accountIndex:df(),mint:gf(),owner:pf(gf()),uiTokenAmount:jd}),kp=bf({writable:uf(cd),readonly:uf(cd)}),xp=bf({err:xd,fee:df(),innerInstructions:pf(lf(uf(bf({index:df(),instructions:uf(bf({accounts:uf(df()),data:gf(),programIdIndex:df()}))})))),preBalances:uf(df()),postBalances:uf(df()),logMessages:pf(lf(uf(gf()))),preTokenBalances:pf(lf(uf(Ap))),postTokenBalances:pf(lf(uf(Ap))),loadedAddresses:pf(kp),computeUnitsConsumed:pf(df())}),Tp=bf({err:xd,fee:df(),innerInstructions:pf(lf(uf(bf({index:df(),instructions:uf(Sp)})))),preBalances:uf(df()),postBalances:uf(df()),logMessages:pf(lf(uf(gf()))),preTokenBalances:pf(lf(uf(Ap))),postTokenBalances:pf(lf(uf(Ap))),loadedAddresses:pf(kp),computeUnitsConsumed:pf(df())}),Bp=wf([ff(0),ff("legacy")]),Ip=bf({pubkey:gf(),lamports:df(),postBalance:lf(df()),rewardType:lf(gf()),commission:pf(lf(df()))}),Rp=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),transactions:uf(bf({transaction:bp,meta:lf(xp),version:pf(Bp)})),rewards:pf(uf(Ip)),blockTime:lf(df()),blockHeight:lf(df())}))),Pp=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),rewards:pf(uf(Ip)),blockTime:lf(df()),blockHeight:lf(df())}))),Cp=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),transactions:uf(bf({transaction:vp,meta:lf(xp),version:pf(Bp)})),rewards:pf(uf(Ip)),blockTime:lf(df()),blockHeight:lf(df())}))),Op=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),transactions:uf(bf({transaction:Ep,meta:lf(Tp),version:pf(Bp)})),rewards:pf(uf(Ip)),blockTime:lf(df()),blockHeight:lf(df())}))),Up=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),transactions:uf(bf({transaction:vp,meta:lf(Tp),version:pf(Bp)})),rewards:pf(uf(Ip)),blockTime:lf(df()),blockHeight:lf(df())}))),Np=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),rewards:pf(uf(Ip)),blockTime:lf(df()),blockHeight:lf(df())}))),Lp=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),transactions:uf(bf({transaction:bp,meta:lf(xp)})),rewards:pf(uf(Ip)),blockTime:lf(df())}))),qp=gd(lf(bf({blockhash:gf(),previousBlockhash:gf(),parentSlot:df(),signatures:uf(gf()),blockTime:lf(df())}))),zp=gd(lf(bf({slot:df(),meta:xp,blockTime:pf(lf(df())),transaction:bp,version:pf(Bp)}))),Dp=gd(lf(bf({slot:df(),transaction:Ep,meta:lf(Tp),blockTime:pf(lf(df())),version:pf(Bp)}))),jp=yd(bf({blockhash:gf(),feeCalculator:bf({lamportsPerSignature:df()})})),Hp=yd(bf({blockhash:gf(),lastValidBlockHeight:df()})),Fp=yd(hf()),Kp=gd(uf(bf({slot:df(),numTransactions:df(),numSlots:df(),samplePeriodSecs:df()}))),$p=yd(lf(bf({feeCalculator:bf({lamportsPerSignature:df()})}))),Wp=gd(gf()),Vp=gd(gf()),Gp=bf({err:xd,logs:uf(gf()),signature:gf()}),Jp=bf({result:bd(Gp),subscription:df()}),Zp={"solana-client":"js/0.0.0-development"};class Xp{constructor(t,e){let r,i,n,s,o,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:r,config:i}=dd(e),n=this._buildArgs([],r,void 0,i),s=td(n);return t[s]=t[s]??(async()=>{try{const t=nf(await this._rpcRequest("getBlockHeight",n),gd(df()));if("error"in t)throw new nd(t.error,"failed to get block height information");return t.result}finally{delete t[s]}})(),await t[s]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,i=e.httpHeaders,n=e.fetch,s=e.fetchMiddleware,o=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){const e=t.match(hd);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,i,n,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=null==n?null:parseInt(n.slice(1),10);return`${o}//${i}${null==a?"":`:${a+1}`}${s}`}(t),this._rpcClient=function(t,e,r,i,n,s){const o=r||sd;let a;null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),i&&(a=async(t,e)=>{const r=await new Promise(((r,n)=>{try{i(t,e,((t,e)=>r([t,e])))}catch(t){n(t)}}));return await o(...r)});const u=new(Sf())((async(r,i)=>{const s={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Zp)};try{let e,r=5,u=500;for(;e=a?await a(t,s):await o(t,s),429===e.status&&!0!==n&&(r-=1,0!==r);)console.log(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${u}ms delay...`),await Dl(u),u*=2;const h=await e.text();e.ok?i(null,h):i(new Error(`${e.status} ${e.statusText}: ${h}`))}catch(t){t instanceof Error&&i(t)}}),{});return u}(t,i,n,s,o,a),this._rpcRequest=function(t){return(e,r)=>new Promise(((i,n)=>{t.request(e,r,((t,e)=>{t?n(t):i(e)}))}))}(this._rpcClient),this._rpcBatchRequest=function(t){return e=>new Promise(((r,i)=>{0===e.length&&r([]);const n=e.map((e=>t.request(e.methodName,e.args)));t.request(n,((t,e)=>{t?i(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new od(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgs([t.toBase58()],r,void 0,i),s=nf(await this._rpcRequest("getBalance",n),yd(df()));if("error"in s)throw new nd(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=nf(await this._rpcRequest("getBlockTime",[t]),gd(lf(df())));if("error"in e)throw new nd(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=nf(await this._rpcRequest("minimumLedgerSlot",[]),gd(df()));if("error"in t)throw new nd(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=nf(await this._rpcRequest("getFirstAvailableBlock",[]),zd);if("error"in t)throw new nd(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=nf(await this._rpcRequest("getSupply",[e]),Dd);if("error"in r)throw new nd(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),i=nf(await this._rpcRequest("getTokenSupply",r),yd(jd));if("error"in i)throw new nd(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),i=nf(await this._rpcRequest("getTokenAccountBalance",r),yd(jd));if("error"in i)throw new nd(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){const{commitment:i,config:n}=dd(r);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,i,"base64",n),a=nf(await this._rpcRequest("getTokenAccountsByOwner",o),Fd);if("error"in a)throw new nd(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,r){let i=[t.toBase58()];"mint"in e?i.push({mint:e.mint.toBase58()}):i.push({programId:e.programId.toBase58()});const n=this._buildArgs(i,r,"jsonParsed"),s=nf(await this._rpcRequest("getTokenAccountsByOwner",n),$d);if("error"in s)throw new nd(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],i=nf(await this._rpcRequest("getLargestAccounts",r),Wd);if("error"in i)throw new nd(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),i=nf(await this._rpcRequest("getTokenLargestAccounts",r),Hd);if("error"in i)throw new nd(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgs([t.toBase58()],r,"base64",i),s=nf(await this._rpcRequest("getAccountInfo",n),yd(lf(Vd)));if("error"in s)throw new nd(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=nf(await this._rpcRequest("getAccountInfo",n),yd(lf(Zd)));if("error"in s)throw new nd(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:i}=dd(e),n=t.map((t=>t.toBase58())),s=this._buildArgs([n],r,"jsonParsed",i),o=nf(await this._rpcRequest("getMultipleAccounts",s),yd(uf(lf(Zd))));if("error"in o)throw new nd(o.error,`failed to get info for accounts ${n}`);return o.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:i}=dd(e),n=t.map((t=>t.toBase58())),s=this._buildArgs([n],r,"base64",i),o=nf(await this._rpcRequest("getMultipleAccounts",s),yd(uf(lf(Vd))));if("error"in o)throw new nd(o.error,`failed to get info for accounts ${n}`);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:i,config:n}=dd(e),s=this._buildArgs([t.toBase58()],i,void 0,{...n,epoch:null!=r?r:n?.epoch}),o=nf(await this._rpcRequest("getStakeActivation",s),gd(Yd));if("error"in o)throw new nd(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,e){const{commitment:r,config:i}=dd(e),{encoding:n,...s}=i||{},o=this._buildArgs([t.toBase58()],r,n||"base64",s),a=await this._rpcRequest("getProgramAccounts",o),u=uf(Gd),h=!0===s.withContext?nf(a,yd(u)):nf(a,gd(u));if("error"in h)throw new nd(h.error,`failed to get accounts owned by program ${t.toBase58()}`);return h.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=nf(await this._rpcRequest("getProgramAccounts",n),gd(uf(Xd)));if("error"in s)throw new nd(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let r,i;if("string"==typeof t)r=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{i=jc().decode(r)}catch(t){throw new Error("signature must be base58 encoded: "+r)}return xl(64===i.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(()=>{r(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,i,n=!1;const s=new Promise(((s,o)=>{try{r=this.onSignature(e,((t,e)=>{r=void 0;const i={context:e,value:t};s({__type:Rl.PROCESSED,response:i})}),t);const a=new Promise((t=>{null==r?t():i=this._onSubscriptionStateChange(r,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,n)return;const r=await this.getSignatureStatus(e);if(n)return;if(null==r)return;const{context:i,value:u}=r;if(null!=u)if(u?.err)o(u.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}n=!0,s({__type:Rl.PROCESSED,response:{context:i,value:u}})}})()}catch(t){o(t)}}));return{abortConfirmation:()=>{i&&(i(),i=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:i}}){let n=!1;const s=new Promise((e=>{const i=async()=>{try{return await this.getBlockHeight(t)}catch(t){return-1}};(async()=>{let t=await i();if(!n){for(;t<=r;){if(await Dl(1e3),n)return;if(t=await i(),n)return}e({__type:Rl.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(e);let h;try{const t=await Promise.race([u,a,s]);if(t.__type!==Rl.PROCESSED)throw new bl(i);h=t.response}finally{n=!0,o()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:i,nonceValue:n,signature:s}}){let o=!1;const a=new Promise((e=>{let s=n,a=null;const u=async()=>{try{const{context:e,value:n}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return a=e.slot,n?.nonce}catch(t){return s}};(async()=>{if(s=await u(),!o)for(;;){if(n!==s)return void e({__type:Rl.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Dl(2e3),o)return;if(s=await u(),o)return}})()})),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),c=this.getCancellationPromise(e);let f;try{const e=await Promise.race([c,h,a]);if(e.__type===Rl.PROCESSED)f=e.response;else{let i;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){i=t;break}await Dl(400)}if(!i?.value)throw new vl(s);{const e=t||"finalized",{confirmationStatus:r}=i.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new vl(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new vl(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new vl(s)}f={context:i.context,value:{err:i.value.err}}}}}finally{o=!0,u()}return f}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const i=new Promise((e=>{let i=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":i=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>e({__type:Rl.TIMED_OUT,timeoutMs:i})),i)})),{abortConfirmation:n,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let o;try{const t=await Promise.race([s,i]);if(t.__type!==Rl.PROCESSED)throw new wl(e,t.timeoutMs/1e3);o=t.response}finally{clearTimeout(r),n()}return o}async getClusterNodes(){const t=nf(await this._rpcRequest("getClusterNodes",[]),gd(uf(cp)));if("error"in t)throw new nd(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=nf(await this._rpcRequest("getVoteAccounts",e),lp);if("error"in r)throw new nd(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:r}=dd(t),i=this._buildArgs([],e,void 0,r),n=nf(await this._rpcRequest("getSlot",i),gd(df()));if("error"in n)throw new nd(n.error,"failed to get slot");return n.result}async getSlotLeader(t){const{commitment:e,config:r}=dd(t),i=this._buildArgs([],e,void 0,r),n=nf(await this._rpcRequest("getSlotLeader",i),gd(gf()));if("error"in n)throw new nd(n.error,"failed to get slot leader");return n.result}async getSlotLeaders(t,e){const r=[t,e],i=nf(await this._rpcRequest("getSlotLeaders",r),gd(uf(cd)));if("error"in i)throw new nd(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:r,value:i}=await this.getSignatureStatuses([t],e);return xl(1===i.length),{context:r,value:i[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const i=nf(await this._rpcRequest("getSignatureStatuses",r),mp);if("error"in i)throw new nd(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:r}=dd(t),i=this._buildArgs([],e,void 0,r),n=nf(await this._rpcRequest("getTransactionCount",i),gd(df()));if("error"in n)throw new nd(n.error,"failed to get transaction count");return n.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=nf(await this._rpcRequest("getInflationGovernor",e),Cd);if("error"in r)throw new nd(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,r){const{commitment:i,config:n}=dd(r),s=this._buildArgs([t.map((t=>t.toBase58()))],i,void 0,{...n,epoch:null!=e?e:n?.epoch}),o=nf(await this._rpcRequest("getInflationReward",s),_d);if("error"in o)throw new nd(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=nf(await this._rpcRequest("getInflationRate",[]),Od);if("error"in t)throw new nd(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:r}=dd(t),i=this._buildArgs([],e,void 0,r),n=nf(await this._rpcRequest("getEpochInfo",i),Nd);if("error"in n)throw new nd(n.error,"failed to get epoch info");return n.result}async getEpochSchedule(){const t=nf(await this._rpcRequest("getEpochSchedule",[]),Ld);if("error"in t)throw new nd(t.error,"failed to get epoch schedule");const e=t.result;return new rd(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=nf(await this._rpcRequest("getLeaderSchedule",[]),qd);if("error"in t)throw new nd(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),i=nf(await this._rpcRequest("getMinimumBalanceForRentExemption",r),gp);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=nf(await this._rpcRequest("getRecentBlockhash",e),jp);if("error"in r)throw new nd(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(t){const e=nf(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Kp);if("error"in e)throw new nd(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),i=nf(await this._rpcRequest("getFeeCalculatorForBlockhash",r),$p);if("error"in i)throw new nd(i.error,"failed to get fee calculator");const{context:n,value:s}=i.result;return{context:n,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const r=hl(t.serialize()).toString("base64"),i=this._buildArgs([r],e),n=nf(await this._rpcRequest("getFeeForMessage",i),yd(lf(df())));if("error"in n)throw new nd(n.error,"failed to get fee for message");if(null===n.result)throw new Error("invalid blockhash");return n.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),r=e?.length?[e]:[],i=nf(await this._rpcRequest("getRecentPrioritizationFees",r),Ud);if("error"in i)throw new nd(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=dd(t),i=this._buildArgs([],e,void 0,r),n=nf(await this._rpcRequest("getLatestBlockhash",i),Hp);if("error"in n)throw new nd(n.error,"failed to get latest blockhash");return n.result}async isBlockhashValid(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgs([t],r,void 0,i),s=nf(await this._rpcRequest("isBlockhashValid",n),Fp);if("error"in s)throw new nd(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){const t=nf(await this._rpcRequest("getVersion",[]),gd(Id));if("error"in t)throw new nd(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=nf(await this._rpcRequest("getGenesisHash",[]),gd(gf()));if("error"in t)throw new nd(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",n);try{switch(i?.transactionDetails){case"accounts":{const t=nf(s,Cp);if("error"in t)throw t.error;return t.result}case"none":{const t=nf(s,Pp);if("error"in t)throw t.error;return t.result}default:{const t=nf(s,Rp);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:wd(r,t.message)},version:r})))}:null}}}catch(t){throw new nd(t,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",n);try{switch(i?.transactionDetails){case"accounts":{const t=nf(s,Up);if("error"in t)throw t.error;return t.result}case"none":{const t=nf(s,Np);if("error"in t)throw t.error;return t.result}default:{const t=nf(s,Op);if("error"in t)throw t.error;return t.result}}}catch(t){throw new nd(t,"failed to get block")}}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){const{commitment:i,...n}=t;r=i,e=n}const i=this._buildArgs([],r,"base64",e),n=nf(await this._rpcRequest("getBlockProduction",i),Pd);if("error"in n)throw new nd(n.error,"failed to get block production information");return n.result}async getTransaction(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=nf(await this._rpcRequest("getTransaction",n),zp);if("error"in s)throw new nd(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:wd(o.version,o.transaction.message)}}:o}async getParsedTransaction(t,e){const{commitment:r,config:i}=dd(e),n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=nf(await this._rpcRequest("getTransaction",n),Dp);if("error"in s)throw new nd(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:r,config:i}=dd(e),n=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i)})));return(await this._rpcBatchRequest(n)).map((t=>{const e=nf(t,Dp);if("error"in e)throw new nd(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:r,config:i}=dd(e),n=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,void 0,i)})));return(await this._rpcBatchRequest(n)).map((t=>{const e=nf(t,zp);if("error"in e)throw new nd(e.error,"failed to get transactions");const r=e.result;return r?{...r,transaction:{...r.transaction,message:wd(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),i=nf(await this._rpcRequest("getConfirmedBlock",r),Lp);if("error"in i)throw new nd(i.error,"failed to get confirmed block");const n=i.result;if(!n)throw new Error("Confirmed block "+t+" not found");const s={...n,transactions:n.transactions.map((({transaction:t,meta:e})=>{const r=new Bl(t.message);return{meta:e,transaction:{...t,message:r}}}))};return{...s,transactions:s.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Ol.populate(t.message,t.signatures)})))}}async getBlocks(t,e,r){const i=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),n=nf(await this._rpcRequest("getBlocks",i),gd(uf(df())));if("error"in n)throw new nd(n.error,"failed to get blocks");return n.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=nf(await this._rpcRequest("getBlock",r),qp);if("error"in i)throw new nd(i.error,"failed to get block");const n=i.result;if(!n)throw new Error("Block "+t+" not found");return n}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=nf(await this._rpcRequest("getConfirmedBlock",r),qp);if("error"in i)throw new nd(i.error,"failed to get confirmed block");const n=i.result;if(!n)throw new Error("Confirmed block "+t+" not found");return n}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),i=nf(await this._rpcRequest("getConfirmedTransaction",r),zp);if("error"in i)throw new nd(i.error,"failed to get transaction");const n=i.result;if(!n)return n;const s=new Bl(n.transaction.message),o=n.transaction.signatures;return{...n,transaction:Ol.populate(s,o)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),i=nf(await this._rpcRequest("getConfirmedTransaction",r),Dp);if("error"in i)throw new nd(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=nf(t,Dp);if("error"in e)throw new nd(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let i={},n=await this.getFirstAvailableBlock();for(;!("until"in i)&&!(--e<=0||e<n);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(i.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let s=await this.getSlot("finalized");for(;!("before"in i||++r>s);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(i.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(t,i)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),n=nf(await this._rpcRequest("getConfirmedSignaturesForAddress2",i),Qd);if("error"in n)throw new nd(n.error,"failed to get confirmed signatures for address");return n.result}async getSignaturesForAddress(t,e,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),n=nf(await this._rpcRequest("getSignaturesForAddress",i),tp);if("error"in n)throw new nd(n.error,"failed to get signatures for address");return n.result}async getAddressLookupTable(t,e){const{context:r,value:i}=await this.getAccountInfoAndContext(t,e);let n=null;return null!==i&&(n=new ad({key:t,state:ad.deserialize(i.data)})),{context:r,value:n}}async getNonceAndContext(t,e){const{context:r,value:i}=await this.getAccountInfoAndContext(t,e);let n=null;return null!==i&&(n=$l.fromAccountData(i.data)),{context:r,value:n}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=nf(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),Wp);if("error"in r)throw new nd(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Dl(100);const t=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let t=0;t<50;t++){const t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await Dl(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=dd(t),i=this._buildArgs([],e,"base64",r),n=nf(await this._rpcRequest("getStakeMinimumDelegation",i),yd(df()));if("error"in n)throw new nd(n.error,"failed to get stake minimum delegation");return n.result}async simulateTransaction(t,e,r){if("message"in t){const i=t.serialize(),n=Ta.Buffer.from(i).toString("base64");if(Array.isArray(e)||void 0!==r)throw new Error("Invalid arguments");const s=e||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const o=[n,s],a=nf(await this._rpcRequest("simulateTransaction",o),Rd);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let i;if(t instanceof Ol){let e=t;i=new Ol,i.feePayer=e.feePayer,i.instructions=t.instructions,i.nonceInfo=e.nonceInfo,i.signatures=e.signatures}else i=Ol.populate(t),i._message=i._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const n=e;if(i.nonceInfo&&n)i.sign(...n);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(i.lastValidBlockHeight=e.lastValidBlockHeight,i.recentBlockhash=e.blockhash,!n)break;if(i.sign(...n),!i.signature)throw new Error("!signature");const r=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const s=i._compile(),o=s.serialize(),a=i._serialize(o).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}n&&(u.sigVerify=!0);const h=[a,u],c=nf(await this._rpcRequest("simulateTransaction",h),Rd);if("error"in c){let t;if("data"in c.error&&(t=c.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(c.error.message,r)}throw new id("failed to simulate transaction: "+c.error.message,t)}return c.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const r=t.serialize();return await this.sendRawTransaction(r,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(t.nonceInfo)t.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=r.lastValidBlockHeight,t.recentBlockhash=r.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const n=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}e=!0}}const n=t.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(t,e){const r=hl(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},i=e&&e.skipPreflight,n=e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),i&&(r.skipPreflight=i),n&&(r.preflightCommitment=n);const s=[t,r],o=nf(await this._rpcRequest("sendTransaction",s),Vp);if("error"in o){let t;throw"data"in o.error&&(t=o.error.data.logs),new id("failed to send transaction: "+o.error.message,t)}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(e),()=>{i.delete(e),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:i,method:n}=r;try{this._setSubscription(t,{...r,state:"subscribing"});const e=await this._rpcWebSocket.call(n,i);this._setSubscription(t,{...r,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${n} error for argument`,i,s.message),!e())return;this._setSubscription(t,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:n}=r;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(t,{...r,state:"unsubscribing"}),this._setSubscription(t,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(n,[i])}catch(i){if(i instanceof Error&&console.error(`${n} error:`,i.message),!e())return;return this._setSubscription(t,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(t,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(t){console.error(t)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=nf(t,ep);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,i=td([t.method,e],!0),n=this._subscriptionsByHash[i];return void 0===n?this._subscriptionsByHash[i]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:n.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const e=this._subscriptionsByHash[i];xl(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=nf(t,ip);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,i){const n=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},n)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const i=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=nf(t,Jp);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=nf(t,sp);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=nf(t,ap);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,i){const n=e||this._commitment;if(n||r||i){let e={};r&&(e.encoding=r),n&&(e.commitment=n),i&&(e=Object.assign(e,i)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,i){const n=e||this._commitment;if(n&&!["confirmed","finalized"].includes(n))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,i)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=nf(t,up);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),n=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(n)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return n}onSignatureWithOptions(t,e,r){const{commitment:i,...n}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,n),o=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(o)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=nf(t,hp);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Yp{constructor(t){this._keypair=void 0,this._keypair=t??nl()}static generate(){return new Yp(nl())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),i=sl(e);for(let t=0;t<32;t++)if(r[t]!==i[t])throw new Error("provided secretKey is invalid")}return new Yp({publicKey:r,secretKey:t})}static fromSeed(t){const e=sl(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Yp({publicKey:e,secretKey:r})}get publicKey(){return new gl(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:Gc.n_([Gc.Jq("instruction"),Wl("recentSlot"),Gc.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Gc.n_([Gc.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Gc.n_([Gc.Jq("instruction"),Wl(),Gc.A9(Ml(),Gc.cv(Gc.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Gc.n_([Gc.Jq("instruction")])},CloseLookupTable:{index:4,layout:Gc.n_([Gc.Jq("instruction")])}});new gl("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Gc.n_([Gc.u8("instruction"),Gc.Jq("units"),Gc.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Gc.n_([Gc.u8("instruction"),Gc.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Gc.n_([Gc.u8("instruction"),Gc.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Gc.n_([Gc.u8("instruction"),Wl("microLamports")])}});new gl("ComputeBudget111111111111111111111111111111");const Qp=Gc.n_([Gc.u8("numSignatures"),Gc.u8("padding"),Gc.KB("signatureOffset"),Gc.KB("signatureInstructionIndex"),Gc.KB("publicKeyOffset"),Gc.KB("publicKeyInstructionIndex"),Gc.KB("messageDataOffset"),Gc.KB("messageDataSize"),Gc.KB("messageInstructionIndex")]);class tm{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:i,instructionIndex:n}=t;xl(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),xl(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const s=Qp.span,o=s+e.length,a=o+i.length,u=Ta.Buffer.alloc(a+r.length),h=null==n?65535:n;return Qp.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:h,publicKeyOffset:s,publicKeyInstructionIndex:h,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:h},u),u.fill(e,s),u.fill(i,o),u.fill(r,a),new Cl({keys:[],programId:tm.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:i}=t;xl(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Yp.fromSecretKey(e),n=t.publicKey.toBytes(),s=al(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:n,message:r,signature:s,instructionIndex:i})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}tm.programId=new gl("Ed25519SigVerify111111111111111111111111111"),il.utils.isValidPrivateKey;const em=il.getPublicKey,rm=Gc.n_([Gc.u8("numSignatures"),Gc.KB("signatureOffset"),Gc.u8("signatureInstructionIndex"),Gc.KB("ethAddressOffset"),Gc.u8("ethAddressInstructionIndex"),Gc.KB("messageDataOffset"),Gc.KB("messageDataSize"),Gc.u8("messageInstructionIndex"),Gc.Ik(20,"ethAddress"),Gc.Ik(64,"signature"),Gc.u8("recoveryId")]);class im{constructor(){}static publicKeyToEthAddress(t){xl(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return Ta.Buffer.from(Df(hl(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:i,recoveryId:n,instructionIndex:s}=t;return im.createInstructionWithEthAddress({ethAddress:im.publicKeyToEthAddress(e),message:r,signature:i,recoveryId:n,instructionIndex:s})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:i,recoveryId:n,instructionIndex:s=0}=t;let o;o="string"==typeof e?e.startsWith("0x")?Ta.Buffer.from(e.substr(2),"hex"):Ta.Buffer.from(e,"hex"):e,xl(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,u=a+i.length+1,h=Ta.Buffer.alloc(rm.span+r.length);return rm.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:hl(i),ethAddress:hl(o),recoveryId:n},h),h.fill(hl(r),rm.span),new Cl({keys:[],programId:im.programId,data:h})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:i}=t;xl(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=hl(e),n=em(t,!1).slice(1),s=Ta.Buffer.from(Df(hl(r))),[o,a]=((t,e)=>{const r=il.sign(t,e);return[r.toCompactRawBytes(),r.recovery]})(s,t);return this.createInstructionWithPublicKey({publicKey:n,message:r,signature:o,recoveryId:a,instructionIndex:i})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}var nm;im.programId=new gl("KeccakSecp256k11111111111111111111111111111");const sm=new gl("StakeConfig11111111111111111111111111111111");class om{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}nm=om,om.default=new nm(0,0,gl.default);const am=Object.freeze({Initialize:{index:0,layout:Gc.n_([Gc.Jq("instruction"),((t="authorized")=>Gc.n_([Ml("staker"),Ml("withdrawer")],t))(),((t="lockup")=>Gc.n_([Gc.gM("unixTimestamp"),Gc.gM("epoch"),Ml("custodian")],t))()])},Authorize:{index:1,layout:Gc.n_([Gc.Jq("instruction"),Ml("newAuthorized"),Gc.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Gc.n_([Gc.Jq("instruction")])},Split:{index:3,layout:Gc.n_([Gc.Jq("instruction"),Gc.gM("lamports")])},Withdraw:{index:4,layout:Gc.n_([Gc.Jq("instruction"),Gc.gM("lamports")])},Deactivate:{index:5,layout:Gc.n_([Gc.Jq("instruction")])},Merge:{index:7,layout:Gc.n_([Gc.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Gc.n_([Gc.Jq("instruction"),Ml("newAuthorized"),Gc.Jq("stakeAuthorizationType"),Sl("authoritySeed"),Ml("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class um{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:i}=t,n=i||om.default,s=jl(am.Initialize,{authorized:{staker:hl(r.staker.toBuffer()),withdrawer:hl(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:hl(n.custodian.toBuffer())}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Cl(o)}static createAccountWithSeed(t){const e=new Ol;e.add(Gl.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:n}=t;return e.add(this.initialize({stakePubkey:r,authorized:i,lockup:n}))}static createAccount(t){const e=new Ol;e.add(Gl.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:n}=t;return e.add(this.initialize({stakePubkey:r,authorized:i,lockup:n}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:i}=t,n=jl(am.Delegate);return(new Ol).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:sm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:n,custodianPubkey:s}=t,o=jl(am.Authorize,{newAuthorized:hl(i.toBuffer()),stakeAuthorizationType:n.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ul,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Ol).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:i,authorityOwner:n,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=t,u=jl(am.AuthorizeWithSeed,{newAuthorized:hl(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:i,authorityOwner:hl(n.toBuffer())}),h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ul,isSigner:!1,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Ol).add({keys:h,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:i,lamports:n}=t,s=jl(am.Split,{lamports:n});return new Cl({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(t){const e=new Ol;return e.add(Gl.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:i,basePubkey:n,seed:s,lamports:o}=t,a=new Ol;return a.add(Gl.allocate({accountPubkey:i,basePubkey:n,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:i,lamports:o}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:i}=t,n=jl(am.Merge);return(new Ol).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:i,lamports:n,custodianPubkey:s}=t,o=jl(am.Withdraw,{lamports:n}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:ql,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Ol).add({keys:a,programId:this.programId,data:o})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,i=jl(am.Deactivate);return(new Ol).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}um.programId=new gl("Stake11111111111111111111111111111111111111"),um.space=200;const hm=Object.freeze({InitializeAccount:{index:0,layout:Gc.n_([Gc.Jq("instruction"),((t="voteInit")=>Gc.n_([Ml("nodePubkey"),Ml("authorizedVoter"),Ml("authorizedWithdrawer"),Gc.u8("commission")],t))()])},Authorize:{index:1,layout:Gc.n_([Gc.Jq("instruction"),Ml("newAuthorized"),Gc.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Gc.n_([Gc.Jq("instruction"),Gc.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Gc.n_([Gc.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>Gc.n_([Gc.Jq("voteAuthorizationType"),Ml("currentAuthorityDerivedKeyOwnerPubkey"),Sl("currentAuthorityDerivedKeySeed"),Ml("newAuthorized")],t))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class cm{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:i}=t,n=jl(hm.InitializeAccount,{voteInit:{nodePubkey:hl(i.nodePubkey.toBuffer()),authorizedVoter:hl(i.authorizedVoter.toBuffer()),authorizedWithdrawer:hl(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Cl(s)}static createAccount(t){const e=new Ol;return e.add(Gl.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:n}=t,s=jl(hm.Authorize,{newAuthorized:hl(i.toBuffer()),voteAuthorizationType:n.index}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Ol).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:n,voteAuthorizationType:s,votePubkey:o}=t,a=jl(hm.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:hl(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:hl(n.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Ol).add({keys:u,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:n}=t,s=jl(hm.Withdraw,{lamports:i}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Ol).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return cm.withdraw(t)}}cm.programId=new gl("Vote111111111111111111111111111111111111111"),cm.space=3731,new gl("Va1idator1nfo111111111111111111111111111111"),bf({name:gf(),website:pf(gf()),details:pf(gf()),keybaseUsername:pf(gf())}),new gl("Vote111111111111111111111111111111111111111"),Gc.n_([Ml("nodePubkey"),Ml("authorizedWithdrawer"),Gc.u8("commission"),Gc._O(),Gc.A9(Gc.n_([Gc._O("slot"),Gc.Jq("confirmationCount")]),Gc.cv(Gc.Jq(),-8),"votes"),Gc.u8("rootSlotValid"),Gc._O("rootSlot"),Gc._O(),Gc.A9(Gc.n_([Gc._O("epoch"),Ml("authorizedVoter")]),Gc.cv(Gc.Jq(),-8),"authorizedVoters"),Gc.n_([Gc.A9(Gc.n_([Ml("authorizedPubkey"),Gc._O("epochOfLastAuthorizedSwitch"),Gc._O("targetEpoch")]),32,"buf"),Gc._O("idx"),Gc.u8("isEmpty")],"priorVoters"),Gc._O(),Gc.A9(Gc.n_([Gc._O("epoch"),Gc._O("credits"),Gc._O("prevCredits")]),Gc.cv(Gc.Jq(),-8),"epochCredits"),Gc.n_([Gc._O("slot"),Gc._O("timestamp")],"lastTimestamp")]);var fm=__webpack_require__(8764).Buffer;class lm extends Gu{signer;minConfirm=1;constructor(t){super(t),this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new Xp(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(t){const e=await this.getProvider(),r=await e.getTransaction(t,{commitment:"confirmed"});if(!r)throw new Error("Confirmed tx not found");const i=await e.getSlot("confirmed");if(!r.meta)throw new Error(`Unable to resolve transaction ${t}`);const n=new me(r.meta.postBalances[1]).minus(new me(r.meta.preBalances[1]));return{from:r.transaction.message.accountKeys[0].toBase58(),to:r.transaction.message.accountKeys[1].toBase58(),amount:n,blockHeight:new me(r.slot),pending:!1,confirmed:i-r.slot>=1}}ownerToAddress(t){return"string"==typeof t&&(t=fm.from(t)),eh.encode(t)}async sign(t){return await(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Ja(this.wallet)),this.signer}verify(t,e,r){return Ja.verify(t,e,r)}async getCurrentHeight(){return new me((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(t,e){return new me(5e3)}async sendTx(t){return await this.wallet.sendTransaction(t,await this.getProvider(),{skipPreflight:!0})}async createTx(t,e,r){const i=new gl(await this.getPublicKey()),n=await $t((async t=>{try{return await(await this.getProvider()).getRecentBlockhash()}catch(e){if(e.message?.includes("blockhash"))throw e;throw t(e),new Error("Unreachable")}}),{retries:3,minTimeout:1e3}),s=new Ol({recentBlockhash:n.blockhash,feePayer:i});return s.add(Gl.transfer({fromPubkey:i,toPubkey:new gl(e),lamports:+new me(t).toNumber()})),{tx:s,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const dm="abi/5.7.0",pm=new Le(dm);class mm{constructor(t,e,r,i){this.name=t,this.type=e,this.localName=r,this.dynamic=i}_throwError(t,e){pm.throwArgumentError(t,this.localName,e)}}class gm{constructor(t){ds(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Ye(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData($e(t._data))}writeBytes(t){let e=Ke(t);const r=e.length%this.wordSize;return r&&(e=$e([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=Ke(ar.from(t));return e.length>this.wordSize&&pm.throwError("value out-of-bounds",Le.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=$e([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class ym{constructor(t,e,r,i){ds(this,"_data",Ke(t)),ds(this,"wordSize",e||32),ds(this,"_coerceFunc",r),ds(this,"allowLoose",i),this._offset=0}get data(){return Je(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):ym.coerce(t,e)}_peekBytes(t,e,r){let i=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?i=e:pm.throwError("data out-of-bounds",Le.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(t){return new ym(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return ar.from(this.readBytes(this.wordSize))}}class bm extends mm{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=Ls(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return Ls(Qe(t.readValue().toHexString(),20))}}class wm extends mm{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const vm=new Le(dm);function _m(t,e,r){let i=null;if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let t={};i=e.map((e=>{const i=e.localName;return i||vm.throwError("cannot encode object for signature with missing names",Le.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[i]&&vm.throwError("cannot encode object for signature with duplicate names",Le.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[i]=!0,r[i]}))}else vm.throwArgumentError("invalid tuple value","tuple",r);e.length!==i.length&&vm.throwArgumentError("types/value length mismatch","tuple",r);let n=new gm(t.wordSize),s=new gm(t.wordSize),o=[];e.forEach(((t,e)=>{let r=i[e];if(t.dynamic){let e=s.length;t.encode(s,r);let i=n.writeUpdatableValue();o.push((t=>{i(t+e)}))}else t.encode(n,r)})),o.forEach((t=>{t(n.length)}));let a=t.appendWriter(n);return a+=t.appendWriter(s),a}function Mm(t,e){let r=[],i=t.subReader(0);e.forEach((e=>{let n=null;if(e.dynamic){let r=t.readValue(),s=i.subReader(r.toNumber());try{n=e.decode(s)}catch(t){if(t.code===Le.errors.BUFFER_OVERRUN)throw t;n=t,n.baseType=e.name,n.name=e.localName,n.type=e.type}}else try{n=e.decode(t)}catch(t){if(t.code===Le.errors.BUFFER_OVERRUN)throw t;n=t,n.baseType=e.name,n.name=e.localName,n.type=e.type}null!=n&&r.push(n)}));const n=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let i=t.localName;if(!i||1!==n[i])return;if("length"===i&&(i="_length"),null!=r[i])return;const s=r[e];s instanceof Error?Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw s}}):r[i]=s}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Sm extends mm{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),vm.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let t=0;t<e.length;t++)i.push(this.coder);return _m(t,i,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&vm.throwError("insufficient data length",Le.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new wm(this.coder));return t.coerce(this.name,Mm(t,r))}}class Em extends mm{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Am extends mm{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Ke(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class km extends Am{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,Je(super.decode(t)))}}class xm extends mm{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Ke(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,Je(t.readBytes(this.size)))}}class Tm extends mm{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Bm=ar.from(-1),Im=ar.from(0),Rm=ar.from(1),Pm=ar.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Cm extends mm{constructor(t,e,r){const i=(e?"int":"uint")+8*t;super(i,i,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=ar.from(e),i=Pm.mask(8*t.wordSize);if(this.signed){let t=i.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Rm).mul(Bm)))&&this._throwError("value out-of-bounds",e)}else(r.lt(Im)||r.gt(i.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}class Om extends Am{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Sn(e))}decode(t){return En(super.decode(t))}}class Um extends mm{constructor(t,e){let r=!1;const i=[];t.forEach((t=>{t.dynamic&&(r=!0),i.push(t.type)})),super("tuple","tuple("+i.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,i)=>{let n=r.localName;n&&1===e[n]&&("length"===n&&(n="_length"),null==t[n]&&(t[n]=t[i]))})),Object.freeze(t)}encode(t,e){return _m(t,this.coders,e)}decode(t){return t.coerce(this.name,Mm(t,this.coders))}}const Nm=new Le(dm),Lm={};let qm={calldata:!0,memory:!0,storage:!0},zm={calldata:!0,memory:!0};function Dm(t,e){if("bytes"===t||"string"===t){if(qm[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&zm[e])return!0;return(qm[e]||"payable"===e)&&Nm.throwArgumentError("invalid modifier","name",e),!1}function jm(t,e){for(let r in e)ds(t,r,e[r])}const Hm=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Fm=new RegExp(/^(.*)\[([0-9]*)\]$/);class Km{constructor(t,e){t!==Lm&&Nm.throwError("use fromString",Le.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),jm(this,e);let r=this.type.match(Fm);jm(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Km.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=Hm.sighash),Hm[t]||Nm.throwArgumentError("invalid format type","format",t),t===Hm.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Hm.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===Hm.full?", ":",")+")"):e+=this.type,t!==Hm.sighash&&(!0===this.indexed&&(e+=" indexed"),t===Hm.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?Km.fromString(t,e):Km.fromObject(t)}static fromObject(t){return Km.isParamType(t)?t:new Km(Lm,{name:t.name||null,type:eg(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(Km.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function i(e){Nm.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function n(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let r=0;r<t.length;r++){let s=t[r];switch(s){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||i(r),o.state.allowType=!1,o.type=eg(o.type),o.components=[n(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(e||i(r),o.indexed=!0,o.name=""),Dm(o.type,o.name)&&(o.name=""),o.type=eg(o.type);let t=o;o=o.parent,o||i(r),delete t.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(e||i(r),o.indexed=!0,o.name=""),Dm(o.type,o.name)&&(o.name=""),o.type=eg(o.type);let a=n(o.parent);o.parent.components.push(a),delete o.parent,o=a;break;case" ":o.state.allowType&&""!==o.type&&(o.type=eg(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(e||i(r),o.indexed&&i(r),o.indexed=!0,o.name=""):Dm(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||i(r),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||i(r),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:i(r)}}return o.parent&&Nm.throwArgumentError("unexpected eof","param",t),delete s.state,"indexed"===o.name?(e||i(r.length-7),o.indexed&&i(r.length-7),o.indexed=!0,o.name=""):Dm(o.type,o.name)&&(o.name=""),s.type=eg(s.type),s}(t,!!e),Km.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function $m(t,e){return function(t){t=t.trim();let e=[],r="",i=0;for(let n=0;n<t.length;n++){let s=t[n];","===s&&0===i?(e.push(r),r=""):(r+=s,"("===s?i++:")"===s&&(i--,-1===i&&Nm.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}(t).map((t=>Km.fromString(t,e)))}class Wm{constructor(t,e){t!==Lm&&Nm.throwError("use a static from method",Le.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),jm(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Wm.isFragment(t)?t:"string"==typeof t?Wm.fromString(t):Wm.fromObject(t)}static fromObject(t){if(Wm.isFragment(t))return t;switch(t.type){case"function":return Ym.fromObject(t);case"event":return Vm.fromObject(t);case"constructor":return Xm.fromObject(t);case"error":return tg.fromObject(t);case"fallback":case"receive":return null}return Nm.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Vm.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?Ym.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Xm.fromString(t.trim()):"error"===t.split(" ")[0]?tg.fromString(t.substring(5).trim()):Nm.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class Vm extends Wm{format(t){if(t||(t=Hm.sighash),Hm[t]||Nm.throwArgumentError("invalid format type","format",t),t===Hm.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Hm.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Hm.full?", ":",")+") ",t!==Hm.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?Vm.fromString(t):Vm.fromObject(t)}static fromObject(t){if(Vm.isEventFragment(t))return t;"event"!==t.type&&Nm.throwArgumentError("invalid event object","value",t);const e={name:ig(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Km.fromObject):[],type:"event"};return new Vm(Lm,e)}static fromString(t){let e=t.match(ng);e||Nm.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Nm.warn("unknown modifier: "+t)}})),Vm.fromObject({name:e[1].trim(),anonymous:r,inputs:$m(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function Gm(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Nm.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Nm.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ar.from(r[1]),r[0]):t}function Jm(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Zm(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Nm.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Nm.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Nm.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Nm.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Nm.throwArgumentError("unable to determine stateMutability","value",t),e}class Xm extends Wm{format(t){if(t||(t=Hm.sighash),Hm[t]||Nm.throwArgumentError("invalid format type","format",t),t===Hm.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===Hm.sighash&&Nm.throwError("cannot format a constructor for sighash",Le.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===Hm.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?Xm.fromString(t):Xm.fromObject(t)}static fromObject(t){if(Xm.isConstructorFragment(t))return t;"constructor"!==t.type&&Nm.throwArgumentError("invalid constructor object","value",t);let e=Zm(t);e.constant&&Nm.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Km.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?ar.from(t.gas):null};return new Xm(Lm,r)}static fromString(t){let e={type:"constructor"},r=(t=Gm(t,e)).match(ng);return r&&"constructor"===r[1].trim()||Nm.throwArgumentError("invalid constructor string","value",t),e.inputs=$m(r[2].trim(),!1),Jm(r[3].trim(),e),Xm.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class Ym extends Xm{format(t){if(t||(t=Hm.sighash),Hm[t]||Nm.throwArgumentError("invalid format type","format",t),t===Hm.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Hm.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Hm.full?", ":",")+") ",t!==Hm.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?Ym.fromString(t):Ym.fromObject(t)}static fromObject(t){if(Ym.isFunctionFragment(t))return t;"function"!==t.type&&Nm.throwArgumentError("invalid function object","value",t);let e=Zm(t);const r={type:t.type,name:ig(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Km.fromObject):[],outputs:t.outputs?t.outputs.map(Km.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?ar.from(t.gas):null};return new Ym(Lm,r)}static fromString(t){let e={type:"function"},r=(t=Gm(t,e)).split(" returns ");r.length>2&&Nm.throwArgumentError("invalid function string","value",t);let i=r[0].match(ng);if(i||Nm.throwArgumentError("invalid function signature","value",t),e.name=i[1].trim(),e.name&&ig(e.name),e.inputs=$m(i[2],!1),Jm(i[3].trim(),e),r.length>1){let i=r[1].match(ng);""==i[1].trim()&&""==i[3].trim()||Nm.throwArgumentError("unexpected tokens","value",t),e.outputs=$m(i[2],!1)}else e.outputs=[];return Ym.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function Qm(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Nm.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class tg extends Wm{format(t){if(t||(t=Hm.sighash),Hm[t]||Nm.throwArgumentError("invalid format type","format",t),t===Hm.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Hm.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Hm.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?tg.fromString(t):tg.fromObject(t)}static fromObject(t){if(tg.isErrorFragment(t))return t;"error"!==t.type&&Nm.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:ig(t.name),inputs:t.inputs?t.inputs.map(Km.fromObject):[]};return Qm(new tg(Lm,e))}static fromString(t){let e={type:"error"},r=t.match(ng);return r||Nm.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&ig(e.name),e.inputs=$m(r[2],!1),Qm(tg.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function eg(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const rg=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ig(t){return t&&t.match(rg)||Nm.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ng=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),sg=new Le(dm),og=new RegExp(/^bytes([0-9]*)$/),ag=new RegExp(/^(u?int)([0-9]*)$/),ug=new class{constructor(t){ds(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new bm(t.name);case"bool":return new Em(t.name);case"string":return new Om(t.name);case"bytes":return new km(t.name);case"array":return new Sm(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Um((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Tm(t.name)}let e=t.type.match(ag);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&sg.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Cm(r/8,"int"===e[1],t.name)}if(e=t.type.match(og),e){let r=parseInt(e[1]);return(0===r||r>32)&&sg.throwArgumentError("invalid bytes length","param",t),new xm(r,t.name)}return sg.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new ym(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new gm(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(Km.from(t))));return new Um(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&sg.throwError("types/values length mismatch",Le.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(Km.from(t)))),i=new Um(r,"_"),n=this._getWriter();return i.encode(n,e),n.data}decode(t,e,r){const i=t.map((t=>this._getCoder(Km.from(t))));return new Um(i,"_").decode(this._getReader(Ke(e),r))}},hg=new Le(dm);class cg extends _s{}class fg extends _s{}class lg extends _s{}class dg extends _s{static isIndexed(t){return!(!t||!t._isIndexed)}}const pg={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function mg(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class gg{constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,ds(this,"fragments",e.map((t=>Wm.from(t))).filter((t=>null!=t))),ds(this,"_abiCoder",ps(new.target,"getAbiCoder")()),ds(this,"functions",{}),ds(this,"errors",{}),ds(this,"events",{}),ds(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void hg.warn("duplicate definition - constructor"):void ds(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?hg.warn("duplicate definition - "+r):e[r]=t})),this.deploy||ds(this,"deploy",Xm.from({payable:!1,type:"constructor"})),ds(this,"_isInterface",!0)}format(t){t||(t=Hm.full),t===Hm.sighash&&hg.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===Hm.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return ug}static getAddress(t){return Ls(t)}static getSighash(t){return Xe(io(t.format()),0,4)}static getEventTopic(t){return io(t.format())}getFunction(t){if(Ve(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];hg.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?hg.throwArgumentError("no matching function","name",e):r.length>1&&hg.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[Ym.fromString(t).format()];return e||hg.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Ve(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];hg.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?hg.throwArgumentError("no matching event","name",e):r.length>1&&hg.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[Vm.fromString(t).format()];return e||hg.throwArgumentError("no matching event","signature",t),e}getError(t){if(Ve(t)){const e=ps(this.constructor,"getSighash");for(const r in this.errors)if(t===e(this.errors[r]))return this.errors[r];hg.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?hg.throwArgumentError("no matching error","name",e):r.length>1&&hg.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[Ym.fromString(t).format()];return e||hg.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return ps(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),ps(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=Ke(e);return Je(r.slice(0,4))!==this.getSighash(t)&&hg.throwArgumentError(`data signature does not match error ${t.name}.`,"data",Je(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),Je($e([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=Ke(e);return Je(r.slice(0,4))!==this.getSighash(t)&&hg.throwArgumentError(`data signature does not match function ${t.name}.`,"data",Je(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),Je($e([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=Ke(e),i=null,n="",s=null,o=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=Je(r.slice(0,4)),e=pg[t];if(e)s=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,a=e.signature,e.reason&&(i=s[0]),"Error"===o?n=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===o&&(n=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const e=this.getError(t);s=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,a=e.format()}catch(t){}break}}return hg.throwError("call revert exception"+n,Le.errors.CALL_EXCEPTION,{method:t.format(),data:Je(e),errorArgs:s,errorName:o,errorSignature:a,reason:i})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),Je(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&hg.throwError("too many arguments for "+t.format(),Le.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const i=(t,e)=>"string"===t.type?io(e):"bytes"===t.type?yn(Je(e)):("bool"===t.type&&"boolean"==typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=ar.from(e).toHexString()),"address"===t.type&&this._abiCoder.encode(["address"],[e]),Qe(Je(e),32));for(e.forEach(((e,n)=>{let s=t.inputs[n];s.indexed?null==e?r.push(null):"array"===s.baseType||"tuple"===s.baseType?hg.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?r.push(e.map((t=>i(s,t)))):r.push(i(s,e)):null!=e&&hg.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],i=[],n=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&hg.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const o=e[s];if(t.indexed)if("string"===t.type)r.push(io(o));else if("bytes"===t.type)r.push(yn(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[o]))}else i.push(t),n.push(o)})),{data:this._abiCoder.encode(i,n),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);Ve(r[0],32)&&r[0].toLowerCase()===e||hg.throwError("fragment/topic mismatch",Le.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let i=[],n=[],s=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(Km.fromObject({type:"bytes32",name:t.name})),s.push(!0)):(i.push(t),s.push(!1)):(n.push(t),s.push(!1))}));let o=null!=r?this._abiCoder.decode(i,$e(r)):null,a=this._abiCoder.decode(n,e,!0),u=[],h=0,c=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==o)u[e]=new dg({_isIndexed:!0,hash:null});else if(s[e])u[e]=new dg({_isIndexed:!0,hash:o[c++]});else try{u[e]=o[c++]}catch(t){u[e]=t}else try{u[e]=a[h++]}catch(t){u[e]=t}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw mg(`property ${JSON.stringify(t.name)}`,r)}}):u[t.name]=r}}));for(let t=0;t<u.length;t++){const e=u[t];e instanceof Error&&Object.defineProperty(u,t,{enumerable:!0,get:()=>{throw mg(`index ${t}`,e)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new fg({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:ar.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new cg({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=Je(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new lg({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var yg=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((i=i.apply(t,e||[])).next())}))};const bg=new Le("contracts/5.7.0");function wg(t,e){return yg(this,void 0,void 0,(function*(){const r=yield e;"string"!=typeof r&&bg.throwArgumentError("invalid address or ENS name","name",r);try{return Ls(r)}catch(t){}t||bg.throwError("a provider or signer is needed to resolve ENS names",Le.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const i=yield t.resolveName(r);return null==i&&bg.throwArgumentError("resolver or addr is not configured for ENS name","name",r),i}))}function vg(t,e,r){return yg(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,i)=>vg(t,Array.isArray(e)?e[i]:e[r.name],r)))):"address"===r.type?yield wg(t,e):"tuple"===r.type?yield vg(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>vg(t,e,r.arrayChildren)))):Promise.reject(bg.makeError("invalid value for array",Le.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function _g(t,e,r){return yg(this,void 0,void 0,(function*(){let i={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(i=gs(r.pop())),bg.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?i.from?i.from=ms({override:wg(t.signer,i.from),signer:t.signer.getAddress()}).then((t=>yg(this,void 0,void 0,(function*(){return Ls(t.signer)!==t.override&&bg.throwError("Contract with a Signer cannot override from",Le.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):i.from=t.signer.getAddress():i.from&&(i.from=wg(t.provider,i.from));const n=yield ms({args:vg(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:ms(i)||{}}),s=t.interface.encodeFunctionData(e,n.args),o={data:s,to:n.address},a=n.overrides;if(null!=a.nonce&&(o.nonce=ar.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=ar.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=ar.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=ar.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=ar.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=Ws(a.accessList)),null==o.gasLimit&&null!=e.gas){let t=21e3;const r=Ke(s);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);o.gasLimit=ar.from(e.gas).add(t)}if(a.value){const t=ar.from(a.value);t.isZero()||e.payable||bg.throwError("non-payable method cannot override value",Le.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),o.value=t}a.customData&&(o.customData=gs(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;const u=Object.keys(i).filter((t=>null!=i[t]));return u.length&&bg.throwError(`cannot override ${u.map((t=>JSON.stringify(t))).join(",")}`,Le.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o}))}function Mg(t,e,r){const i=t.signer||t.provider;return function(...n){return yg(this,void 0,void 0,(function*(){let s;if(n.length===e.inputs.length+1&&"object"==typeof n[n.length-1]){const t=gs(n.pop());null!=t.blockTag&&(s=yield t.blockTag),delete t.blockTag,n.push(t)}null!=t.deployTransaction&&(yield t._deployed(s));const o=yield _g(t,e,n),a=yield i.call(o,s);try{let i=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(i=i[0]),i}catch(e){throw e.code===Le.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=n,e.transaction=o),e}}))}}function Sg(t,e,r){return e.constant?Mg(t,e,r):function(t,e){return function(...r){return yg(this,void 0,void 0,(function*(){t.signer||bg.throwError("sending a transaction requires a signer",Le.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const i=yield _g(t,e,r),n=yield t.signer.sendTransaction(i);return function(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let i=vs(r),n=null;try{n=t.interface.parseLog(r)}catch(t){}return n&&(i.args=n.args,i.decode=(e,r)=>t.interface.decodeEventLog(n.eventFragment,e,r),i.event=n.name,i.eventSignature=n.signature),i.removeListener=()=>t.provider,i.getBlock=()=>t.provider.getBlock(e.blockHash),i.getTransaction=()=>t.provider.getTransaction(e.transactionHash),i.getTransactionReceipt=()=>Promise.resolve(e),i})),e)))}(t,n),n}))}}(t,e)}function Eg(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class Ag{constructor(t,e){ds(this,"tag",t),ds(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t&&(e=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class kg extends Ag{constructor(){super("error",null)}}class xg extends Ag{constructor(t,e,r,i){const n={address:t};let s=e.getEventTopic(r);i?(s!==i[0]&&bg.throwArgumentError("topic mismatch","topics",i),n.topics=i.slice()):n.topics=[s],super(Eg(n),n),ds(this,"address",t),ds(this,"interface",e),ds(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,i){if(Array.isArray(i))for(let n in i){const s=t.slice();s.push(n);try{r(s,i[n])}catch(t){e.push({path:s,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class Tg extends Ag{constructor(t,e){super("*",{address:t}),ds(this,"address",t),ds(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class Bg{constructor(t,e,r){ds(this,"interface",ps(new.target,"getInterface")(e)),null==r?(ds(this,"provider",null),ds(this,"signer",null)):eo.isSigner(r)?(ds(this,"provider",r.provider||null),ds(this,"signer",r)):Zs.isProvider(r)?(ds(this,"provider",r),ds(this,"signer",null)):bg.throwArgumentError("invalid signer or provider","signerOrProvider",r),ds(this,"callStatic",{}),ds(this,"estimateGas",{}),ds(this,"functions",{}),ds(this,"populateTransaction",{}),ds(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];ds(this.filters,e,((...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)}))),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?ds(this.filters,e,this.filters[r[0]]):bg.warn(`Duplicate definition of ${e} (${r.join(", ")})`)}))}if(ds(this,"_runningEvents",{}),ds(this,"_wrappedEmits",{}),null==t&&bg.throwArgumentError("invalid contract address or ENS name","addressOrName",t),ds(this,"address",t),this.provider)ds(this,"resolvedAddress",wg(this.provider,t));else try{ds(this,"resolvedAddress",Promise.resolve(Ls(t)))}catch(t){bg.throwError("provider is required to use ENS name as contract address",Le.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((t=>{}));const i={},n={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(n[t])bg.warn(`Duplicate ABI entry for ${JSON.stringify(t)}`);else{n[t]=!0;{const r=e.name;i[`%${r}`]||(i[`%${r}`]=[]),i[`%${r}`].push(t)}null==this[t]&&ds(this,t,Sg(this,e,!0)),null==this.functions[t]&&ds(this.functions,t,Sg(this,e,!1)),null==this.callStatic[t]&&ds(this.callStatic,t,Mg(this,e,!0)),null==this.populateTransaction[t]&&ds(this.populateTransaction,t,function(t,e){return function(...r){return _g(t,e,r)}}(this,e)),null==this.estimateGas[t]&&ds(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...i){return yg(this,void 0,void 0,(function*(){r||bg.throwError("estimate require a provider or signer",Le.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield _g(t,e,i);return yield r.estimateGas(n)}))}}(this,e))}})),Object.keys(i).forEach((t=>{const e=i[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&ds(this,t,this[r])}catch(t){}null==this.functions[t]&&ds(this.functions,t,this.functions[r]),null==this.callStatic[t]&&ds(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&ds(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&ds(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return function(t){let e=null;try{e=Ls(t.from)}catch(e){Ps.throwArgumentError("missing from address","transaction",t)}return Ls(Xe(yn(Rs([e,We(Ke(ar.from(t.nonce).toHexString()))])),12))}(t)}static getInterface(t){return gg.isInterface(t)?t:new gg(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&bg.throwError("contract not deployed",Le.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||bg.throwError("sending a transactions require a signer",Le.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=gs(t||{});return["from","to"].forEach((function(t){null!=e[t]&&bg.throwError("cannot override "+t,Le.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"==typeof t&&(t=new ro(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&ds(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return dg.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new kg);if("event"===t)return this._normalizeRunningEvent(new Ag("event",null));if("*"===t)return this._normalizeRunningEvent(new Tg(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new xg(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new xg(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Ag(Eg(e),e))}return this._normalizeRunningEvent(new Tg(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const i=vs(e);return i.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},i.getBlock=()=>this.provider.getBlock(e.blockHash),i.getTransaction=()=>this.provider.getTransaction(e.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(i),i}_addEventListener(t,e,r){if(this.provider||bg.throwError("events require a provider or a signer with a provider",Le.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let i=this._wrapEvent(t,r,e);if(null==i.decodeError)try{const e=t.getEmit(i);this.emit(t.filter,...e)}catch(t){i.decodeError=t.error}null!=t.filter&&this.emit("event",i),null!=i.decodeError&&this.emit("error",i.decodeError,i)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const i=this._getRunningEvent(t),n=gs(i.filter);return"string"==typeof e&&Ve(e,32)?(null!=r&&bg.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),n.blockHash=e):(n.fromBlock=null!=e?e:0,n.toBlock=null!=r?r:"latest"),this.provider.getLogs(n).then((t=>t.map((t=>this._wrapEvent(i,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),i=r.run(e)>0;return this._checkRunningEvents(r),i}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}class Ig extends Bg{}class Rg extends Xu{contractInstance;contractAddress;constructor(t){super(t),this.contractAddress=t.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Ig(this.contractAddress,Pg,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(t){const e=await this.providerInstance.getTransaction(t);if(!e)throw new Error("Tx doesn't exist");if(138!==e.data.length||"a9059cbb"!==e.data.slice(2,10))throw new Error("Tx isn't a ERC20 transfer");const r=`0x${e.data.slice(34,74)}`,i=new me(e.data.slice(74),16);return{from:e.from,to:r,blockHeight:e.blockNumber?new me(e.blockNumber):void 0,amount:i,pending:!e.blockNumber,confirmed:e.confirmations>=this.minConfirm}}async getFee(t,e){const r="0x"+new me(t).toString(16),i=await this.getContract(),n=await this.providerInstance.getGasPrice(),s=await i.estimateGas.transfer(e,r),o=new me(n.mul(s).toString()),[a]=await this.getGas(),u=a.multipliedBy(o),h=new me(await this.price());return new me(u).dividedToIntegerBy(h)}async createTx(t,e,r){const i=await this.getContract(),n="0x"+new me(t).toString(16),s=await i.populateTransaction.transfer(e,n);if(s.gasPrice=await this.providerInstance.getGasPrice(),s.gasLimit=await i.estimateGas.transfer(e,n),s.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return s.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:s}}async getGas(){return[new me(await Ju("ETH")),1e18]}}const Pg=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var Cg=__webpack_require__(780),Og=__webpack_require__(7286);"object"==typeof self&&"crypto"in self&&self.crypto;const Ug=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Ng=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Lg(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Ng[t[r]];return e}function qg(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const i=2*r,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function zg(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Dg{clone(){return this._cloneInto()}}function jg(t){const e=e=>t().update(zg(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Hg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Fg(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const Kg={number:Hg,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:Fg,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Hg(t.outputLen),Hg(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){Fg(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},$g=Kg,Wg=BigInt(2**32-1),Vg=BigInt(32);function Gg(t,e=!1){return e?{h:Number(t&Wg),l:Number(t>>Vg&Wg)}:{h:0|Number(t>>Vg&Wg),l:0|Number(t&Wg)}}const Jg=function(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){const{h:s,l:o}=Gg(t[n],e);[r[n],i[n]]=[s,o]}return[r,i]},Zg=(t,e,r)=>t>>>r,Xg=(t,e,r)=>t<<32-r|e>>>r,Yg=(t,e,r)=>t>>>r|e<<32-r,Qg=(t,e,r)=>t<<32-r|e>>>r,ty=(t,e,r)=>t<<64-r|e>>>r-32,ey=(t,e,r)=>t>>>r-32|e<<64-r,ry=(t,e,r)=>t<<r|e>>>32-r,iy=(t,e,r)=>e<<r|t>>>32-r,ny=(t,e,r)=>e<<r-32|t>>>64-r,sy=(t,e,r)=>t<<r-32|e>>>64-r,oy=function(t,e,r,i){const n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:0|n}},ay=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),uy=(t,e,r,i)=>e+r+i+(t/2**32|0)|0,hy=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),cy=(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0,fy=(t,e,r,i,n,s)=>e+r+i+n+s+(t/2**32|0)|0,ly=(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0),[dy,py,my]=[[],[],[]],gy=BigInt(0),yy=BigInt(1),by=BigInt(2),wy=BigInt(7),vy=BigInt(256),_y=BigInt(113);for(let t=0,e=yy,r=1,i=0;t<24;t++){[r,i]=[i,(2*r+3*i)%5],dy.push(2*(5*i+r)),py.push((t+1)*(t+2)/2%64);let n=gy;for(let t=0;t<7;t++)e=(e<<yy^(e>>wy)*_y)%vy,e&by&&(n^=yy<<(yy<<BigInt(t))-yy);my.push(n)}const[My,Sy]=Jg(my,!0),Ey=(t,e,r)=>r>32?ny(t,e,r):ry(t,e,r),Ay=(t,e,r)=>r>32?sy(t,e,r):iy(t,e,r);class ky extends Dg{constructor(t,e,r,i=!1,n=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$g.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const i=(e+8)%10,n=(e+2)%10,s=r[n],o=r[n+1],a=Ey(s,o,1)^r[i],u=Ay(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],n=t[3];for(let r=0;r<24;r++){const i=py[r],s=Ey(e,n,i),o=Ay(e,n,i),a=dy[r];e=t[a],n=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let i=0;i<10;i++)r[i]=t[e+i];for(let i=0;i<10;i++)t[e+i]^=~r[(i+2)%10]&r[(i+4)%10]}t[0]^=My[i],t[1]^=Sy[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){$g.exists(this);const{blockLen:e,state:r}=this,i=(t=zg(t)).length;for(let n=0;n<i;){const s=Math.min(e-this.pos,i-n);for(let e=0;e<s;e++)r[this.pos++]^=t[n++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:i}=this;t[r]^=e,0!=(128&e)&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){$g.exists(this,!1),$g.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let i=0,n=t.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);t.set(e.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $g.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if($g.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return t||(t=new ky(e,r,i,s,n)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=n,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const xy=(t,e,r)=>jg((()=>new ky(e,t,r))),Ty=(xy(6,144,28),xy(6,136,32)),By=(xy(6,104,48),xy(6,72,64),xy(1,144,28),xy(1,136,32),xy(1,104,48),xy(1,72,64),(t,e,r)=>function(t){const e=(e,r)=>t(r).update(zg(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(((i={})=>new ky(e,t,void 0===i.dkLen?r:i.dkLen,!0))));By(31,168,16),By(31,136,32);class Iy extends Dg{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,$g.hash(t);const r=zg(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?t.create().update(r).digest():r);for(let t=0;t<n.length;t++)n[t]^=54;this.iHash.update(n),this.oHash=t.create();for(let t=0;t<n.length;t++)n[t]^=106;this.oHash.update(n),n.fill(0)}update(t){return $g.exists(this),this.iHash.update(t),this}digestInto(t){$g.exists(this),$g.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return t.finished=i,t.destroyed=n,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ry=(t,e,r)=>new Iy(t,e).update(r).digest();Ry.create=(t,e)=>new Iy(t,e);class Py extends Dg{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ug(this.buffer)}update(t){$g.exists(this);const{view:e,buffer:r,blockLen:i}=this,n=(t=zg(t)).length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o!==i)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=Ug(t);for(;i<=n-s;s+=i)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){$g.exists(this),$g.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:n}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let t=s;t<i;t++)e[t]=0;!function(t,e,r,i){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),u=i?4:0,h=i?0:4;t.setUint32(e+u,o,i),t.setUint32(e+h,a,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);const o=Ug(t);this.get().forEach(((t,e)=>o.setUint32(4*e,t,n)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=n,t.destroyed=s,i%e&&t.buffer.set(r),t}}const[Cy,Oy]=Jg(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),Uy=new Uint32Array(80),Ny=new Uint32Array(80);class Ly extends Py{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:u,El:h,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:m}=this;return[t,e,r,i,n,s,o,a,u,h,c,f,l,d,p,m]}set(t,e,r,i,n,s,o,a,u,h,c,f,l,d,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let r=0;r<16;r++,e+=4)Uy[r]=t.getUint32(e),Ny[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|Uy[t-15],r=0|Ny[t-15],i=Yg(e,r,1)^Yg(e,r,8)^Zg(e,r,7),n=Qg(e,r,1)^Qg(e,r,8)^Xg(e,r,7),s=0|Uy[t-2],o=0|Ny[t-2],a=Yg(s,o,19)^ty(s,o,61)^Zg(s,o,6),u=Qg(s,o,19)^ey(s,o,61)^Xg(s,o,6),h=hy(n,u,Ny[t-7],Ny[t-16]),c=cy(h,i,a,Uy[t-7],Uy[t-16]);Uy[t]=0|c,Ny[t]=0|h}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:a,Dh:u,Dl:h,Eh:c,El:f,Fh:l,Fl:d,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let t=0;t<80;t++){const e=Yg(c,f,14)^Yg(c,f,18)^ty(c,f,41),b=Qg(c,f,14)^Qg(c,f,18)^ey(c,f,41),w=c&l^~c&p,v=ly(y,b,f&d^~f&m,Oy[t],Ny[t]),_=fy(v,g,e,w,Cy[t],Uy[t]),M=0|v,S=Yg(r,i,28)^ty(r,i,34)^ty(r,i,39),E=Qg(r,i,28)^ey(r,i,34)^ey(r,i,39),A=r&n^r&o^n&o,k=i&s^i&a^s&a;g=0|p,y=0|m,p=0|l,m=0|d,l=0|c,d=0|f,({h:c,l:f}=oy(0|u,0|h,0|_,0|M)),u=0|o,h=0|a,o=0|n,a=0|s,n=0|r,s=0|i;const x=ay(M,E,k);r=uy(x,_,S,A),i=0|x}({h:r,l:i}=oy(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=oy(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=oy(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:h}=oy(0|this.Dh,0|this.Dl,0|u,0|h)),({h:c,l:f}=oy(0|this.Eh,0|this.El,0|c,0|f)),({h:l,l:d}=oy(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:m}=oy(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=oy(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,i,n,s,o,a,u,h,c,f,l,d,p,m,g,y)}roundClean(){Uy.fill(0),Ny.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class qy extends Ly{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class zy extends Ly{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Dy=jg((()=>new Ly));jg((()=>new qy)),jg((()=>new zy));var jy=__webpack_require__(3026),Hy=__webpack_require__(6230),Fy=Object.defineProperty,Ky=Object.getOwnPropertyDescriptor,$y=(t,e)=>{for(var r in e)Fy(t,r,{get:e[r],enumerable:!0})},Wy=(t,e,r,i)=>{for(var n,s=i>1?void 0:i?Ky(e,r):e,o=t.length-1;o>=0;o--)(n=t[o])&&(s=(i?n(e,r,s):n(s))||s);return i&&s&&Fy(e,r,s),s},Vy=/^m(\/[0-9]+')+$/,Gy=t=>t.replace("'","");async function Jy(t){return new Promise((e=>{setTimeout(e,t)}))}var Zy=2e5;function Xy(t){let e,r,i;return"object"==typeof t?(e=t.hashFunction,r=t.ttlMs,i=t.tags):e=t,(t,n,s)=>{if(null!=s.value)s.value=Qy(s.value,e,r,i);else{if(null==s.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");s.get=Qy(s.get,e,r,i)}}}var Yy=new Map;function Qy(t,e,r=0,i){const n=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(n)||Object.defineProperty(a,n,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const u=a[n];if(Array.isArray(i))for(const t of i)Yy.has(t)?Yy.get(t).push(u):Yy.set(t,[u]);if(e||s.length>0||r>0){let i;i=!0===e?s.map((t=>t.toString())).join("!"):e?e.apply(a,s):s[0];const n=`${i}__timestamp`;let h=!1;if(r>0)if(u.has(n)){const t=u.get(n);h=Date.now()-t>r}else h=!0;u.has(i)&&!h?o=u.get(i):(o=t.apply(a,s),u.set(i,o),r>0&&u.set(n,Date.now()))}else{const e=a;u.has(e)?o=u.get(e):(o=t.apply(a,s),u.set(e,o))}return o}}var tb=class{static fromBuffer(t){return tb.fromUint8Array(t)}static fromUint8Array(t){return new tb(Lg(t))}static ensure(t){return"string"==typeof t?new tb(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(qg(this.noPrefix()))}};async function eb(t,e,r,i){var n;const s=[];let o;for(;;){const a=await t(tb.ensure(e).hex(),null==(n=null==i?void 0:i.ledgerVersion)?void 0:n.toString(),o,r);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),null==o)break}return s}var rb={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},ib={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},nb={};$y(nb,{AccountAddress:()=>kb,AccountAuthenticator:()=>qb,AccountAuthenticatorEd25519:()=>zb,AccountAuthenticatorMultiEd25519:()=>Db,ArgumentABI:()=>qw,AuthenticationKey:()=>Fw,ChainId:()=>Ew,ChangeSet:()=>mw,Ed25519PublicKey:()=>Tb,Ed25519Signature:()=>Ib,EntryFunction:()=>cw,EntryFunctionABI:()=>jw,Identifier:()=>jb,Module:()=>dw,ModuleId:()=>pw,MultiAgentRawTransaction:()=>ww,MultiEd25519PublicKey:()=>Rb,MultiEd25519Signature:()=>Cb,MultiSig:()=>lw,MultiSigTransactionPayload:()=>fw,RawTransaction:()=>uw,RawTransactionWithData:()=>bw,RotationProofChallenge:()=>Kw,Script:()=>hw,ScriptABI:()=>zw,SignedTransaction:()=>yw,StructTag:()=>tw,Transaction:()=>Uw,TransactionArgument:()=>Aw,TransactionArgumentAddress:()=>Pw,TransactionArgumentBool:()=>Ow,TransactionArgumentU128:()=>Iw,TransactionArgumentU16:()=>xw,TransactionArgumentU256:()=>Rw,TransactionArgumentU32:()=>Tw,TransactionArgumentU64:()=>Bw,TransactionArgumentU8:()=>kw,TransactionArgumentU8Vector:()=>Cw,TransactionAuthenticator:()=>Ob,TransactionAuthenticatorEd25519:()=>Ub,TransactionAuthenticatorMultiAgent:()=>Lb,TransactionAuthenticatorMultiEd25519:()=>Nb,TransactionPayload:()=>vw,TransactionPayloadEntryFunction:()=>Mw,TransactionPayloadMultisig:()=>Sw,TransactionPayloadScript:()=>_w,TransactionScriptABI:()=>Dw,TypeArgumentABI:()=>Lw,TypeTag:()=>Hb,TypeTagAddress:()=>Zb,TypeTagBool:()=>Fb,TypeTagParser:()=>ow,TypeTagParserError:()=>aw,TypeTagSigner:()=>Xb,TypeTagStruct:()=>Qb,TypeTagU128:()=>Gb,TypeTagU16:()=>$b,TypeTagU256:()=>Jb,TypeTagU32:()=>Wb,TypeTagU64:()=>Vb,TypeTagU8:()=>Kb,TypeTagVector:()=>Yb,UserTransaction:()=>Nw,WriteSet:()=>gw,stringStructTag:()=>ew}),$y({},{Deserializer:()=>fb,Serializer:()=>hb,bcsSerializeBool:()=>_b,bcsSerializeBytes:()=>Sb,bcsSerializeFixedBytes:()=>Eb,bcsSerializeStr:()=>Mb,bcsSerializeU128:()=>vb,bcsSerializeU16:()=>bb,bcsSerializeU32:()=>wb,bcsSerializeU8:()=>yb,bcsSerializeUint64:()=>gb,bcsToBytes:()=>mb,deserializeVector:()=>pb,serializeVector:()=>lb,serializeVectorWithFunc:()=>db});var sb=2**32-1,ob=BigInt(2**64)-BigInt(1),ab=BigInt(2**128)-BigInt(1),ub=BigInt(2**256)-BigInt(1),hb=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const t=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,r){this.ensureBufferWillHandleSize(e);const i=new DataView(this.buffer,this.offset);t.apply(i,[0,r,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if("boolean"!=typeof t)throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(sb),r=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(r))}serializeU128(t){const e=BigInt(t.toString())&ob,r=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(r)}serializeU256(t){const e=BigInt(t.toString())&ab,r=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(r)}serializeU32AsUleb128(t){let e=t;const r=[];for(;e>>>7!=0;)r.push(127&e|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function cb(t,e,r){return(i,n,s)=>{const o=s.value;return s.value=function(i){const n=BigInt(i.toString());if(n>BigInt(e.toString())||n<BigInt(t.toString()))throw new Error(r||"Value is out of range");o.apply(this,[i])},s}}Wy([cb(0,255)],hb.prototype,"serializeU8",1),Wy([cb(0,65535)],hb.prototype,"serializeU16",1),Wy([cb(0,sb)],hb.prototype,"serializeU32",1),Wy([cb(BigInt(0),ob)],hb.prototype,"serializeU64",1),Wy([cb(BigInt(0),ab)],hb.prototype,"serializeU128",1),Wy([cb(BigInt(0),ub)],hb.prototype,"serializeU256",1),Wy([cb(0,sb)],hb.prototype,"serializeU32AsUleb128",1);var fb=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return(new TextDecoder).decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(1!==t&&0!==t)throw new Error("Invalid boolean value");return 1===t}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<sb;){const r=this.deserializeU8();if(t|=BigInt(127&r)<<BigInt(e),0==(128&r))break;e+=7}if(t>sb)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function lb(t,e){e.serializeU32AsUleb128(t.length),t.forEach((t=>{t.serialize(e)}))}function db(t,e){const r=new hb;r.serializeU32AsUleb128(t.length);const i=r[e];return t.forEach((t=>{i.call(r,t)})),r.getBytes()}function pb(t,e){const r=t.deserializeUleb128AsU32(),i=[];for(let n=0;n<r;n+=1)i.push(e.deserialize(t));return i}function mb(t){const e=new hb;return t.serialize(e),e.getBytes()}function gb(t){const e=new hb;return e.serializeU64(t),e.getBytes()}function yb(t){const e=new hb;return e.serializeU8(t),e.getBytes()}function bb(t){const e=new hb;return e.serializeU16(t),e.getBytes()}function wb(t){const e=new hb;return e.serializeU32(t),e.getBytes()}function vb(t){const e=new hb;return e.serializeU128(t),e.getBytes()}function _b(t){const e=new hb;return e.serializeBool(t),e.getBytes()}function Mb(t){const e=new hb;return e.serializeStr(t),e.getBytes()}function Sb(t){const e=new hb;return e.serializeBytes(t),e.getBytes()}function Eb(t){const e=new hb;return e.serializeFixedBytes(t),e.getBytes()}var Ab=class{constructor(t){if(t.length!==Ab.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=tb.ensure(t);e.noPrefix().length%2!=0&&(e=new tb(`0${e.noPrefix()}`));const r=e.toUint8Array();if(r.length>Ab.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Ab.LENGTH)return new Ab(r);const i=new Uint8Array(Ab.LENGTH);return i.set(r,Ab.LENGTH-r.length),new Ab(i)}static isValid(t){if(""===t)return!1;let e=tb.ensure(t);return e.noPrefix().length%2!=0&&(e=new tb(`0${e.noPrefix()}`)),e.toUint8Array().length<=Ab.LENGTH}toHexString(){return tb.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Ab(t.deserializeFixedBytes(Ab.LENGTH))}},kb=Ab;kb.LENGTH=32,kb.CORE_CODE_ADDRESS=Ab.fromHex("0x1");var xb=class{constructor(t){if(t.length!==xb.LENGTH)throw new Error(`Ed25519PublicKey length should be ${xb.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new xb(e)}},Tb=xb;Tb.LENGTH=32;var Bb=class{constructor(t){if(this.value=t,t.length!==Bb.LENGTH)throw new Error(`Ed25519Signature length should be ${Bb.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new Bb(e)}},Ib=Bb;Ib.LENGTH=64;var Rb=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>32)throw new Error('"threshold" cannot be larger than 32')}toBytes(){const t=new Uint8Array(this.public_keys.length*Tb.LENGTH+1);return this.public_keys.forEach(((e,r)=>{t.set(e.value,r*Tb.LENGTH)})),t[this.public_keys.length*Tb.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e[e.length-1],i=[];for(let t=0;t<e.length-1;t+=Tb.LENGTH){const r=t;i.push(new Tb(e.subarray(r,r+Tb.LENGTH)))}return new Rb(i,r)}},Pb=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==Pb.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Pb.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*Ib.LENGTH+Pb.BITMAP_LEN);return this.signatures.forEach(((e,r)=>{t.set(e.value,r*Ib.LENGTH)})),t.set(this.bitmap,this.signatures.length*Ib.LENGTH),t}static createBitmap(t){const e=new Uint8Array([0,0,0,0]),r=new Set;return t.forEach((t=>{if(t>=32)throw new Error(`Invalid bit value ${t}.`);if(r.has(t))throw new Error("Duplicated bits detected.");r.add(t);const i=Math.floor(t/8);let n=e[i];n|=128>>t%8,e[i]=n})),e}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e.subarray(e.length-4),i=[];for(let t=0;t<e.length-r.length;t+=Ib.LENGTH){const r=t;i.push(new Ib(e.subarray(r,r+Ib.LENGTH)))}return new Pb(i,r)}},Cb=Pb;Cb.BITMAP_LEN=4;var Ob=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Ub.load(t);case 1:return Nb.load(t);case 2:return Lb.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},Ub=class extends Ob{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Tb.deserialize(t),r=Ib.deserialize(t);return new Ub(e,r)}},Nb=class extends Ob{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Rb.deserialize(t),r=Cb.deserialize(t);return new Nb(e,r)}},Lb=class extends Ob{constructor(t,e,r){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),lb(this.secondary_signer_addresses,t),lb(this.secondary_signers,t)}static load(t){const e=qb.deserialize(t),r=pb(t,kb),i=pb(t,qb);return new Lb(e,r,i)}},qb=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return zb.load(t);case 1:return Db.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},zb=class extends qb{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Tb.deserialize(t),r=Ib.deserialize(t);return new zb(e,r)}},Db=class extends qb{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Rb.deserialize(t),r=Cb.deserialize(t);return new Db(e,r)}},jb=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new jb(e)}},Hb=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Fb.load(t);case 1:return Kb.load(t);case 2:return Vb.load(t);case 3:return Gb.load(t);case 4:return Zb.load(t);case 5:return Xb.load(t);case 6:return Yb.load(t);case 7:return Qb.load(t);case 8:return $b.load(t);case 9:return Wb.load(t);case 10:return Jb.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Fb=class extends Hb{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Fb}},Kb=class extends Hb{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Kb}},$b=class extends Hb{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new $b}},Wb=class extends Hb{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Wb}},Vb=class extends Hb{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new Vb}},Gb=class extends Hb{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new Gb}},Jb=class extends Hb{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Jb}},Zb=class extends Hb{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new Zb}},Xb=class extends Hb{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new Xb}},Yb=class extends Hb{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=Hb.deserialize(t);return new Yb(e)}},Qb=class extends Hb{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=tw.deserialize(t);return new Qb(e)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===kb.fromHex("0x1").toHexString()}},tw=class{constructor(t,e,r,i){this.address=t,this.module_name=e,this.name=r,this.type_args=i}static fromString(t){const e=new ow(t).parseTypeTag();return new tw(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),lb(this.type_args,t)}static deserialize(t){const e=kb.deserialize(t),r=jb.deserialize(t),i=jb.deserialize(t),n=pb(t,Hb);return new tw(e,r,i,n)}},ew=new tw(kb.fromHex("0x1"),new jb("string"),new jb("String"),[]);function rw(t){throw new aw(t)}function iw(t){return!!t.match(/\s/)}function nw(t){return!!t.match(/[_A-Za-z0-9]/g)}function sw(t,e){const r=t[e];if(":"===r){if("::"===t.slice(e,e+2))return[["COLON","::"],2];rw("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(iw(r)){let r="";for(let i=e;i<t.length;i+=1){const e=t[i];if(!iw(e))break;r=`${r}${e}`}return[["SPACE",r],r.length]}if(nw(r)){let r="";for(let i=e;i<t.length;i+=1){const e=t[i];if(!nw(e))break;r=`${r}${e}`}return function(t){return!!t.match(/T\d+/g)}(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}var ow=class{constructor(t,e){this.typeTags=[],this.tokens=function(t){let e=0;const r=[];for(;e<t.length;){const[i,n]=sw(t,e);"SPACE"!==i[0]&&r.push(i),e+=n}return r}(t),this.typeTags=e||[]}consume(t){const e=this.tokens.shift();e&&e[1]===t||rw("Invalid type tag.")}parseCommaList(t,e){const r=[];for(this.tokens.length<=0&&rw("Invalid type tag.");!(this.tokens[0][1]===t||(r.push(this.parseTypeTag()),this.tokens.length>0&&this.tokens[0][1]===t)||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e));)this.tokens.length<=0&&rw("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&rw("Invalid type tag.");const[t,e]=this.tokens.shift();if("u8"===e)return new Kb;if("u16"===e)return new $b;if("u32"===e)return new Wb;if("u64"===e)return new Vb;if("u128"===e)return new Gb;if("u256"===e)return new Jb;if("bool"===e)return new Fb;if("address"===e)return new Zb;if("vector"===e){this.consume("<");const t=this.parseTypeTag();return this.consume(">"),new Yb(t)}if("string"===e)return new tw(kb.fromHex("0x1"),new jb("string"),new jb("String"),[]);if("IDENT"===t&&(e.startsWith("0x")||e.startsWith("0X"))){const t=e;this.consume("::");const[r,i]=this.tokens.shift();"IDENT"!==r&&rw("Invalid type tag."),this.consume("::");const[n,s]=this.tokens.shift();if("IDENT"!==n&&rw("Invalid type tag."),"object"===i&&"Object"===s)return this.tokens.splice(0,3),new Zb;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new tw(kb.fromHex(t),new jb(i),new jb(s),o);return new Qb(a)}if("GENERIC"===t){0===this.typeTags.length&&rw("Can't convert generic type since no typeTags were specified.");const t=parseInt(e.substring(1),10);return new ow(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},aw=class extends Error{constructor(t){super(t),this.name="TypeTagParserError"}},uw=class{constructor(t,e,r,i,n,s,o){this.sender=t,this.sequence_number=e,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=n,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=kb.deserialize(t),r=t.deserializeU64(),i=vw.deserialize(t),n=t.deserializeU64(),s=t.deserializeU64(),o=t.deserializeU64(),a=Ew.deserialize(t);return new uw(e,r,i,n,s,o,a)}},hw=class{constructor(t,e,r){this.code=t,this.ty_args=e,this.args=r}serialize(t){t.serializeBytes(this.code),lb(this.ty_args,t),lb(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),r=pb(t,Hb),i=pb(t,Aw);return new hw(e,r,i)}},cw=class{constructor(t,e,r,i){this.module_name=t,this.function_name=e,this.ty_args=r,this.args=i}static natural(t,e,r,i){return new cw(pw.fromStr(t),new jb(e),r,i)}static natual(t,e,r,i){return cw.natural(t,e,r,i)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),lb(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach((e=>{t.serializeBytes(e)}))}static deserialize(t){const e=pw.deserialize(t),r=jb.deserialize(t),i=pb(t,Hb),n=t.deserializeUleb128AsU32(),s=[];for(let e=0;e<n;e+=1)s.push(t.deserializeBytes());return new cw(e,r,i,s)}},fw=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new fw(cw.deserialize(t))}},lw=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),void 0===this.transaction_payload?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=kb.deserialize(t);let r;return t.deserializeBool()&&(r=fw.deserialize(t)),new lw(e,r)}},dw=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new dw(e)}},pw=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(2!==e.length)throw new Error("Invalid module id.");return new pw(kb.fromHex(new tb(e[0])),new jb(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=kb.deserialize(t),r=jb.deserialize(t);return new pw(e,r)}},mw=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},gw=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},yw=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=uw.deserialize(t),r=Ob.deserialize(t);return new yw(e,r)}},bw=class{static deserialize(t){const e=t.deserializeUleb128AsU32();if(0===e)return ww.load(t);throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}},ww=class extends bw{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),lb(this.secondary_signer_addresses,t)}static load(t){const e=uw.deserialize(t),r=pb(t,kb);return new ww(e,r)}},vw=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return _w.load(t);case 2:return Mw.load(t);case 3:return Sw.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},_w=class extends vw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=hw.deserialize(t);return new _w(e)}},Mw=class extends vw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=cw.deserialize(t);return new Mw(e)}},Sw=class extends vw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=lw.deserialize(t);return new Sw(e)}},Ew=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new Ew(e)}},Aw=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return kw.load(t);case 1:return Bw.load(t);case 2:return Iw.load(t);case 3:return Pw.load(t);case 4:return Cw.load(t);case 5:return Ow.load(t);case 6:return xw.load(t);case 7:return Tw.load(t);case 8:return Rw.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},kw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new kw(e)}},xw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new xw(e)}},Tw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Tw(e)}},Bw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new Bw(e)}},Iw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new Iw(e)}},Rw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new Rw(e)}},Pw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=kb.deserialize(t);return new Pw(e)}},Cw=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new Cw(e)}},Ow=class extends Aw{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new Ow(e)}},Uw=class{getHashSalt(){const t=Ty.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();if(0===e)return Nw.load(t);throw new Error(`Unknown variant index for Transaction: ${e}`)}},Nw=class extends Uw{constructor(t){super(),this.value=t}hash(){const t=Ty.create();return t.update(this.getHashSalt()),t.update(mb(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new Nw(yw.deserialize(t))}},Lw=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new Lw(e)}},qw=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),r=Hb.deserialize(t);return new qw(e,r)}},zw=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Dw.load(t);case 1:return jw.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Dw=class extends zw{constructor(t,e,r,i,n){super(),this.name=t,this.doc=e,this.code=r,this.ty_args=i,this.args=n}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),lb(this.ty_args,t),lb(this.args,t)}static load(t){const e=t.deserializeStr(),r=t.deserializeStr(),i=t.deserializeBytes(),n=pb(t,Lw),s=pb(t,qw);return new Dw(e,r,i,n,s)}},jw=class extends zw{constructor(t,e,r,i,n){super(),this.name=t,this.module_name=e,this.doc=r,this.ty_args=i,this.args=n}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),lb(this.ty_args,t),lb(this.args,t)}static load(t){const e=t.deserializeStr(),r=pw.deserialize(t),i=t.deserializeStr(),n=pb(t,Lw),s=pb(t,qw);return new jw(e,r,i,n,s)}},Hw=class{constructor(t){if(t.length!==Hw.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),r=new Uint8Array(e.length+1);r.set(e),r.set([Hw.MULTI_ED25519_SCHEME],e.length);const i=Ty.create();return i.update(r),new Hw(i.digest())}static fromEd25519PublicKey(t){const e=t.value,r=new Uint8Array(e.length+1);r.set(e),r.set([Hw.ED25519_SCHEME],e.length);const i=Ty.create();return i.update(r),new Hw(i.digest())}derivedAddress(){return tb.fromUint8Array(this.bytes)}},Fw=Hw;Fw.LENGTH=32,Fw.MULTI_ED25519_SCHEME=1,Fw.ED25519_SCHEME=0,Fw.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Kw=class{constructor(t,e,r,i,n,s,o){this.accountAddress=t,this.moduleName=e,this.structName=r,this.sequenceNumber=i,this.originator=n,this.currentAuthKey=s,this.newPublicKey=o}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},$w=class{static fromAptosAccountObject(t){return new $w(tb.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,e){if(!$w.isValidPath(t))throw new Error("Invalid derivation path");const r=e.trim().split(/\s+/).map((t=>t.toLowerCase())).join(" "),{key:i}=((t,e,r=2147483648)=>{if(!(t=>!!Vy.test(t)&&!t.split("/").slice(1).map(Gy).some(Number.isNaN))(t))throw new Error("Invalid derivation path");const{key:i,chainCode:n}=(t=>{const e=Ry.create(Dy,"ed25519 seed").update(qg(t)).digest();return{key:e.slice(0,32),chainCode:e.slice(32)}})(e);return t.split("/").slice(1).map(Gy).map((t=>parseInt(t,10))).reduce(((t,e)=>(({key:t,chainCode:e},r)=>{const i=new ArrayBuffer(4);new DataView(i).setUint32(0,r);const n=new Uint8Array(i),s=new Uint8Array([0]),o=new Uint8Array([...s,...t,...n]),a=Ry.create(Dy,e).update(o).digest();return{key:a.slice(0,32),chainCode:a.slice(32)}})(t,e+r)),{key:i,chainCode:n})})(t,Lg(Og.Z1(r)));return new $w(i)}constructor(t,e){this.signingKey=t?Cg.sign.keyPair.fromSeed(t.slice(0,32)):Cg.sign.keyPair(),this.accountAddress=tb.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new Tb(this.signingKey.publicKey);return Fw.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const r=mb(kb.fromHex(t)),i=new Uint8Array([...r,...e,Fw.DERIVE_RESOURCE_ACCOUNT_SCHEME]),n=Ty.create();return n.update(i),tb.fromUint8Array(n.digest())}pubKey(){return tb.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=Cg.sign.detached(t,this.signingKey.secretKey);return tb.fromUint8Array(e)}signHexString(t){const e=tb.ensure(t).toUint8Array();return this.signBuffer(e)}verifySignature(t,e){const r=tb.ensure(t).toUint8Array(),i=tb.ensure(e).toUint8Array();return Cg.sign.detached.verify(r,i,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:tb.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Ww=$w;Wy([Xy()],Ww.prototype,"authKey",1);var Vw=class{constructor(t){this.endpoint=t}static validateAddress(t){if(t.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(t){const{data:e}=await jy.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){return this.queryIndexer({query:"\n    query getIndexerLedgerInfo {\n  ledger_infos {\n    chain_id\n  }\n}\n    "})}async getAccountNFTs(t,e){const r=tb.ensure(t).hex();Vw.validateAddress(r);const i={query:"\n    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {\n  current_token_ownerships(\n    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}\n    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    current_token_data {\n      ...TokenDataFields\n    }\n    current_collection_data {\n      ...CollectionDataFields\n    }\n    last_transaction_version\n    property_version\n  }\n}\n    \n    fragment TokenDataFields on current_token_datas {\n  creator_address\n  collection_name\n  description\n  metadata_uri\n  name\n  token_data_id_hash\n  collection_data_id_hash\n}\n    \n\n    fragment CollectionDataFields on current_collection_datas {\n  metadata_uri\n  supply\n  description\n  collection_name\n  collection_data_id_hash\n  table_handle\n  creator_address\n}\n    ",variables:{address:r,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(i)}async getTokenActivities(t,e){const r={query:"\n    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {\n  token_activities(\n    where: {token_data_id_hash: {_eq: $idHash}}\n    order_by: {transaction_version: desc}\n    offset: $offset\n    limit: $limit\n  ) {\n    creator_address\n    collection_name\n    name\n    token_data_id_hash\n    collection_data_id_hash\n    from_address\n    to_address\n    transaction_version\n    transaction_timestamp\n    property_version\n    transfer_type\n    event_sequence_number\n    token_amount\n  }\n}\n    ",variables:{idHash:t,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(r)}async getAccountCoinsData(t,e){const r=tb.ensure(t).hex();Vw.validateAddress(r);const i={query:"\n    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {\n  current_coin_balances(\n    where: {owner_address: {_eq: $owner_address}}\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    coin_type\n    coin_info {\n      name\n      decimals\n      symbol\n    }\n  }\n}\n    ",variables:{owner_address:r,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(i)}async getAccountTokensCount(t){const e=tb.ensure(t).hex();Vw.validateAddress(e);const r={query:'\n    query getAccountTokensCount($owner_address: String) {\n  current_token_ownerships_aggregate(\n    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{owner_address:e}};return this.queryIndexer(r)}async getAccountTransactionsCount(t){const e=tb.ensure(t).hex();Vw.validateAddress(e);const r={query:"\n    query getAccountTransactionsCount($address: String) {\n  move_resources_aggregate(\n    where: {address: {_eq: $address}}\n    distinct_on: transaction_version\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{address:e}};return this.queryIndexer(r)}async getAccountTransactionsData(t,e){const r=tb.ensure(t).hex();Vw.validateAddress(r);const i={query:"\n    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {\n  move_resources(\n    where: {address: {_eq: $address}}\n    order_by: {transaction_version: desc}\n    distinct_on: transaction_version\n    limit: $limit\n    offset: $offset\n  ) {\n    transaction_version\n  }\n}\n    ",variables:{address:r,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(i)}async getDelegatedStakingActivities(t,e){const r=tb.ensure(t).hex(),i=tb.ensure(e).hex();Vw.validateAddress(r),Vw.validateAddress(i);const n={query:"\n    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {\n  delegated_staking_activities(\n    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}\n  ) {\n    amount\n    delegator_address\n    event_index\n    event_type\n    pool_address\n    transaction_version\n  }\n}\n    ",variables:{delegatorAddress:r,poolAddress:i}};return this.queryIndexer(n)}async getTokenActivitiesCount(t){const e={query:"\n    query getTokenActivitiesCount($token_id: String) {\n  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{token_id:t}};return this.queryIndexer(e)}async getTokenData(t){const e={query:"\n    query getTokenData($token_id: String) {\n  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {\n    token_data_id_hash\n    name\n    collection_name\n    creator_address\n    default_properties\n    largest_property_version\n    maximum\n    metadata_uri\n    payee_address\n    royalty_points_denominator\n    royalty_points_numerator\n    supply\n  }\n}\n    ",variables:{token_id:t}};return this.queryIndexer(e)}async getTokenOwnersData(t,e){const r={query:"\n    query getTokenOwnersData($token_id: String, $property_version: numeric) {\n  current_token_ownerships(\n    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}\n  ) {\n    owner_address\n  }\n}\n    ",variables:{token_id:t,property_version:e}};return this.queryIndexer(r)}async getTopUserTransactions(t){const e={query:"\n    query getTopUserTransactions($limit: Int) {\n  user_transactions(limit: $limit, order_by: {version: desc}) {\n    version\n  }\n}\n    ",variables:{limit:t}};return this.queryIndexer(e)}async getUserTransactions(t,e){const r={query:"\n    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {\n  user_transactions(\n    limit: $limit\n    order_by: {version: desc}\n    where: {version: {_lte: $start_version}}\n    offset: $offset\n  ) {\n    version\n  }\n}\n    ",variables:{start_version:t,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(t){const e=tb.ensure(t).hex();Vw.validateAddress(e);const r={query:'\n    query getCurrentDelegatorBalancesCount($poolAddress: String) {\n  current_delegator_balances_aggregate(\n    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}\n    distinct_on: delegator_address\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{poolAddress:e}};return this.queryIndexer(r)}};$y({},{$AccountData:()=>wv,$AccountSignature:()=>vv,$AccountSignature_Ed25519Signature:()=>_v,$AccountSignature_MultiEd25519Signature:()=>Mv,$Address:()=>Sv,$AptosError:()=>Ev,$AptosErrorCode:()=>Av,$Block:()=>kv,$BlockMetadataTransaction:()=>xv,$DecodedTableData:()=>Tv,$DeleteModule:()=>Iv,$DeleteResource:()=>Rv,$DeleteTableItem:()=>Pv,$DeletedTableData:()=>Bv,$DirectWriteSet:()=>Cv,$Ed25519Signature:()=>Ov,$EncodeSubmissionRequest:()=>Uv,$EntryFunctionId:()=>Nv,$EntryFunctionPayload:()=>Lv,$Event:()=>qv,$EventGuid:()=>zv,$GasEstimation:()=>Dv,$GenesisPayload:()=>jv,$GenesisPayload_WriteSetPayload:()=>Hv,$GenesisTransaction:()=>Fv,$HashValue:()=>Kv,$HealthCheckSuccess:()=>$v,$HexEncodedBytes:()=>Wv,$IdentifierWrapper:()=>Vv,$IndexResponse:()=>Gv,$ModuleBundlePayload:()=>Jv,$MoveAbility:()=>Zv,$MoveFunction:()=>Xv,$MoveFunctionGenericTypeParam:()=>Yv,$MoveFunctionVisibility:()=>Qv,$MoveModule:()=>t_,$MoveModuleBytecode:()=>e_,$MoveModuleId:()=>r_,$MoveResource:()=>i_,$MoveScriptBytecode:()=>n_,$MoveStruct:()=>s_,$MoveStructField:()=>o_,$MoveStructGenericTypeParam:()=>a_,$MoveStructTag:()=>u_,$MoveStructValue:()=>h_,$MoveType:()=>c_,$MoveValue:()=>f_,$MultiAgentSignature:()=>l_,$MultiEd25519Signature:()=>d_,$MultisigPayload:()=>p_,$MultisigTransactionPayload:()=>m_,$PendingTransaction:()=>g_,$RawTableItemRequest:()=>y_,$RoleType:()=>b_,$ScriptPayload:()=>w_,$ScriptWriteSet:()=>v_,$StateCheckpointTransaction:()=>__,$StateKeyWrapper:()=>M_,$SubmitTransactionRequest:()=>S_,$TableItemRequest:()=>E_,$Transaction:()=>A_,$TransactionPayload:()=>R_,$TransactionPayload_EntryFunctionPayload:()=>P_,$TransactionPayload_ModuleBundlePayload:()=>C_,$TransactionPayload_MultisigPayload:()=>O_,$TransactionPayload_ScriptPayload:()=>U_,$TransactionSignature:()=>q_,$TransactionSignature_Ed25519Signature:()=>z_,$TransactionSignature_MultiAgentSignature:()=>D_,$TransactionSignature_MultiEd25519Signature:()=>j_,$Transaction_BlockMetadataTransaction:()=>k_,$Transaction_GenesisTransaction:()=>x_,$Transaction_PendingTransaction:()=>T_,$Transaction_StateCheckpointTransaction:()=>B_,$Transaction_UserTransaction:()=>I_,$TransactionsBatchSingleSubmissionFailure:()=>N_,$TransactionsBatchSubmissionResult:()=>L_,$U128:()=>H_,$U256:()=>F_,$U64:()=>K_,$UserTransaction:()=>$_,$VersionedEvent:()=>W_,$ViewRequest:()=>V_,$WriteModule:()=>G_,$WriteResource:()=>J_,$WriteSet:()=>Z_,$WriteSetChange:()=>Q_,$WriteSetChange_DeleteModule:()=>tM,$WriteSetChange_DeleteResource:()=>eM,$WriteSetChange_DeleteTableItem:()=>rM,$WriteSetChange_WriteModule:()=>iM,$WriteSetChange_WriteResource:()=>nM,$WriteSetChange_WriteTableItem:()=>sM,$WriteSetPayload:()=>oM,$WriteSet_DirectWriteSet:()=>X_,$WriteSet_ScriptWriteSet:()=>Y_,$WriteTableItem:()=>aM,AccountsService:()=>av,ApiError:()=>Jw,AptosErrorCode:()=>gv,AptosGeneratedClient:()=>pv,BaseHttpRequest:()=>Gw,BlocksService:()=>uv,CancelError:()=>Zw,CancelablePromise:()=>Xw,EventsService:()=>hv,GeneralService:()=>cv,MoveFunctionVisibility:()=>yv,OpenAPI:()=>mv,RoleType:()=>bv,TablesService:()=>fv,TransactionsService:()=>lv,ViewService:()=>dv});var Gw=class{constructor(t){this.config=t}},Jw=class extends Error{constructor(t,e,r){super(r),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},Zw=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},Xw=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise(((e,r)=>{this._resolve=e,this._reject=r;const i=t=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(t)};return Object.defineProperty(i,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(i,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(i,"isCancelled",{get:()=>this._isCancelled}),t((t=>{var e;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,null==(e=this._resolve)||e.call(this,t))}),(t=>{var e;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,null==(e=this._reject)||e.call(this,t))}),i)}))}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const t of this._cancelHandlers)t()}catch(t){return void console.warn("Cancellation threw an error",t)}this._cancelHandlers.length=0,null==(t=this._reject)||t.call(this,new Zw("Request aborted"))}}get isCancelled(){return this._isCancelled}};Symbol.toStringTag;var Yw=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var r;const i=t.origin.toLowerCase();this.jar.has(i)||this.jar.set(i,[]);const n=Yw.parse(e);this.jar.set(i,[...(null==(r=this.jar.get(i))?void 0:r.filter((t=>t.name!==n.name)))||[],n])}getCookies(t){var e;const r=t.origin.toLowerCase();return this.jar.get(r)&&(null==(e=this.jar.get(r))?void 0:e.filter((t=>!t.expires||t.expires>new Date)))||[]}static parse(t){if("string"!=typeof t)throw new Error("argument str must be a string");const e=t.split(";").map((t=>t.trim()));let r;if(!(e.length>0))throw new Error("Invalid cookie");{const[t,i]=e[0].split("=");if(!t||!i)throw new Error("Invalid cookie");r={name:t,value:i}}return e.slice(1).forEach((t=>{const[e,i]=t.split("=");if(!e.trim())throw new Error("Invalid cookie");const n=e.toLowerCase(),s="'"===(null==i?void 0:i.charAt(0))||'"'===(null==i?void 0:i.charAt(0))?null==i?void 0:i.slice(1,-1):i;if("expires"===n&&(r.expires=new Date(s)),"path"===n&&(r.path=s),"samesite"===n){if("Lax"!==s&&"None"!==s&&"Strict"!==s)throw new Error("Invalid cookie SameSite value");r.sameSite=s}"secure"===n&&(r.secure=!0)})),r}},Qw=new Yw;jy.interceptors.response.use((t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach((e=>{Qw.setCookie(new URL(t.config.url),e)})),t))),jy.interceptors.request.use((function(t){const e=Qw.getCookies(new URL(t.url));return(null==e?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map((t=>`${t.name}=${t.value}`)).join("; ")),t}));var tv=t=>null!=t,ev=t=>"string"==typeof t,rv=t=>ev(t)&&""!==t,iv=t=>"object"==typeof t&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.arrayBuffer&&"function"==typeof t.constructor&&"string"==typeof t.constructor.name&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),nv=async(t,e)=>"function"==typeof e?e(t):e,sv=(t,e)=>new Xw((async(r,i,n)=>{try{const i=((t,e)=>{const r=t.ENCODE_PATH||encodeURI,i=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,((t,i)=>{var n;return(null==(n=e.path)?void 0:n.hasOwnProperty(i))?r(String(e.path[i])):t})),n=`${t.BASE}${i}`;return e.query?`${n}${(t=>{const e=[],r=(t,i)=>{tv(i)&&(Array.isArray(i)?i.forEach((e=>{r(t,e)})):"object"==typeof i?Object.entries(i).forEach((([e,i])=>{r(`${t}[${e}]`,i)})):((t,r)=>{e.push(`${encodeURIComponent(t)}=${encodeURIComponent(String(r))}`)})(t,i))};return Object.entries(t).forEach((([t,e])=>{r(t,e)})),e.length>0?`?${e.join("&")}`:""})(e.query)}`:n})(t,e),o=(t=>{if(t.formData){const e=new Hy,r=(t,r)=>{ev(r)||iv(r)?e.append(t,r):e.append(t,JSON.stringify(r))};return Object.entries(t.formData).filter((([t,e])=>tv(e))).forEach((([t,e])=>{Array.isArray(e)?e.forEach((e=>r(t,e))):r(t,e)})),e}})(e),a=(t=>{if(t.body)return t.body})(e),u=await(async(t,e,r)=>{const i=await nv(e,t.TOKEN),n=await nv(e,t.USERNAME),s=await nv(e,t.PASSWORD),o=await nv(e,t.HEADERS),a="function"==typeof(null==r?void 0:r.getHeaders)&&(null==r?void 0:r.getHeaders())||{},u=Object.entries({Accept:"application/json",...o,...e.headers,...a}).filter((([t,e])=>tv(e))).reduce(((t,[e,r])=>({...t,[e]:String(r)})),{});if(rv(i)&&(u.Authorization=`Bearer ${i}`),rv(n)&&rv(s)){const t=btoa(`${n}:${s}`);u.Authorization=`Basic ${t}`}return e.body&&(e.mediaType?u["Content-Type"]=e.mediaType:iv(e.body)?u["Content-Type"]=e.body.type||"application/octet-stream":ev(e.body)?u["Content-Type"]="text/plain":e.body instanceof Hy||(u["Content-Type"]="application/json")),u})(t,e,o);if(!n.isCancelled){const h=await(async(t,e,r,i,n,s,o)=>{const a=jy.CancelToken.source(),u={url:r,headers:s,data:null!=i?i:n,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(t.HEADERS||{}).filter((t=>"accept"===t.toLowerCase())).map((e=>t.HEADERS[e])).includes("application/x-bcs")&&(u.responseType="arraybuffer"),o((()=>a.cancel("The user aborted a request.")));try{return await jy.request(u)}catch(t){const e=t;if(e.response)return e.response;throw t}})(t,e,i,a,o,u,n),c=(t=>{if(204!==t.status)return t.data})(h),f=((t,e)=>{if(e){const r=t.headers[e];if(ev(r))return r}})(h,e.responseHeader),l={url:i,ok:(s=h.status,s>=200&&s<300),status:h.status,statusText:h.statusText,body:null!=f?f:c};((t,e)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new Jw(t,e,r);if(!e.ok)throw new Jw(t,e,"Generic Error")})(e,l);const d=l.body;try{d.__headers=h.headers}catch(t){}r(d)}}catch(t){i(t)}var s})),ov=class extends Gw{constructor(t){super(t)}request(t){return sv(this.config,t)}},av=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:r,limit:i}})}getAccountModules(t,e,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:r,limit:i}})}getAccountResource(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:r}})}getAccountModule(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:r}})}},uv=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},hv=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:r,limit:i}})}getEventsByEventHandle(t,e,r,i,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:r},query:{start:i,limit:n}})}},cv=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},fv=class{constructor(t){this.httpRequest=t}getTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}getRawTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}},lv=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:r}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,r,i){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:i},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},dv=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},pv=class{constructor(t,e=ov){var r,i,n,s;this.request=new e({BASE:null!=(r=null==t?void 0:t.BASE)?r:"/v1",VERSION:null!=(i=null==t?void 0:t.VERSION)?i:"1.2.0",WITH_CREDENTIALS:null!=(n=null==t?void 0:t.WITH_CREDENTIALS)&&n,CREDENTIALS:null!=(s=null==t?void 0:t.CREDENTIALS)?s:"include",TOKEN:null==t?void 0:t.TOKEN,USERNAME:null==t?void 0:t.USERNAME,PASSWORD:null==t?void 0:t.PASSWORD,HEADERS:null==t?void 0:t.HEADERS,ENCODE_PATH:null==t?void 0:t.ENCODE_PATH}),this.accounts=new av(this.request),this.blocks=new uv(this.request),this.events=new hv(this.request),this.general=new cv(this.request),this.tables=new fv(this.request),this.transactions=new lv(this.request),this.view=new dv(this.request)}},mv={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},gv=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(gv||{}),yv=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(yv||{}),bv=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(bv||{}),wv={description:"Account data\n\n    A simplified version of the onchain Account resource",properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},vv={type:"one-of",description:"Account signature scheme\n\n    The account signature scheme allows you to have two types of accounts:\n\n    1. A single Ed25519 key account, one private key\n    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.",contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},_v={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Mv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Sv={type:"string",description:"A hex encoded 32 byte Aptos account address.\n\n    This is represented in a string as a 64 character hex string, sometimes\n    shortened by stripping leading 0s, and adding a 0x.\n\n    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.\n    ",format:"hex"},Ev={description:"This is the generic struct we use for all API errors, it contains a string\n    message and an Aptos API specific error code.",properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},Av={type:"Enum"},kv={description:"A Block with or without transactions\n\n    This contains the information about a transactions along with\n    associated transactions if requested",properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},xv={description:"A block metadata transaction\n\n    This signifies the beginning of a block, and contains information\n    about the specific block",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Tv={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},Bv={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},Iv={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Rv={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Pv={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Cv={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Ov={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Uv={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},Nv={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},Lv={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},qv={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},zv={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},Dv={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},jv={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},Hv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},Fv={description:"The genesis transaction\n\n    This only occurs at the genesis transaction (version 0)",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Kv={type:"string"},$v={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},Wv={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Vv={type:"string"},Gv={description:'The struct holding all data returned to the client by the\n    index endpoint (i.e., GET "/").  Only for responding in JSON',properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:"Git hash of the build of the API endpoint.  Can be used to determine the exact\n            software version used by the API endpoint."}}},Jv={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Zv={type:"string"},Xv={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},Yv={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Qv={type:"Enum"},t_={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},e_={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},r_={type:"string",description:"Move module id is a string representation of Move module.\n\n    Format: `{address}::{module name}`\n\n    `address` should be hex-encoded 32 byte account address that is prefixed with `0x`.\n\n    Module name is case-sensitive.\n    "},i_={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},n_={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},s_={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},o_={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},a_={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},u_={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},h_={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},c_={type:"string",description:"String representation of an on-chain Move type tag that is exposed in transaction payload.\n    Values:\n    - bool\n    - u8\n    - u16\n    - u32\n    - u64\n    - u128\n    - u256\n    - address\n    - signer\n    - vector: `vector<{non-reference MoveTypeId}>`\n    - struct: `{address}::{module_name}::{struct_name}::<{generic types}>`\n\n    Vector type value examples:\n    - `vector<u8>`\n    - `vector<vector<u64>>`\n    - `vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>`\n\n    Struct type value examples:\n    - `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>\n    - `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n    ",pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},f_={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},l_={description:"Multi agent signature for multi agent transactions\n\n    This allows you to have transactions across multiple accounts",properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},d_={description:"A Ed25519 multi-sig signature\n\n    This allows k-of-n signing for a transaction",properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},p_={description:"A multisig transaction that allows an owner of a multisig account to execute a pre-approved\n    transaction as the multisig account.",properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},m_={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},g_={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},y_={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},b_={type:"Enum"},w_={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},v_={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},__={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},M_={type:"string",description:"Representation of a StateKey as a hex string. This is used for cursor based pagination.\n    "},S_={description:"A request to submit a transaction\n\n    This requires a transaction and a signature of it",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},E_={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},A_={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},k_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},x_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},T_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},B_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},I_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},R_={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},P_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},C_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},O_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},U_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},N_={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},L_={description:"Batch transaction submission result\n\n    Tells which transactions failed",properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},q_={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},z_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},D_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},j_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},H_={type:"string",description:"A string containing a 128-bit unsigned integer.\n\n    We represent u128 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u128s in JSON natively.\n    ",format:"uint128"},F_={type:"string",description:"A string containing a 256-bit unsigned integer.\n\n    We represent u256 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u256s in JSON natively.\n    ",format:"uint256"},K_={type:"string",description:"A string containing a 64-bit unsigned integer.\n\n    We represent u64 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u64s in JSON natively.\n    ",format:"uint64"},$_={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},W_={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},V_={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},G_={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},J_={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},Z_={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},X_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},Y_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},Q_={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},tM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},eM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},rM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},iM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},nM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},sM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},oM={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},aM={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function uM(t,e,r){if(!(null==e?void 0:e.includes(typeof t)))throw new Error(r||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function hM(t){if(uM(t,["boolean","string"]),"boolean"==typeof t)return t;if("true"===t)return!0;if("false"===t)return!1;throw new Error("Invalid boolean string.")}function cM(t){if(uM(t,["number","string"]),"number"==typeof t)return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function fM(t){return uM(t,["number","bigint","string"]),BigInt(t)}function lM(t,e,r){if(e instanceof Fb)r.serializeBool(hM(t));else if(e instanceof Kb)r.serializeU8(cM(t));else if(e instanceof $b)r.serializeU16(cM(t));else if(e instanceof Wb)r.serializeU32(cM(t));else if(e instanceof Vb)r.serializeU64(fM(t));else if(e instanceof Gb)r.serializeU128(fM(t));else if(e instanceof Jb)r.serializeU256(fM(t));else{if(!(e instanceof Zb)){if(e instanceof Yb){if(e.value instanceof Kb){if(t instanceof Uint8Array)return void r.serializeBytes(t);if("string"==typeof t)return void r.serializeStr(t)}if(!Array.isArray(t))throw new Error("Invalid vector args.");return r.serializeU32AsUleb128(t.length),void t.forEach((t=>lM(t,e.value,r)))}if(e instanceof Qb){const{address:i,module_name:n,name:s}=e.value;if("0x1::string::String"!=`${tb.fromUint8Array(i.address).toShortString()}::${n.value}::${s.value}`)throw new Error("The only supported struct arg is of type 0x1::string::String");return uM(t,["string"]),void r.serializeStr(t)}throw new Error("Unsupported arg type.")}{let e;if("string"==typeof t||t instanceof tb)e=kb.fromHex(t);else{if(!(t instanceof kb))throw new Error("Invalid account address.");e=t}e.serialize(r)}}}var dM=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,r)}static getSigningMessage(t){const e=Ty.create();if(t instanceof uw)e.update("APTOS::RawTransaction");else{if(!(t instanceof ww))throw new Error("Unknown transaction type.");e.update("APTOS::RawTransactionWithData")}const r=e.digest(),i=mb(t),n=new Uint8Array(r.length+i.length);return n.set(r),n.set(i,r.length),n}},pM=class extends dM{constructor(t,e,r){super(t,r),this.publicKey=e}rawToSigned(t){const e=dM.getSigningMessage(t),r=this.signingFunction(e),i=new Ub(new Tb(this.publicKey),r);return new yw(t,i)}sign(t){return mb(this.rawToSigned(t))}},mM=class extends dM{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=dM.getSigningMessage(t),r=this.signingFunction(e),i=new Nb(this.publicKey,r);return new yw(t,i)}sign(t){return mb(this.rawToSigned(t))}},gM=class{constructor(t,e){this.abiMap=new Map,t.forEach((t=>{const e=new fb(t),r=zw.deserialize(e);let i;if(r instanceof jw){const t=r,{address:e,name:n}=t.module_name;i=`${tb.fromUint8Array(e.address).toShortString()}::${n.value}::${t.name}`}else i=r.name;if(this.abiMap.has(i))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(i,r)})),this.builderConfig={maxGasAmount:BigInt(Zy),expSecFromNow:20,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map(((e,r)=>{const i=new hb;return lM(e,t[r].type_tag,i),i.getBytes()}))}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map(((e,r)=>function(t,e){if(e instanceof Fb)return new Ow(hM(t));if(e instanceof Kb)return new kw(cM(t));if(e instanceof $b)return new xw(cM(t));if(e instanceof Wb)return new Tw(cM(t));if(e instanceof Vb)return new Bw(fM(t));if(e instanceof Gb)return new Iw(fM(t));if(e instanceof Jb)return new Rw(fM(t));if(e instanceof Zb){let e;if("string"==typeof t||t instanceof tb)e=kb.fromHex(t);else{if(!(t instanceof kb))throw new Error("Invalid account address.");e=t}return new Pw(e)}if(e instanceof Yb&&e.value instanceof Kb){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Cw(t)}throw new Error("Unknown type for TransactionArgument.")}(e,t[r].type_tag)))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,r){const i=e.map((t=>new ow(t).parseTypeTag()));let n;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof jw){const t=s,e=gM.toBCSArgs(t.args,r);n=new Mw(new cw(t.module_name,new jb(t.name),i,e))}else{if(!(s instanceof Dw))throw new Error("Unknown ABI format.");{const t=s,e=gM.toTransactionArguments(t.args,r);n=new _w(new hw(t.code,i,e))}}return n}build(t,e,r){const{sender:i,sequenceNumber:n,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:u}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const h=i instanceof kb?i:kb.fromHex(i),c=BigInt(Math.floor(Date.now()/1e3)+Number(a)),f=this.buildTransactionPayload(t,e,r);if(f)return new uw(h,BigInt(n),f,BigInt(o),BigInt(s),c,new Ew(Number(u)));throw new Error("Invalid ABI.")}},yM=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const e=(await this.aptosClient.getAccountModules(t)).map((t=>t.abi)).flatMap((t=>t.exposed_functions.filter((t=>t.is_entry)).map((e=>({fullName:`${t.address}::${t.name}::${e.name}`,...e}))))),r=new Map;return e.forEach((t=>{r.set(t.fullName,t)})),r}async build(t,e,r){if(3!==(t=t.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[i,n]=t.split("::"),s=await this.fetchABI(i);if(!s.has(t))throw new Error(`${t} doesn't exist.`);const o=s.get(t),a=o.params.filter((t=>"signer"!==t&&"&signer"!==t)).map(((t,r)=>new qw(`var${r}`,new ow(t,e).parseTypeTag()))),u=new jw(o.name,pw.fromStr(`${i}::${n}`),"",o.generic_type_params.map(((t,e)=>new Lw(`${e}`))),a),{sender:h,...c}=this.builderConfig,f=h instanceof kb?tb.fromUint8Array(h.address):h,[{sequence_number:l},d,{gas_estimate:p}]=await Promise.all([(null==c?void 0:c.sequenceNumber)?Promise.resolve({sequence_number:null==c?void 0:c.sequenceNumber}):this.aptosClient.getAccount(f),(null==c?void 0:c.chainId)?Promise.resolve(null==c?void 0:c.chainId):this.aptosClient.getChainId(),(null==c?void 0:c.gasUnitPrice)?Promise.resolve({gas_estimate:null==c?void 0:c.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new gM([mb(u)],{sender:h,sequenceNumber:l,chainId:d,gasUnitPrice:BigInt(p),...c}).build(t,e,r)}};Wy([(6e5,Xy({ttlMs:6e5,hashFunction:undefined}))],yM.prototype,"fetchABI",1);var bM=class{constructor(t,e,r=!1){if(!t)throw new Error("Node URL cannot be empty.");const i=null==e?{}:{...e};this.nodeUrl=r?t:function(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith("/v1")||(e=`${e}/v1`),e}(t),i.BASE=this.nodeUrl,!1===(null==e?void 0:e.WITH_CREDENTIALS)?i.WITH_CREDENTIALS=!1:i.WITH_CREDENTIALS=!0,this.client=new pv(i)}async getAccount(t){return this.client.accounts.getAccount(tb.ensure(t).hex())}async getAccountTransactions(t,e){var r;return this.client.transactions.getAccountTransactions(tb.ensure(t).hex(),null==(r=null==e?void 0:e.start)?void 0:r.toString(),null==e?void 0:e.limit)}async getAccountModules(t,e){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await eb(r,t,1e3,e)}async getAccountModule(t,e,r){var i;return this.client.accounts.getAccountModule(tb.ensure(t).hex(),e,null==(i=null==r?void 0:r.ledgerVersion)?void 0:i.toString())}async getAccountResources(t,e){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await eb(r,t,9999,e)}async getAccountResource(t,e,r){var i;return this.client.accounts.getAccountResource(tb.ensure(t).hex(),e,null==(i=null==r?void 0:r.ledgerVersion)?void 0:i.toString())}static generateBCSTransaction(t,e){return new pM((e=>{const r=t.signBuffer(e);return new nb.Ed25519Signature(r.toUint8Array())}),t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new pM((t=>{const e=new Uint8Array(64);return new nb.Ed25519Signature(e)}),t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,r){const i={sender:t};if((null==r?void 0:r.sequence_number)&&(i.sequenceNumber=r.sequence_number),(null==r?void 0:r.gas_unit_price)&&(i.gasUnitPrice=r.gas_unit_price),(null==r?void 0:r.max_gas_amount)&&(i.maxGasAmount=r.max_gas_amount),null==r?void 0:r.expiration_timestamp_secs){const t=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=t-Math.floor(Date.now()/1e3)}return new yM(this,i).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(bM.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,r){var i;return this.client.events.getEventsByCreationNumber(tb.ensure(t).hex(),e.toString(),null==(i=null==r?void 0:r.start)?void 0:i.toString(),null==r?void 0:r.limit)}async getEventsByEventHandle(t,e,r,i){var n;return this.client.events.getEventsByEventHandle(tb.ensure(t).hex(),e,r,null==(n=null==i?void 0:i.start)?void 0:n.toString(),null==i?void 0:i.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,r){let i;return i=t instanceof Ww?bM.generateBCSSimulation(t,e):t instanceof Rb?new mM((()=>{const{threshold:e}=t,r=[],i=[];for(let t=0;t<e;t+=1)r.push(t),i.push(new nb.Ed25519Signature(new Uint8Array(64)));const n=nb.MultiEd25519Signature.createBitmap(r);return new nb.MultiEd25519Signature(i,n)}),t).sign(e):new pM((()=>{const t=new Uint8Array(64);return new nb.Ed25519Signature(t)}),t.toBytes()).sign(e),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var r,i,n;const s={estimate_gas_unit_price:null!=(r=null==e?void 0:e.estimateGasUnitPrice)&&r,estimate_max_gas_amount:null!=(i=null==e?void 0:e.estimateMaxGasAmount)&&i,estimate_prioritized_gas_unit_price:null!=(n=null==e?void 0:e.estimatePrioritizedGasUnitPrice)&&n};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions(null==(e=null==t?void 0:t.start)?void 0:e.toString(),null==t?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return"pending_transaction"===(await this.client.transactions.getTransactionByHash(t)).type}catch(t){if(404===(null==t?void 0:t.status))return!0;throw t}}async waitForTransactionWithResult(t,e){var r,i;const n=null!=(r=null==e?void 0:e.timeoutSecs)?r:20,s=null!=(i=null==e?void 0:e.checkSuccess)&&i;let o,a=!0,u=0;for(;a&&!(u>=n);){try{if(o=await this.client.transactions.getTransactionByHash(t),a="pending_transaction"===o.type,!a)break}catch(t){const e=t instanceof Jw,r=e&&404!==t.status&&t.status>=400&&t.status<500;if(!e||r)throw t}await Jy(1e3),u+=1}if(void 0===o)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new _M(`Waiting for transaction ${t} timed out after ${n} seconds`,o);if(!s)return o;if(!(null==o?void 0:o.success))throw new MM(`Transaction ${t} committed to the blockchain but execution failed`,o);return o}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,r){var i;return await this.client.tables.getTableItem(t,e,null==(i=null==r?void 0:r.ledgerVersion)?void 0:i.toString())}async generateRawTransaction(t,e,r){const[{sequence_number:i},n,{gas_estimate:s}]=await Promise.all([this.getAccount(t),this.getChainId(),(null==r?void 0:r.gasUnitPrice)?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:u}={maxGasAmount:BigInt(Zy),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...r};return new nb.RawTransaction(nb.AccountAddress.fromHex(t),BigInt(i),e,o,a,u,new nb.ChainId(n))}async generateSignSubmitTransaction(t,e,r){const i=await this.generateRawTransaction(t.address(),e,r),n=bM.generateBCSTransaction(t,i);return(await this.submitSignedBCSTransaction(n)).hash}async publishPackage(t,e,r,i){const n=new hb;lb(r,n);const s=new nb.TransactionPayloadEntryFunction(nb.EntryFunction.natural("0x1::code","publish_package_txn",[],[Sb(e),n.getBytes()]));return this.generateSignSubmitTransaction(t,s,i)}async generateSignSubmitWaitForTransaction(t,e,r){const i=await this.generateSignSubmitTransaction(t,e,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const[{gas_estimate:e},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),i=r.find((t=>"0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>"===t.type));return BigInt(i.data.coin.value)/BigInt(e)}async rotateAuthKeyEd25519(t,e,r){const{sequence_number:i,authentication_key:n}=await this.getAccount(t.address()),s=new Ww(e),o=new nb.RotationProofChallenge(nb.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),nb.AccountAddress.fromHex(t.address()),new nb.AccountAddress(new tb(n).toUint8Array()),s.pubKey().toUint8Array()),a=tb.fromUint8Array(mb(o)),u=t.signHexString(a),h=s.signHexString(a),c=new nb.TransactionPayloadEntryFunction(nb.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[yb(0),Sb(t.pubKey().toUint8Array()),yb(0),Sb(s.pubKey().toUint8Array()),Sb(u.toUint8Array()),Sb(h.toUint8Array())])),f=await this.generateRawTransaction(t.address(),c,r),l=bM.generateBCSTransaction(t,f);return this.submitSignedBCSTransaction(l)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=e.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:tb.ensure(t).hex()});return new tb(i)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){!function(t){const e=new Set;for(const r of t){const t=Yy.get(r);if(t)for(const r of t)e.has(r)||(r.clear(),e.add(r))}e.size}(t)}},wM=bM;Wy([SM],wM.prototype,"getAccount",1),Wy([SM],wM.prototype,"getAccountTransactions",1),Wy([SM],wM.prototype,"getAccountModules",1),Wy([SM],wM.prototype,"getAccountModule",1),Wy([SM],wM.prototype,"getAccountResources",1),Wy([SM],wM.prototype,"getAccountResource",1),Wy([SM],wM.prototype,"getEventsByCreationNumber",1),Wy([SM],wM.prototype,"getEventsByEventHandle",1),Wy([SM],wM.prototype,"submitSignedBCSTransaction",1),Wy([SM],wM.prototype,"submitBCSSimulation",1),Wy([SM],wM.prototype,"getTransactions",1),Wy([SM],wM.prototype,"getTransactionByHash",1),Wy([SM],wM.prototype,"getTransactionByVersion",1),Wy([SM],wM.prototype,"getLedgerInfo",1),Wy([Xy()],wM.prototype,"getChainId",1),Wy([SM],wM.prototype,"getTableItem",1),Wy([SM,Xy({ttlMs:3e5,tags:["gas_estimates"]})],wM.prototype,"estimateGasPrice",1),Wy([SM],wM.prototype,"estimateMaxGasAmount",1),Wy([SM],wM.prototype,"getBlockByHeight",1),Wy([SM],wM.prototype,"getBlockByVersion",1),Wy([SM],wM.prototype,"view",1);var vM=class extends Error{constructor(t,e,r,i){super(e),this.status=t,this.message=e,this.errorCode=r,this.vmErrorCode=i}},_M=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},MM=class extends Error{constructor(t,e){super(t),this.transaction=e}};function SM(t,e,r){const i=r.value;return r.value=async function(...t){var e,r;try{return await i.apply(this,[...t])}catch(t){if(t instanceof Jw)throw new vM(t.status,JSON.stringify({message:t.message,...t.body}),null==(e=t.body)?void 0:e.error_code,null==(r=t.body)?void 0:r.vm_error_code);throw t}},r}var EM=class{constructor(t,e,r=!1){let i=null,n=null;if("object"==typeof t&&function(t){return void 0!==t.fullnodeUrl&&"string"==typeof t.fullnodeUrl&&void 0!==t.indexerUrl&&"string"==typeof t.indexerUrl}(t)?(i=t.fullnodeUrl,n=t.indexerUrl,this.network="CUSTOM"):(i=ib[t],n=rb[t],this.network=t),!i||!n)throw new Error("network is not provided");this.aptosClient=new wM(i,e,r),this.indexerClient=new Vw(n)}};function AM(t,e,r){Object.getOwnPropertyNames(e.prototype).forEach((i=>{const n=Object.getOwnPropertyDescriptor(e.prototype,i);n&&(n.value=function(...t){return this[r][i](...t)},Object.defineProperty(t.prototype,i,n))}))}AM(EM,wM,"aptosClient"),AM(EM,Vw,"indexerClient");var kM=class{constructor(t,e){this.type=t,this.value=e}},xM=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function TM(t){const e=t.map.data,r=new xM;return e.forEach((t=>{const{key:e}=t,i=t.value.value,n=t.value.type,s=function(t,e){const r=new fb(new tb(e).toUint8Array());let i="";return i=t instanceof Kb?r.deserializeU8().toString():t instanceof Vb?r.deserializeU64().toString():t instanceof Gb?r.deserializeU128().toString():t instanceof Fb?r.deserializeBool()?"true":"false":t instanceof Zb?tb.fromUint8Array(r.deserializeFixedBytes(32)).hex():t instanceof Qb&&t.isStringTypeTag()?r.deserializeStr():e,i}(function(t){let e;return e="string"===t||"String"===t?new Qb(ew):new ow(t).parseTypeTag(),e}(n),i),o=new kM(n,s);r.setProperty(e,o)})),r}$y({},{PropertyMap:()=>xM,PropertyValue:()=>kM,Token:()=>IM,TokenData:()=>BM});var BM=class{constructor(t,e,r,i,n,s,o,a){this.collection=t,this.description=e,this.name=r,this.maximum=i,this.supply=n,this.uri=s,this.default_properties=TM(o),this.mutability_config=a}},IM=class{constructor(t,e,r){this.id=t,this.amount=e,this.token_properties=TM(r)}},RM=__webpack_require__(8764).Buffer;class PM extends Gu{signerInstance;_publicKey;constructor(t){super(t),this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??=new wM(this.providerUrl)}async getTx(t){const e=await this.getProvider(),r=await e.waitForTransactionWithResult(t,{timeoutSecs:1,checkSuccess:!0}),i=r?.payload;if(!r.success)throw new Error(r?.vm_status??"Unknown Aptos error");if("0x1::coin::transfer"!==i?.function||"0x1::aptos_coin::AptosCoin"!==i?.type_arguments[0]||"Executed successfully"!==r?.vm_status)throw new Error(`Aptos tx ${t} failed validation`);const n="pending_transaction"===r.type;return{to:i.arguments[0],from:r.sender,amount:new me(i.arguments[1]),pending:n,confirmed:!n}}ownerToAddress(t){const e=mn.sha3_256.create();return e.update(RM.from(t)),e.update("\0"),`0x${e.hex()}`}async sign(t){return await this.getSigner().sign(t)}getSigner(){return this.signerInstance??=new eu(this.wallet,this._publicKey)}async verify(t,e,r){return await eu.verify(t,e,r)}async getCurrentHeight(){return new me((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(t,e){const r=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const i=new yM(r,{sender:this.address}),n=await i.build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[e??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new me(t).toNumber()]),s=new pM((t=>{const e=new Uint8Array(64);return new nb.Ed25519Signature(e)}),await this.getPublicKey()).sign(n),o=await r.client.request.request({url:"/transactions/simulate",query:{estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},method:"POST",body:s,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+o[0].gas_unit_price,maxGasAmount:+o[0].max_gas_amount}}async sendTx(t){return(await this.wallet.signAndSubmitTransaction(t)).hash}async createTx(t,e,r){return{txId:void 0,tx:{arguments:[e,new me(t).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??=RM.from((await this.wallet.account()).publicKey.toString().slice(2),"hex")}async ready(){this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const t=await this.getProvider();this._address=await t.lookupOriginalAddress(this.address??"").then((t=>t.toString())).catch((t=>this._address)),66==this._address?.length&&"0"===this._address.charAt(2)&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class CM extends Xu{}class OM extends Xu{async createTx(t,e,r){const i=this.w3signer,n={to:e,from:this.address,value:t.toString(),gasLimit:BigInt(0)},s=await this.provider.estimateGas(n);return n.gasLimit=s,{tx:await i.populateTransaction(n),txId:void 0}}async getTx(t){const e=this.provider,r=await e.getTransaction(t);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new me(r.blockNumber):void 0,amount:new me(r.value.toString()),pending:!r.blockNumber,confirmed:await r.confirmations()>=this.minConfirm}}async ready(){const t=this.wallet;this.provider=t;const e=await t.getSigner();e._signTypedData=async(t,r,i)=>e.signTypedData(t,r,i),t.getSigner=()=>e,this.wallet=t,await super.ready()}}function UM(t,e,r){if("ethereum"===t)switch(e){case"ethersv5":return new CM(r);case"ethersv6":return new OM(r);default:return new Xu(r)}}class NM{irys;constructor(t){this.irys=t}async upload(t,e){return this.irys.uploadWithReceipt(t,e)}async uploadProof(t){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...t}).map((([t,e])=>({name:LM[t],value:e})))})}async getAllProofs(t,e){const r=Object.entries(t).map((([t,e])=>({name:LM[t],values:[e]})));if(0===r.length)throw new Error("Getting a provenance proof requires at least one query element");const i=[];let n=null;do{const t=await this.irys.api.post("/graphql",{query:"\n    query ($tags: [TagFilter!]) {\n      transactions(tags: $tags) {\n        edges {\n          node {\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n    ",variables:{tags:r,limit:e?.limit??null,after:n}},void 0);n=t.data.data.transactions?.pageInfo?.hasNextPage?t.data.data.transactions.pageInfo.endCursor:null,i.push(...t.data.data.transactions.edges.map((t=>t.node)))}while(n);return i}async getProof(t){const e=(await this.getAllProofs(t,{limit:1})).at(0);if(!e)throw new Error(`Unable to locate proof with fields ${JSON.stringify(t)}`);return e}}const LM={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class qM{irys;constructor(t){this.irys=t}async getById(t){const e=(await this.query({ids:[t],limit:1})).at(0);if(!e)throw new Error(`Unable to locate tx with id ${t}`);return e}async getByOwner(t){const e=(await this.query({owners:[t],limit:1})).at(0);if(!e)throw new Error(`Unable to locate tx with owner ${t}`);return e}async getByTag(t,e){const r=(await this.query({tags:[{name:t,values:[e]}],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with tag ${t}:${e}`);return r}async query(t){const e=[];let r=null;do{const i=await this.irys.api.post("/graphql",{query:"\n    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {\n      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {\n        edges {\n          cursor\n          node {\n            address\n            currency\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            signature\n            tags {\n              name\n              value\n            }\n            timestamp\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n    ",variables:{...t,after:r??t.after}},void 0);r=i.data.data.transactions?.pageInfo?.hasNextPage?i.data.data.transactions.pageInfo.endCursor:null,e.push(...i.data.data.transactions.edges.map((t=>t.node)))}while(r);return e}}var zM=__webpack_require__(6146),DM=__webpack_require__(7187);const jM={notReadable:Symbol("not readable"),readable:Symbol("readable"),ended:Symbol("ended"),errored:Symbol("errored")};class HM{_stream;_error;_state=jM.notReadable;_size;_rejections=new Set;get closed(){return this._state===jM.ended}constructor(t,{size:e}={}){this._stream=t,this._size=e;const r=["_handleStreamEnd","_handleStreamError"];for(const t of r)Object.defineProperty(this,t,{configurable:!0,writable:!0,value:this[t].bind(this)});t.once("error",this._handleStreamError),t.once("end",this._handleStreamEnd),t.on("readable",(()=>{this._state=jM.readable}))}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case jM.notReadable:{let t,e;try{t=this._untilReadable(),e=this._untilEnd(),await Promise.race([t.promise,e.promise])}finally{null!=t&&t.close(),null!=e&&e.close()}return this.next()}case jM.ended:return this.close(),{done:!0,value:void 0};case jM.errored:throw this.close(),this._error;case jM.readable:{const t=this._size?this._stream.read(this._size):this._stream.read();return null!==t?{done:!1,value:t}:(this._state=jM.notReadable,await new Promise((t=>setTimeout((t=>t(!0)),0,t))),this.next())}}}_untilReadable(){let t;const e=new Promise(((e,r)=>{t=()=>{this._state=jM.readable,this._rejections.delete(r),e()},this._state,this._stream.once("readable",t),this._rejections.add(r)}));return{close:()=>{null!=t&&this._stream.removeListener("readable",t)},promise:e}}_untilEnd(){let t;const e=new Promise(((e,r)=>{t=()=>{this._state=jM.ended,this._rejections.delete(r),e()},this._stream.once("end",t),this._rejections.add(r)}));return{close:()=>{null!=t&&this._stream.removeListener("end",t)},promise:e}}return(){return this._state=jM.ended,this.next()}throw(t){return this._error=t,this._state=jM.errored,this.next()}close(t){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=jM.ended,this._stream.destroy(t)}_handleStreamError(t){this._error=t,this._state=jM.errored;for(const e of this._rejections)e(t)}_handleStreamEnd(){this._state=jM.ended}get state(){return this._state}}var FM=__webpack_require__(8764).Buffer;class KM extends DM.EventEmitter{tokenConfig;api;uploadID;token;chunkSize;batchSize;paused=!1;isResume=!1;uploadOptions;arbundles;constructor(t,e){super({captureRejections:!0}),this.tokenConfig=t,this.arbundles=this.tokenConfig.irys.arbundles,this.api=e,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(t){return t&&(this.uploadID=t,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(t){if(t<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=t,this}setBatchSize(t){if(t<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=t,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(t,e){return this.uploadOptions=e,this.arbundles.DataItem.isDataItem(t)?this.runUpload(t.getRaw()):this.runUpload(t)}async uploadData(t,e){return this.uploadOptions=e?.upload,this.runUpload(t,{...e})}async runUpload(t,e){let r=this.uploadID;const i=void 0===e,n={"x-chunking-version":"2"};let s;if(r){if(s=await this.api.get(`/chunks/${this.token}/${r}/-1`,{headers:n}),404===s.status)throw new Error("Upload ID not found - your upload has probably expired.");if(ye.checkAndThrow(s,"Getting upload info"),this.chunkSize!=+s.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+s.data.size}).`)}else s=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:n}),ye.checkAndThrow(s,"Getting upload token"),this.uploadID=r=s.data.id;const{max:o,min:a}=s.data;if(this.chunkSize<+a||this.chunkSize>+o)throw new Error(`Chunk size out of allowed range: ${a} - ${o}`);let u=0;const h=(t,e,i)=>new Promise((s=>{$t((async o=>{await this.api.post(`/chunks/${this.token}/${r}/${e}`,t,{headers:{"Content-Type":"application/octet-stream",...n},maxBodyLength:1/0,maxContentLength:1/0}).then((r=>{if(r?.status>=300){const n={res:r,id:i,offset:e,size:t.length};throw this.emit("chunkError",n),402===r?.status&&o(new Error("Not enough funds to send data")),n}this.emit("chunkUpload",{id:i,offset:e,size:t.length,totalUploaded:u+=t.length}),s({o:e,d:r})}))}))})),c=s.data.chunks??[],f=new we.PassThrough;let l=FM.alloc(0),d=!1,p=!0;f.on("end",(()=>d=!0)),f.on("error",(t=>{throw new Error(`Error processing readable: ${t}`)}));const m=async t=>{for(;!d;){if(l.length>=t)return e=FM.from(l.slice(0,t)),l=l.slice(t),e;var e=f.read(t);if(null!==e){if(e.length===t)return e;l=FM.concat([l,e])}else await new Promise((t=>setTimeout((t=>t(!0)),0,t)))}for(;l.length>=t;)return e=FM.from(l.slice(0,t)),l=l.slice(t),e;return p=!1,l};let g,y;if(!i){g=this.arbundles.createData("",this.tokenConfig.getSigner(),{...e,anchor:e?.anchor??Wt.randomBytes(32).toString("base64").slice(0,32)});const t=g.getRaw();y=t.length,f.write(t),u-=t.length}if(FM.isBuffer(t))f.write(t),f.end();else{if(!("pipe"in t))throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");t.pipe(f)}let b=0;const w=new Set;let v,_,M,S=0;if(!i){_=new we.PassThrough;const t=g.getRaw().length;if(this.chunkSize<y)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${y})`);v=await m(this.chunkSize),S++,b+=v.length,_.write(v.slice(t));const e=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(g.signatureType.toString()),g.rawOwner,g.rawTarget,g.rawAnchor,g.rawTags,new HM(_)];M=this.arbundles.deepHash(e)}let E=c.pop();for(;p;){if(this.paused&&await new Promise((t=>this.on("resume",(()=>t(void 0))))),E&&+E[0]-b<=this.chunkSize){const t=E[1],e=await m(t);i||_.write(e),b+=t,E=c.pop(),S++,u+=t;continue}const t=await m(this.chunkSize);for(i||_.write(t);w.size>=this.batchSize;){const[t]=await Promise.race(w);w.delete(t)}const e=(async()=>await h(t,b,++S))().then((t=>[e,t]));w.add(e),b+=t.length}if(_&&_.end(),await Promise.all(w),!i){const t=await M,e=FM.from(await this.tokenConfig.getSigner().sign(t));v.set(e,2),await h(v,0,0)}const A=await this.api.post(`/chunks/${this.token}/${r}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...n},timeout:this.api.config?.timeout??4e5});if(402===A.status)throw new Error("Not enough funds to send data");if(ye.checkAndThrow(A,"Finalising upload",[201]),201===A.status)throw new Error(A.data);return A.data.verify=ye.verifyReceipt.bind({},this.arbundles,A.data.data),this.emit("done",A),A}get completionPromise(){return new Promise((t=>this.on("done",t)))}}var $M=__webpack_require__(8764).Buffer;const WM=5e7;class VM{api;token;tokenConfig;utils;contentTypeOverride;forceUseChunking;arbundles;irysTransaction;constructor(t,e,r,i,n){this.api=t,this.token=r,this.tokenConfig=i,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=e,this.irysTransaction=n}async uploadTransaction(t,e){let r;const i=this.arbundles.DataItem.isDataItem(t);if(this.forceUseChunking||i&&t.getRaw().length>=WM||!i)r=await this.chunkedUploader.uploadTransaction(i?t.getRaw():t,e);else{const{url:e,timeout:i,headers:n}=this.api.getConfig(),s={"Content-Type":"application/octet-stream",...n};if(r=await this.api.post(new URL(`/tx/${this.token}`,e).toString(),t.getRaw(),{headers:s,timeout:i,maxBodyLength:1/0}),201===r.status)throw new Error(r.data)}if(402===r.status)throw new Error("Not enough funds to send data");if(r.status>=400)throw new Error(`whilst uploading Irys transaction: ${r.status} ${r.statusText}`);return r.data.verify=async()=>this.utils.verifyReceipt(r.data),r}async uploadData(t,e){if("string"==typeof t&&(t=$M.from(t)),$M.isBuffer(t)&&t.length<=WM){const r=this.arbundles.createData(t,this.tokenConfig.getSigner(),{...e,anchor:e?.anchor??(0,Wt.randomBytes)(32).toString("base64").slice(0,32)});return await r.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(r,{...e?.upload})).data}return(await this.chunkedUploader.uploadData(t,e)).data}async concurrentUploader(t,e){const r=[],i=e?.logFunction?e?.logFunction:async t=>{},n=e?.concurrency??5,s=await zM.PromisePool.for(t).withConcurrency(n>=1?n:5).handleError((async(t,e)=>{if(r.push(t),"Not enough funds to send data"===t.message)throw t})).process((async(t,r,s)=>{await $t((async s=>{try{const s=await this.processItem(t,e?.itemOptions);return r%n==0&&await i(`Processed ${r} Items`),e?.resultProcessor?await e.resultProcessor({item:t,res:s,i:r}):{item:t,res:s,i:r}}catch(t){throw"Not enough funds to send data"===t?.message&&s(t),t}}),{retries:3,minTimeout:1e3,maxTimeout:1e4})}));return{errors:r,results:s.results}}async processItem(t,e){return this.arbundles.DataItem.isDataItem(t)?this.uploadTransaction(t,{...e?.upload}):this.uploadData(t,e)}async generateManifest(t){const{items:e,indexFile:r}=t,i={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(r){if(!e.has(r))throw new Error(`Unable to access item: ${r}`);i.index={path:r}}for(const[t,r]of e.entries())i.paths[t]={id:r};return i}get chunkedUploader(){return new KM(this.tokenConfig,this.api)}set useChunking(t){"boolean"==typeof t&&(this.forceUseChunking=t)}set contentType(t){this.contentTypeOverride=t}async uploadBundle(t,e){const r=e?.throwawayKey??await this.arbundles.getCryptoDriver().generateJWK(),i=new ln(r),n=t.map((t=>this.arbundles.DataItem.isDataItem(t)?t:this.arbundles.createData(t,i))),s=await this.arbundles.bundleAndSignData(n,i),o=this.arbundles.createData(s.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});return await o.sign(this.tokenConfig.getSigner()),{...await this.uploadTransaction(o,e),txs:n,throwawayKey:r,throwawayKeyAddress:Jt($M.from(await this.arbundles.getCryptoDriver().hash(Jt.toBuffer(Jt(i.publicKey)))))}}}var GM=__webpack_require__(8764).Buffer;class JM extends VM{irys;constructor(t){super(t.api,t.utils,t.token,t.tokenConfig,t.IrysTransaction),this.irys=t}async uploadFile(t,e){const r=e?.tags&&e.tags.some((({name:t})=>"content-type"===t.toLowerCase()))?e?.tags:[...e?.tags??[],{name:"Content-Type",value:t.type}];return this.uploadData(GM.from(await t.arrayBuffer()),{tags:r,...e})}async uploadFolder(t,e){const r=[],i=new Map,n=e?.throwawayKey??await this.irys.arbundles.getCryptoDriver().generateJWK(),s=new ln(n);for(const e of t){const t=e.webkitRelativePath?e.webkitRelativePath:e.name,n=e.tags&&e.tags.some((({name:t})=>"content-type"===t.toLowerCase()))?e.tags:[...e.tags??[],{name:"Content-Type",value:e.type}],o=this.irys.arbundles.createData(GM.from(await e.arrayBuffer()),s,{tags:n});await o.sign(s),r.push(o),i.set(t,o.id)}const o=await this.generateManifest({items:i,indexFile:e?.indexFileRelPath}),a=this.irys.arbundles.createData(JSON.stringify(o),e?.seperateManifestTx?this.irys.tokenConfig.getSigner():s,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...e?.manifestTags??[]]});!0===e?.seperateManifestTx?(await a.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(a,{...e})):(await a.sign(s),r.push(a));const u=await this.uploadBundle(r,{...e});return{...u.data,manifestId:a.id,manifest:o,throwawayKey:u.throwawayKey,throwawayKeyAddress:u.throwawayKeyAddress,txs:u.txs}}}class ZM extends Se{tokenConfig;uploader;uploadFolder;uploadFile;constructor({url:t,token:e,wallet:r,config:n}){switch(t){case void 0:case"node1":t="https://node1.irys.xyz";break;case"node2":t="https://node2.irys.xyz";break;case"devnet":t="https://devnet.irys.xyz"}const s=new URL(t);if(super({url:s,arbundles:i}),this.api=new Ee({url:s,timeout:n?.timeout??1e5,headers:n?.headers}),this.tokenConfig=function(t){switch(t.token){case"ethereum":return UM("ethereum",t.providerName,{irys:t.irys,name:"ethereum",ticker:"ETH",providerUrl:t.providerUrl??"https://cloudflare-eth.com/",wallet:t.wallet});case"matic":return UM("ethereum",t.providerName,{irys:t.irys,name:"matic",ticker:"MATIC",providerUrl:t.providerUrl??"https://polygon-rpc.com",wallet:t.wallet,minConfirm:1});case"arbitrum":return UM("ethereum",t.providerName,{irys:t.irys,name:"arbitrum",ticker:"ETH",providerUrl:t.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:t.wallet});case"bnb":return UM("ethereum",t.providerName,{irys:t.irys,name:"bnb",ticker:"BNB",providerUrl:t.providerUrl??"https://bsc-dataseed.binance.org",wallet:t.wallet});case"avalanche":return UM("ethereum",t.providerName,{irys:t.irys,name:"avalanche",ticker:"AVAX",providerUrl:t.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:t.wallet});case"boba-eth":return UM("ethereum",t.providerName,{irys:t.irys,name:"boba-eth",ticker:"ETH",providerUrl:t.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:t.wallet});case"boba":{const e=new Rg({irys:t.irys,name:"boba",ticker:"BOBA",providerUrl:t.providerUrl??"https://mainnet.boba.network/",contractAddress:t.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:t.wallet});return e.price=async()=>{const t=await Kt.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await ye.checkAndThrow(t,"Getting price data"),!t?.data?.rate)throw new Error(`unable to get price for ${e.name}`);return+t.data.rate},e}case"solana":return new lm({irys:t.irys,name:"solana",ticker:"SOL",providerUrl:t.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:t.wallet});case"near":return new sh({irys:t.irys,name:"near",ticker:"NEAR",providerUrl:t.providerUrl??"https://rpc.mainnet.near.org",wallet:t.wallet});case"aptos":return new PM({irys:t.irys,name:"aptos",ticker:"APTOS",providerUrl:t.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:t.wallet});default:throw new Error(`Unknown/Unsupported token ${t.token}`)}}({irys:this,token:e.toLowerCase(),wallet:r?.provider,providerUrl:n?.providerUrl??r?.rpcUrl,contractAddress:n?.contractAddress,providerName:r?.name}),this.token=this.tokenConfig.name,"devnet.irys.network"===s.host&&!(n?.providerUrl??(r?.rpcUrl||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${s.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new ye(this.api,this.token,this.tokenConfig),this.uploader=new JM(this),this.funder=new Ae(this.utils),this.uploader=new JM(this),this.provenance=new NM(this),this.transactions=new qM(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}const XM=ZM})(),__webpack_exports__})()));
//# sourceMappingURL=bundle.js.map